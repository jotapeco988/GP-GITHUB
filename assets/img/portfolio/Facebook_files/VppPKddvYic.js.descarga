if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }

__d("LSTableSchemas",[],(function(a,b,c,d,e,f){e.exports=[[{name:"sync_groups",id:1,indexes:{},primary_key:["groupId"]},{name:"pending_tasks",id:2,indexes:{},primary_key:["taskId"],auto_increment:!0},{name:"network_requests",id:3,indexes:{},primary_key:["taskQueueName","syncDatabaseId"]},{name:"_user_info",id:4,indexes:{},primary_key:["id"]},{name:"pending_fire_and_forget_tasks",id:5,indexes:{},primary_key:["taskId"],auto_increment:!0},{name:"user_visible_errors",id:6,indexes:{},primary_key:["errorId"],auto_increment:!0}],[{name:"contacts",id:7,indexes:{},primary_key:["id"]},{name:"ig_contact_info",id:176,indexes:{},primary_key:["contactId"]}],[{name:"reactions",id:8,indexes:{},primary_key:["threadKey","messageId","actorId"]},{name:"threads",id:9,indexes:{lastActivityTimestampMs:{keyIds:["lastActivityTimestampMs","threadKey"],unique:!0},parentThreadKeyLastActivityTimestampMs:{keyIds:["parentThreadKey","lastActivityTimestampMs","threadKey"],unique:!0},clientThreadKey:{keyIds:["clientThreadKey","threadKey"],unique:!0}},primary_key:["threadKey"]},{name:"threads_ranges_v2__generated",id:10,indexes:{},primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"]},{name:"messages",id:12,indexes:{optimistic:{keyIds:["offlineThreadingId"],unique:!0},threadKeyPrimarySortKeyMessageId:{keyIds:["threadKey","primarySortKey","messageId"],unique:!0}},primary_key:["threadKey","timestampMs","messageId"]},{name:"messages_ranges_v2__generated",id:13,indexes:{},primary_key:["threadKey","minTimestampMs","minMessageId"]},{name:"participants",id:14,indexes:{threadKeyReadWatermarkTimestampMs:{keyIds:["threadKey","readWatermarkTimestampMs","contactId"],unique:!0}},primary_key:["threadKey","contactId"]},{name:"ctas",id:15,indexes:{},primary_key:["ctaId"]},{name:"attachments",id:16,indexes:{fk_messages:{keyIds:["threadKey","timestampMs","messageId","attachmentFbid"],unique:!0}},primary_key:["threadKey","messageId","attachmentFbid"]},{name:"attachments_ranges_v2__generated",id:17,indexes:{},primary_key:["threadKey","mediaGroup","minTimestampMs"]},{name:"attachment_items",id:18,indexes:{fk_attachments:{keyIds:["threadKey","messageId","attachmentFbid","attachmentIndex"],unique:!0}},primary_key:["attachmentFbid","attachmentIndex"]},{name:"attachment_ctas",id:19,indexes:{fk_attachments:{keyIds:["threadKey","messageId","attachmentFbid","ctaId"],unique:!0}},primary_key:["ctaId"]},{name:"quick_reply_ctas",id:20,indexes:{},primary_key:["threadKey","messageId","ctaId"]},{name:"m_suggestions",id:21,indexes:{},primary_key:["threadKey","timestampMs","suggestionId"]},{name:"rtc_signals",id:22,indexes:{},primary_key:["timestampMs","type_"]},{name:"rtc_ongoing_calls_on_threads_v2",id:23,indexes:{},primary_key:["threadKey"]},{name:"rtc_multiway_call_initiation_conference_names",id:24,indexes:{},primary_key:["threadKey"]},{name:"mailbox_metadata",id:25,indexes:{},primary_key:["id"]},{name:"group_membership_approval_requests",id:26,indexes:{},primary_key:["threadKey","contactId"]},{name:"admin_message_ctas",id:27,indexes:{ctaId:{keyIds:["ctaId"],unique:!0}},primary_key:["threadKey","messageId","ctaId"]},{name:"thread_nullstate",id:28,indexes:{},primary_key:["threadKey"]},{name:"thread_nullstate_ctas",id:29,indexes:{threadKeyCtaId:{keyIds:["threadKey","ctaId"],unique:!0}},primary_key:["ctaId"]},{name:"focus_mode_ctas",id:30,indexes:{},primary_key:["threadKey","messageId","ctaId"]},{name:"messages_optimistic_context",id:31,indexes:{},primary_key:["taskId"]},{name:"threads_optimistic_context",id:32,indexes:{},primary_key:["taskId"]},{name:"messages_status",id:33,indexes:{},primary_key:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"]},{name:"message_requests",id:34,indexes:{},primary_key:["threadKey"]},{name:"folder_metadata",id:35,indexes:{},primary_key:["parentThreadKey"]},{name:"polls",id:38,indexes:{},primary_key:["pollId"]},{name:"poll_options_v2",id:39,indexes:{},primary_key:["pollId","optionId"]},{name:"poll_votes_v2",id:40,indexes:{},primary_key:["pollId","optionId","contactId"]},{name:"pinned_messages_v2",id:155,indexes:{},primary_key:["threadKey","messageId"]},{name:"filtered_threads_ranges_v2__generated",id:159,indexes:{},primary_key:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName"]},{name:"community_folders",id:162,indexes:{},primary_key:["folderId"]},{name:"community_members",id:170,indexes:{},primary_key:["communityId","contactId"]},{name:"community_members_ranges_v2__generated",id:189,indexes:{},primary_key:["communityId","isAdmin","minName"]},{name:"attachment_conversion",id:164,indexes:{},primary_key:["attachmentFbid"]},{name:"saved_messages",id:165,indexes:{},primary_key:["threadKey","messageId"]},{name:"rtc_rooms_on_threads",id:181,indexes:{},primary_key:["threadKey"]},{name:"ig_thread_info",id:194,indexes:{},primary_key:["threadKey"]}],[{name:"media_send_jobs",id:51,indexes:{},primary_key:["offlineAttachmentId"]}],[{name:"typing_indicator",id:52,indexes:{},primary_key:["threadKey","senderId"]}],[{name:"server_search_results",id:65,indexes:{},primary_key:["query","resultId","globalIndex"]},{name:"server_search_sections",id:66,indexes:{},primary_key:["query","globalIndex"]},{name:"search_queries",id:67,indexes:{},primary_key:["query"]},{name:"universal_search_recent_searches",id:68,indexes:{},primary_key:["resultId"]},{name:"message_search_results",id:69,indexes:{},primary_key:["type_","query","threadKey","globalIndex"]},{name:"message_search_queries",id:70,indexes:{},primary_key:["type_","query","threadKeyV2"]}],[{name:"contact_upload_settings",id:74,indexes:{},primary_key:["userid"]},{name:"gdpr_settings",id:75,indexes:{},primary_key:["userid"]},{name:"presence_settings",id:187,indexes:{},primary_key:["userId"]},{name:"persistent_menu_items",id:77,indexes:{},primary_key:["threadKey","ctaId"]},{name:"video_chat_links_joining",id:78,indexes:{optimistic:{keyIds:["optimisticClientToken"],unique:!0}},primary_key:["url","optimisticClientToken"]},{name:"video_chat_links_attempted_joiners",id:79,indexes:{},primary_key:["userId","url"]},{name:"cowatch_sessions",id:80,indexes:{},primary_key:["cowatchSessionId"]},{name:"self_profile",id:81,indexes:{},primary_key:["userId"]},{name:"pinned_threads",id:82,indexes:{pinnedTimestamp:{keyIds:["pinnedTimestamp","threadKey"],unique:!0}},primary_key:["threadKey"]},{name:"messaging_settings",id:83,indexes:{},primary_key:["id"]},{name:"reachability_settings",id:148,indexes:{},primary_key:["audience"]},{name:"feature_limits",id:150,indexes:{},primary_key:["type_"]},{name:"emoji_sets",id:151,indexes:{},primary_key:["categoryIdx","emojiIdx","type_"]},{name:"epd_cookie_settings",id:163,indexes:{},primary_key:[]},{name:"cm_community_list",id:166,indexes:{},primary_key:["communityId"]},{name:"cm_channel_list",id:167,indexes:{},primary_key:["communityId","threadId"]},{name:"cm_category_list",id:182,indexes:{},primary_key:["communityId","categoryId"]},{name:"notification_settings",id:175,indexes:{},primary_key:["id"]},{name:"encrypted_backups_status_trigger",id:195,indexes:{},primary_key:["pk"],auto_increment:!0}],[{name:"payment_type_paypal",id:85,indexes:{},primary_key:["paymentCredentialId"]},{name:"payment_type_card",id:86,indexes:{},primary_key:["paymentCredentialId"]},{name:"payment_type_bank_v2",id:88,indexes:{},primary_key:["paymentMethodId"]},{name:"payment_method",id:89,indexes:{},primary_key:["paymentMethodId"]},{name:"new_payment_credential_option",id:90,indexes:{},primary_key:["credentialType"]},{name:"paypal_funding_options",id:91,indexes:{},primary_key:["optionId"]},{name:"payments_eligibility",id:92,indexes:{},primary_key:["userId"]},{name:"payments_ofac_blacklisted_countries",id:93,indexes:{},primary_key:["isoCountryCode"]},{name:"p2m_invoice",id:94,indexes:{},primary_key:["orderId"]},{name:"p2m_invoice_attachment",id:95,indexes:{},primary_key:["orderId","productItemId"]},{name:"payment_price_list_item",id:96,indexes:{},primary_key:["orderId","id"]},{name:"p2m_charge",id:97,indexes:{},primary_key:["orderId"]},{name:"payment_p2p_risk_verification",id:98,indexes:{},primary_key:["requestId","transactionId"]},{name:"payment_transaction_v2",id:99,indexes:{optimistic:{keyIds:["optimisticTransactionId"],unique:!0}},primary_key:["timestampMs","transactionId"]},{name:"p2p_request_v2",id:100,indexes:{optimistic:{keyIds:["optimisticTransactionId"],unique:!0}},primary_key:["timestampMs","transactionId"]},{name:"p2p_transfer_v2",id:101,indexes:{optimistic:{keyIds:["optimisticTransactionId"],unique:!0}},primary_key:["timestampMs","transactionId"]},{name:"transaction_history",id:102,indexes:{},primary_key:["transactionId"]},{name:"payments_transaction_details_core",id:103,indexes:{},primary_key:["transactionId"]},{name:"payments_transaction_details_ctas",id:104,indexes:{},primary_key:["transactionId","ctaId"]},{name:"payments_transaction_details_rows",id:105,indexes:{},primary_key:["transactionId","rowOrder"]},{name:"payment_user_auth",id:106,indexes:{},primary_key:["userId"]},{name:"payment_client_auth_token",id:107,indexes:{},primary_key:["userId","deviceId","appId"]},{name:"payment_auth_request_results",id:108,indexes:{},primary_key:["requestId"]},{name:"payment_server_request_results",id:109,indexes:{},primary_key:["requestId"]},{name:"payment_pin_verification_results",id:113,indexes:{},primary_key:["requestId"]}],[{name:"connectivity_status",id:114,indexes:{},primary_key:["statusId"],auto_increment:!0},{name:"user_visible_network_connectivity_error",id:115,indexes:{},primary_key:["statusId"],auto_increment:!0}],[{name:"thread_themes",id:116,indexes:{},primary_key:["fbid"]},{name:"gradient_colors",id:117,indexes:{},primary_key:["themeFbid","gradientIndex"]}],[{name:"in_thread_banner",id:118,indexes:{},primary_key:["threadKey","bannerId"]},{name:"in_thread_banner_ctas",id:119,indexes:{},primary_key:["bannerId","ctaId"]},{name:"in_thread_banner_overflow_menu",id:120,indexes:{},primary_key:["threadKey","bannerId"]}],[{name:"stickers",id:121,indexes:{stickerPackId:{keyIds:["stickerPackId","stickerId"],unique:!0}},primary_key:["stickerId"]},{name:"sticker_packs",id:122,indexes:{},primary_key:["packId"]},{name:"sticker_search_results",id:123,indexes:{},primary_key:["resultIndex","query"]},{name:"sticker_search_queries",id:124,indexes:{},primary_key:["query"]},{name:"sticker_search_featured_tags",id:125,indexes:{},primary_key:["tagIndex"]},{name:"sticker_to_collection",id:126,indexes:{},primary_key:["stickerId","collectionId"]},{name:"sticker_pack_details",id:127,indexes:{},primary_key:["packId"]},{name:"sticker_store_pack_indices",id:128,indexes:{},primary_key:["packId"]}],[{name:"forward_content",id:129,indexes:{},primary_key:["value","type_"]}],[{name:"linked_groups",id:130,indexes:{threadKey:{keyIds:["threadKey"],unique:!0}},primary_key:["id"]}],[{name:"ranking_scores",id:134,indexes:{scoreTypeContactId:{keyIds:["scoreType","contactId"],unique:!0}},primary_key:["contactId","scoreType"]},{name:"ranking_requests",id:135,indexes:{},primary_key:["scoreType"]},{name:"value_model_rules",id:136,indexes:{},primary_key:["product","ruleIndex"]},{name:"value_model_features",id:137,indexes:{},primary_key:["feature"]},{name:"value_model_output",id:138,indexes:{},primary_key:["product","contactId"]}],[{name:"story_buckets",id:53,indexes:{optimistic:{keyIds:["ownerId","bucketType"],unique:!0}},primary_key:["bucketId"]},{name:"stories",id:54,indexes:{optimistic:{keyIds:["optimisticClientId"],unique:!0}},primary_key:["storyId"]},{name:"story_viewers",id:55,indexes:{},primary_key:["storyId","viewerContactId","interactionType"]},{name:"story_reactions",id:56,indexes:{optimistic:{keyIds:["optimisticClientId"],unique:!0}},primary_key:["reactionId"]},{name:"story_ad_unit",id:57,indexes:{},primary_key:["adPosition","clientToken"]},{name:"story_ad_card",id:58,indexes:{},primary_key:["adPosition","clientToken","cardId"]},{name:"story_ad_ctas",id:59,indexes:{},primary_key:["ctaId"]},{name:"story_overlays",id:60,indexes:{},primary_key:["storyId","storyOverlayId"]},{name:"story_buckets_paginated_queries",id:61,indexes:{},primary_key:["queryId"]},{name:"status",id:62,indexes:{optimistic:{keyIds:["optimisticClientId"],unique:!0}},primary_key:["statusId"]},{name:"rooms",id:63,indexes:{optimistic:{keyIds:["optimisticClientToken"],unique:!0}},primary_key:["roomId"]},{name:"room_participants",id:64,indexes:{optimistic:{keyIds:["roomId","participantId"],unique:!0}},primary_key:["roomId","participantId","type_"]}],[{name:"live_location_sharers",id:149,indexes:{},primary_key:["threadKey","userId"]}],[{name:"mi_act_mapping_table",id:173,indexes:{fk_threads:{keyIds:["serverThreadKey"],unique:!0},chat_id:{keyIds:["clientThreadPk"],unique:!0},jid:{keyIds:["jid"],unique:!0}},primary_key:["serverThreadKey","clientThreadPk","jid"]},{name:"media_staging",id:161,indexes:{},primary_key:["offlineAttachmentId"]}],[{name:"data_trace_meta",id:153,indexes:{},primary_key:["traceId"]},{name:"data_trace_addon",id:154,indexes:{},primary_key:["addonId"],auto_increment:!0}],[{name:"ad_context",id:160,indexes:{},primary_key:["adId"]}],[{name:"thread_proactive_warning_settings",id:183,indexes:{},primary_key:["threadKey"]}],[{name:"presence_states",id:186,indexes:{},primary_key:["contactId"]}],[{name:"available_reactions",id:188,indexes:{},primary_key:["emojiIdx"]}],[{name:"pending_backups_context_v2",id:177,indexes:{fk_pending_tasks:{keyIds:["pendingBackupTaskId"],unique:!0}},primary_key:["pk"],auto_increment:!0},{name:"secure_encrypted_backups_client_state",id:168,indexes:{},primary_key:["backupId"]},{name:"secure_encrypted_backups_epochs",id:169,indexes:{fk_secure_encrypted_backups_client_state:{keyIds:["backupId","epochId"],unique:!0}},primary_key:["epochId"]},{name:"encrypted_backups",id:172,indexes:{},primary_key:["pk"],auto_increment:!0},{name:"secure_encrypted_backups_generated_recovery_code",id:174,indexes:{},primary_key:["pk"]},{name:"secure_encrypted_backups_recovery_code_status",id:178,indexes:{},primary_key:["pk"]},{name:"secure_recovery_code_data",id:179,indexes:{fk_pending_tasks:{keyIds:["taskId"],unique:!0}},primary_key:["taskId"]},{name:"secure_encrypted_backups_message_thread_id_context",id:180,indexes:{fk_pending_tasks:{keyIds:["taskId"],unique:!0}},primary_key:["taskId","listId"]},{name:"encrypted_backups_virtual_devices",id:184,indexes:{},primary_key:["pk"],auto_increment:!0},{name:"device_metadata",id:185,indexes:{},primary_key:["pk"]},{name:"encrypted_backup_restore_task_payload_context",id:190,indexes:{},primary_key:["taskId"]}],[{name:"secure_encrypted_backups_devices",id:191,indexes:{},primary_key:["deviceId"]},{name:"secure_encrypted_backups_device_supported_versions",id:192,indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{keyIds:["deviceId"],unique:!0}},primary_key:["deviceId","supportedVersion"]}],[{name:"e2ee_dummy_table_for_sync",id:171,indexes:{},primary_key:["placeholder"]},{name:"cutover_threads",id:193,indexes:{},primary_key:["openThreadId"]}]]}),null);
__d("MWChatMarkAllAsSeenMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="2781738478526229"}),null);
__d("MWChatMarkAllAsSeenMutation.graphql",["MWChatMarkAllAsSeenMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"ViewerMessagesMarkAllSeenResponsePayload",kind:"LinkedField",name:"viewer_messages_mark_all_seen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatMarkAllAsSeenMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatMarkAllAsSeenMutation",selections:c},params:{id:b("MWChatMarkAllAsSeenMutation_facebookRelayOperation"),metadata:{},name:"MWChatMarkAllAsSeenMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometBlueBridgeContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("convertToCometQuicklingURI",["ConstUriUtils","Env","URI","persistentQueryParams"],(function(a,b,c,d,e,f,g){"use strict";b=new(c("URI"))(String(document.location));var h=b.getOrigin();e=b.getQueryData();var i=Object.entries(e).reduce(function(a,b){var d=b[0];b=b[1];if(d==="sk")return a;c("persistentQueryParams").find(function(a){return a===d})&&(a[d]=b);return a},{});function j(a,b,d){var e=a.indexOf("?")!==-1?"&":"?";e=""+a+e+"cquick="+b+"&ctarget="+h+"&cquick_token="+((a=c("Env").compat_iframe_token)!=null?a:"");d&&(e+="&noCoBLog=true");return e}function a(a,b,e){var f;e===void 0&&(e=!1);var g=d("ConstUriUtils").getUri(a);if(g==null)return j(a,b,e);f=new Map([].concat(Object.entries({cquick:b,cquick_token:(f=c("Env").compat_iframe_token)!=null?f:"",ctarget:h}),Object.entries(i)));e&&f.set("noCoBLog","true");g=g.addQueryParams(f);return g==null?j(a,b,e):g.toString()}g["default"]=a}),98);
__d("getCompatIframeOrigin",["ConstUriUtils","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=document.location.origin,e=d("ConstUriUtils").getUri(b);if(e==null){c("FBLogger")("comet_infra").mustfix("Failed to parse the origin `%s`",b);return b}b=e.getSubdomain();if(b==="comet"||b==="www"){b=e.setSubDomain(a);if(b!=null)return b.toString().slice(0,-1)}return e.toString().slice(0,-1)}g["default"]=a}),98);
__d("getMessageEventString",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.data;if(typeof a==="object"){a=a==null?void 0:a[b];if(typeof a==="string")return a}return""}f["default"]=a}),66);
__d("CometCompatBroker",["BaseEventEmitter","CometAltpayJsSdkIframeAllowedDomains","ConstUriUtils","FBLogger","JSScheduler","convertToCometQuicklingURI","getCompatIframeOrigin","getMessageEventString"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=d("ConstUriUtils").getUri(a);if(b==null){c("FBLogger")("comet_infra").mustfix("Failed to parse the origin `%s`",a);return!1}a=["apps","secure","www"].some(function(a){a=d("ConstUriUtils").getUri(c("getCompatIframeOrigin")(a));return a==null?!1:b.isSameOrigin(a)});if(a)return!0;a=d("ConstUriUtils").getUri(document.location.origin.replace(/facebook\.com/i,"messenger.com"));return a?b.isSameOrigin(a):!1}function i(a){var b=d("ConstUriUtils").getUri(a);if(b==null){c("FBLogger")("comet_infra").mustfix("Failed to parse the origin `%s`",a);return!1}a=c("CometAltpayJsSdkIframeAllowedDomains").allowed_domains;if(a==null||a.length<=0)return!1;a=a.some(function(a){a=d("ConstUriUtils").getUri(a);return a==null?!1:b.isSameOrigin(a)});return a?!0:!1}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$CometCompatBroker1=null,e.$CometCompatBroker2="",e.$CometCompatBroker3=!1,e.$CometCompatBroker4=null,e.$CometCompatBroker5=!1,e.$CometCompatBroker6=function(a){d("JSScheduler").scheduleNormalPriCallback(function(){var b=c("getMessageEventString")(a,"compatAction");if(b!==""){e.emit(b,a);return}c("FBLogger")("compat").mustfix("Invalid MessageEvent payload received")})},e.cleanup=function(){window.removeEventListener("message",e.$CometCompatBroker4),e.$CometCompatBroker3=!1},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.init=function(a,b,c){var d=this;c===void 0&&(c=!1);this.$CometCompatBroker2=b;this.$CometCompatBroker5=c;this.$CometCompatBroker4=function(b){d.setupMessageChannel(b,a)};this.$CometCompatBroker3||(window.addEventListener("message",this.$CometCompatBroker4),this.$CometCompatBroker3=!0)};e.sendChildFrameMessage=function(a){this.$CometCompatBroker1&&this.$CometCompatBroker1.postMessage(babelHelpers["extends"]({},a))};e.sendChildFrameParams=function(a){this.sendChildFrameMessage(babelHelpers["extends"]({},a,{uri:c("convertToCometQuicklingURI")(a.uri,this.$CometCompatBroker2)}))};e.setupMessageChannel=function(a,b){var d=c("getMessageEventString")(a,"compatAction"),e=c("getMessageEventString")(a,"iframeKey");(this.$CometCompatBroker5&&i(a.origin)||h(a.origin))&&d==="CompatSetup"&&e===this.$CometCompatBroker2&&(this.$CometCompatBroker1&&this.$CometCompatBroker1.close(),a.ports!=null&&Array.isArray(a.ports)&&(this.$CometCompatBroker1=a.ports[0],this.$CometCompatBroker1.onmessage=this.$CometCompatBroker6,b()))};return b}(c("BaseEventEmitter"));g["default"]=a}),98);
__d("MWChatMarkAllAsSeenMutation",["CometRelay","MWChatMarkAllAsSeenMutation.graphql","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("MWChatMarkAllAsSeenMutation.graphql");function j(a){a=a.get(d("relay-runtime").VIEWER_ID);if(a==null)return;a=a.getLinkedRecord("message_threads");if(a==null)return;var b=a.getValue("unseen_count");if(typeof b!=="number")return;a.setValue(0,"unseen_count")}function a(a,b,c,e){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c,onError:e,optimisticUpdater:function(a){j(a)},updater:function(a){j(a)},variables:b})}g["default"]=a}),98);
__d("getCompatIframeSource",["ConstUriUtils","convertToCometQuicklingURI","getCompatIframeOrigin"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){e===void 0&&(e=!1);var f=d("ConstUriUtils").getUri(a);f=(f=f!=null?(f=f.getUnqualifiedUri())==null?void 0:f.toString():a)!=null?f:a;a=c("getCompatIframeOrigin")("www");return""+a+c("convertToCometQuicklingURI")(f,b,e)}g["default"]=a}),98);
__d("LogCometCanvasAppTimeSpentFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743833");c=b("FalcoLoggerInternal").create("log_comet_canvas_app_time_spent",a);e.exports=c}),null);
__d("useCompatCanvasAppListener",["LogCometCanvasAppTimeSpentFalcoEvent","WebSession","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){var e=b.priority;h(function(){a.addListener("log_canvas_app_time_spent",function(a){a=a.data;var b={appID:""+a.appID,endTime:a.currentTime,startTime:a.lastOpenTime,webSessionId:d("WebSession").getId()};e==="HIGH"?c("LogCometCanvasAppTimeSpentFalcoEvent").logImmediately(function(){return b}):c("LogCometCanvasAppTimeSpentFalcoEvent").log(function(){return b})});return function(){a.removeAllListeners("log_canvas_app_time_spent")}},[e,a])}g["default"]=a}),98);
__d("getMessageEventBoolean",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.data;if(typeof a==="object"){a=a==null?void 0:a[b];if(typeof a==="boolean")return a}return!1}f["default"]=a}),66);
__d("MWChatOpenTabForUser.bs",["cr:12118"],(function(a,b,c,d,e,f){"use strict";a=b("cr:12118").useHook;f.useHook=a}),null);
__d("useCompatChatTabListener",["FBLogger","getMessageEventBoolean","getMessageEventString","react","useMWChatOpenTabForPage","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=c("useMWChatOpenTabForUser")("compat"),d=b[0];b[1];var e=c("useMWChatOpenTabForPage")("compat");h(function(){a.addListener("startchat",function(a){var b=c("getMessageEventString")(a,"tabId");a=c("getMessageEventBoolean")(a,"isPage");b!==""?a?e(b):d(b):c("FBLogger")("CometMessenger").mustfix("No id in useCompatChatTabListener")});return function(){return a.removeAllListeners("startchat")}},[a,d,e])}g["default"]=a}),98);
__d("useCompatClickEventDispatcher",["useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("useLayoutEffect_SAFE_FOR_SSR")(function(){var b=a.current;if(b==null)return;var c,d=function(){c&&c();try{var a,d=(a=b.contentDocument)!=null?a:b.contentWindow.document,e=function(a){var c;a=document.createEvent("HTMLEvents");a.initEvent("click",!0,!1);(c=b.parentElement)==null?void 0:c.dispatchEvent(a)};d.addEventListener("click",e,{capture:!0});c=function(){d.removeEventListener("click",e,{capture:!0})}}catch(a){}};b.addEventListener("load",d);return function(){b.removeEventListener("load",d),c&&c()}},[a])}g["default"]=a}),98);
__d("useCompatDarkModeListener",["react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=c("useCurrentDisplayMode")()==="dark";h(function(){a&&a.sendChildFrameMessage({compatAction:"dark-mode",enabled:String(b)})},[a,b])}g["default"]=a}),98);
__d("useCompatDocumentFocusChange",["clearInterval","react","recoverableViolation","setInterval","useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a){var b=c("useCurrentRoute")(),d=i(null);h(function(){var b=null,e=a.addListener("subscribe_document_focus_change",function(){if(b!=null){c("recoverableViolation")("Received multiple subscribe_document_focus_change messages from the page","comet_infra");return}function e(){var b=document.hasFocus();d.current!==b&&(d.current=b,a.sendChildFrameMessage({compatAction:"document_focus_change",focused:String(document.hasFocus())}))}b=c("setInterval")(e,1e3)});return function(){e.remove(),b!=null&&c("clearInterval")(b)}},[a,b])}g["default"]=a}),98);
__d("useCompatReloadListener",["react","useCometRouterDispatcher","useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b){var d=c("useCometRouterDispatcher")(),e=b.forceSelf,f=c("useCurrentRoute")();h(function(){a.addListener("reload",function(a){a=e?{target:"self"}:{};f&&(d&&d.goTo(f,a))});return function(){return a.removeAllListeners("reload")}},[d,a,e,f])}g["default"]=a}),98);
__d("useCompatRouteListener",["ConstUriUtils","HiddenSubtreePassiveContext","URI","getMessageEventBoolean","getMessageEventString","gkx","goForceFullPageRedirectTo","react","useCometRouterDispatcher","useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect;function a(a,b){var e=c("useCometRouterDispatcher")(),f=b.forceSelf,g=b.noMaintain,j=h(c("HiddenSubtreePassiveContext")),k=c("useCurrentRoute")();i(function(){e&&a.addListener("route",function(a){if(j.getCurrentState().hidden)return;var b=c("getMessageEventBoolean")(a,"fullPageReload"),h=new(c("URI"))(c("getMessageEventString")(a,"uri")).removeQueryData(["cquick","ctarget","cquick_token"]);if(!h.isSameOrigin()||b){c("goForceFullPageRedirectTo")(h.toString());return}b=h.getUnqualifiedURI();h=b.toString();var i=c("getMessageEventString")(a,"maintainKey");a=c("getMessageEventBoolean")(a,"replace");if(!Boolean(i)||g){i=f?{replace:a,target:"self"}:{replace:a};e.go(h,i)}else{i={replace:a,target:"self"};if(k){a=d("ConstUriUtils").getUri(k.url);b=b.getPath().startsWith("/messages")?"messenger":c("gkx")("1224637")&&b.getPath().startsWith("/settings")&&(a==null?void 0:a.getPath().startsWith("/settings"))?k.tabKey:void 0;a=babelHelpers["extends"]({},k,{tabKey:b,url:h});e.goTo(a,i)}else e.go(h,i)}});return function(){return a.removeAllListeners("route")}},[e,a,f,j,g,k])}g["default"]=a}),98);
__d("useCompatTimeSpentBitArrayListener",["CometTimeSpentBitArrayLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){h(function(){a.addListener("update_time_spent_bit_array_from_boc",function(a){a=a.data;d("CometTimeSpentBitArrayLogger").updateTimeSpentArray(a.eventTimeInMs)});return function(){a.removeAllListeners("update_time_spent_bit_array_from_boc")}},[a])}g["default"]=a}),98);
__d("CometFullPageCompatRoot.react",["BaseViewportMarginsContext","CometBlueBridgeContext","CometCompatBroker","CometDOMOnlyBoundary.react","CometHeroHoldTrigger.react","CometOnRefresh.react","CometRelay","CometRouteRenderType","CometRouteURL","CurrentUser","FBLogger","InteractionTracingMetrics","MWChatMarkAllAsSeenMutation","clearTimeout","cometUniqueID","cr:683059","getCompatIframeSource","react","setTimeout","useCompatCanvasAppListener","useCompatChatTabListener","useCompatClickEventDispatcher","useCompatDarkModeListener","useCompatDocumentFocusChange","useCompatReloadListener","useCompatRouteListener","useCompatTimeSpentBitArrayListener","useCurrentDisplayMode","useCurrentRoute","useLayoutEffect_SAFE_FOR_SSR","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useRef,m=e.useState;function a(a){var e=a.routeProps.maintainKey,f=c("useCurrentDisplayMode")();f=f==="dark";var g=j(c("CometBlueBridgeContext")),n=c("usePrevious")(e),o=c("useCurrentRoute")(),p=d("CometRouteURL").useRouteURL(),q=(o=o==null?void 0:o.routePath)!=null?o:p;g&&c("FBLogger")("BlueOnComet").mustfix("Blue on Comet is not allowed in Comet on Blue, was trying to load "+q);o=m(c("cometUniqueID")());var r=o[0],s=o[1],t=c("getCompatIframeSource")(p,r,g),u=l(null);o=m(t);g=o[0];var v=o[1],w=l(null),x=l(null);o=m(!0);var y=o[0],z=o[1];c("useLayoutEffect_SAFE_FOR_SSR")(function(){b("cr:683059")&&(b("cr:683059").addMarkerPoint("BoC_start"),w.current=b("cr:683059").holdTrigger(r),x.current=c("setTimeout")(function(){w.current&&w.current(),w.current=null},6e4),b("cr:683059").addAnnotation("routePath",q));z(!1);return function(){w.current&&w.current()}},[r,g,q]);o=m(new(c("CometCompatBroker"))());var A=o[0],B=d("CometRelay").useRelayEnvironment(),C=l(null);o=j(c("BaseViewportMarginsContext"));var D=i(function(){s(c("cometUniqueID")())},[s]);d("CometOnRefresh.react").useOnRefresh(D);D=i(function(){b("cr:683059")&&(b("cr:683059").addVisualElement(C.current,"BoCIframe"),b("cr:683059").addMarkerPoint("BoC_end"),c("clearTimeout")(x.current),w.current&&w.current(),w.current=null),z(!1)},[C,w]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){A.init(function(){},r);return A.cleanup},[A,r,g]);c("useCompatRouteListener")(A,{forceSelf:!1,noMaintain:!1});c("useCompatReloadListener")(A,{forceSelf:!0});c("useCompatCanvasAppListener")(A,{priority:c("CurrentUser").isLoggedIn()?"HIGH":"LOW"});c("useCompatDocumentFocusChange")(A);c("useCompatTimeSpentBitArrayListener")(A);c("useCompatChatTabListener")(A);c("useCompatDarkModeListener")(A);var E=a.customCompatEventHandler;k(function(){if(E)return E(A)},[A,E]);k(function(){if(p.startsWith("/messages")){c("InteractionTracingMetrics").currentInteractionLogger().addGlobalMetadata("afterMessengerLoaded",1);if(!t.includes("/t/")&&u.current!=null&&u.current.includes("/t/"))return}t!==u.current&&(Boolean(e)&&e===n?A.sendChildFrameParams({compatAction:"transitionpage",rel:"",uri:t}):v(t));u.current=t},[A,t,e,n,p]);k(function(){if(p.startsWith("/messages")){var a=String(Date.now());c("MWChatMarkAllAsSeenMutation")(B,{input:{actor_id:c("CurrentUser").getID(),precise_timestamp:a}})}},[B,p]);c("useCompatClickEventDispatcher")(C);a=p.includes("/groups/")&&p.includes("/chats/");a=p.startsWith("/messages")||a;return h.jsx("div",{className:"ina5je9e d2edcug0 datstx6m",children:h.jsxs(c("CometDOMOnlyBoundary.react"),{children:[h.jsx(c("CometHeroHoldTrigger.react"),{description:"BoC iframe",hold:y}),h.jsx("iframe",{className:"k4urcfbm jgljxmt5 a8c37x1j izx4hr6d humdl8nn bn081pho gcieejh5"+(f&&!a?" esnais5j":"")+(d("CometRouteRenderType").useIsPushView()&&o.top===0?" nznu9b0o":""),onError:D,onLoad:D,ref:C,src:g,tabIndex:-1},g)]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseToastAnimationInternal.react",["react","stylex","useFadeEffect","useMergeRefs","useToasterStateManager","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j=100,k={mount:{opacity:"pedkr2u6",transform:"g3zh7qmp",transitionDuration:"pc15xi3s",transitionTimingFunction:"ilcmz9jb"},root:{opacity:"b5wmifdl",transform:"f2tghaqp",transitionDuration:"s1992sns",transitionProperty:"r5qslco7",transitionTimingFunction:"nf1dmkjp"}};function a(a){var b=a.children,d=a.expired;d=d===void 0?!1:d;var e=a.id,f=a.position;a=a.xstyle;var g=c("useToasterStateManager")(),l=h.Children.only(b);b=i(function(){g.resetTimer(e)},[e,g]);var m=i(function(){g.stopTimer(e)},[e,g]),n=i(function(){g.shown(e)},[e,g]),o=i(function(){g.hidden(e)},[e,g]),p=i(function(a){l.props.onActionPress!=null&&l.props.onActionPress(a),a.defaultPrevented||g.expire(e)},[l.props,e,g]);o=c("useVisibilityObserver")({onHidden:o,onVisible:n,options:{activityMonitorOverride:null}});n=c("useFadeEffect")(!d);d=n[0];var q=n[1];n=n[2];n=c("useMergeRefs")(n,o);return d?h.jsx("li",{className:c("stylex")(k.root,q&&k.mount,a),onMouseEnter:m,onMouseLeave:b,ref:n,style:{bottom:j*f},children:h.cloneElement(l,{onActionPress:p})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseToasterView.react",["BaseToasterStateManager","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("BaseToasterStateManager").getInstance();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={visibleToasts:[]},b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromProps=function(a,b){b=b!=null?b.visibleToasts.slice(0,a.maxVisible):[];var c=0,d=a.filterToasts,e=a.toasterState,f={},g=d!=null?Object.keys(e).filter(function(a){var b,c=e[a];f[a]=c;var g=c==null?void 0:c.shown;b=c==null?void 0:(b=c.value)==null?void 0:(b=b.type)==null?void 0:b.name;if(c==null||b==null)return!0;if(d.has(b)&&!g){i.expire(a);return!1}}):Object.keys(e),h=b.reduce(function(a,b){b!=null&&a.add(b.id);return a},new Set()),j=0;while(c<a.maxVisible){var k=b[c],l=Object.keys(f).length>0?f:a.toasterState;if(k!=null){l=Object.prototype.hasOwnProperty.call(l,k.id);if(l){l=e[k.id];b[c]={expired:l.expired,id:l.id,toast:l.value};c++;continue}else b[c]=null}k=null;while(k==null&&j<g.length){l=g[j++];var m=h.has(l);m||(k=a.toasterState[l])}k!=null&&(b[c]={expired:k.expired,id:k.id,toast:k.value});c++}return{visibleToasts:b}};var c=b.prototype;c.render=function(){var a=this;return h.jsx("ul",{className:this.props.className,children:this.state.visibleToasts.map(function(b,c){return b!=null?a.props.children(b.toast,b.id,b.expired,c):null})})};return b}(h.PureComponent);a.defaultProps={maxVisible:1};g["default"]=a}),98);
__d("nativePromiseRegeneratorRuntime",[],(function(a,b,c,d,e,f){"use strict";var g=Object.prototype.hasOwnProperty;b=typeof Symbol==="function"?Symbol:{};var h=b.iterator||"@@iterator";c=b.asyncIterator||"@@asyncIterator";var i=e.exports;function j(a,b,c,d){b=Object.create((b||q).prototype);d=new A(d||[]);b._invoke=w(a,c,d);return b}i.wrap=j;function k(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}var l="suspendedStart",m="suspendedYield",n="executing",o="completed",p={};function q(){}function r(){}function s(){}var t=s.prototype=q.prototype;r.prototype=t.constructor=s;s.constructor=r;r.displayName="GeneratorFunction";function a(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}v.prototype[c]=function(){return this};i.isGeneratorFunction=function(a){a=typeof a==="function"&&a.constructor;return a?a===r||(a.displayName||a.name)==="GeneratorFunction":!1};i.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,s):Object.assign(a,s);a.prototype=Object.create(t);return a};i.awrap=function(a){return new u(a)};function u(a){this.arg=a}function v(a){function b(b,e){var f=a[b](e);b=f.value;return b instanceof u?window.Promise.resolve(b.arg).then(c,d):window.Promise.resolve(b).then(function(a){f.value=a;return f})}typeof process==="object"&&process.domain&&(b=process.domain.bind(b));var c=b.bind(a,"next"),d=b.bind(a,"throw");b.bind(a,"return");var e;function f(a,c){var d=e?e.then(function(){return b(a,c)}):new window.Promise(function(d){d(b(a,c))});e=d["catch"](function(a){});return d}this._invoke=f}a(v.prototype);i.async=function(a,b,c,d){var e=new v(j(a,b,c,d));return i.isGeneratorFunction(b)?e:e.next().then(function(a){return a.done?a.value:e.next()})};function w(a,b,c){var d=l;return function(e,f){if(d===n)throw new Error("Generator is already running");if(d===o){if(e==="throw")throw f;return C()}while(!0){var g=c.delegate;if(g){if(e==="return"||e==="throw"&&g.iterator[e]===void 0){c.delegate=null;var h=g.iterator["return"];if(h){h=k(h,g.iterator,f);if(h.type==="throw"){e="throw";f=h.arg;continue}}if(e==="return")continue}h=k(g.iterator[e],g.iterator,f);if(h.type==="throw"){c.delegate=null;e="throw";f=h.arg;continue}e="next";f=void 0;var i=h.arg;if(i.done)c[g.resultName]=i.value,c.next=g.nextLoc;else{d=m;return i}c.delegate=null}if(e==="next")d===m?c.sent=f:c.sent=void 0;else if(e==="throw"){if(d===l){d=o;throw f}c.dispatchException(f)&&(e="next",f=void 0)}else e==="return"&&c.abrupt("return",f);d=n;h=k(a,b,c);if(h.type==="normal"){d=c.done?o:m;var i={value:h.arg,done:c.done};if(h.arg===p)c.delegate&&e==="next"&&(f=void 0);else return i}else h.type==="throw"&&(d=o,e="throw",f=h.arg)}}}a(t);var x=!1;i.defineGeneratorMethods=function(){if(x)return;x=!0;t[h]=function(){return this};t.toString=function(){return"[object Generator]"}};i.defineGeneratorMethods();function y(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function z(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function A(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(y,this),this.reset(!0)}i.keys=function(a){var b=[];for(var c in a)b.push(c);b.reverse();return function c(){while(b.length){var d=b.pop();if(d in a){c.value=d;c.done=!1;return c}}c.done=!0;return c}};function B(a){if(a){var b=a[h];if(b)return b.call(a);if(typeof a.next==="function")return a;if(!isNaN(a.length)){var c=-1;b=function b(){while(++c<a.length)if(g.call(a,c)){b.value=a[c];b.done=!1;return b}b.value=void 0;b.done=!0;return b};return b.next=b}}return{next:C}}i.values=B;function C(){return{value:void 0,done:!0}}A.prototype={constructor:A,reset:function(a){this.prev=0;this.next=0;this.sent=void 0;this.done=!1;this.delegate=null;this.tryEntries.forEach(z);if(!a)for(var b in this)b.charAt(0)==="t"&&g.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0];a=a.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var b=this;function c(c,d){f.type="throw";f.arg=a;b.next=c;return!!d}for(var d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if(e.tryLoc==="root")return c("end");if(e.tryLoc<=this.prev){var h=g.call(e,"catchLoc"),i=g.call(e,"finallyLoc");if(h&&i){if(this.prev<e.catchLoc)return c(e.catchLoc,!0);else if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else if(h){if(this.prev<e.catchLoc)return c(e.catchLoc,!0)}else if(i){if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&g.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&(a==="break"||a==="continue")&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);d=e?e.completion:{};d.type=a;d.arg=b;e?this.next=e.finallyLoc:this.complete(d);return p},complete:function(a,b){if(a.type==="throw")throw a.arg;a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=a.arg,this.next="end"):a.type==="normal"&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a){this.complete(c.completion,c.afterLoc);z(c);return p}}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if(d.type==="throw"){var e=d.arg;z(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){this.delegate={iterator:B(a),resultName:b,nextLoc:c};return p}}}),null);
__d("BPlusTreeBase",["nativePromiseRegeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("nativePromiseRegeneratorRuntime").mark(r),i=c("nativePromiseRegeneratorRuntime").mark(v),j=c("nativePromiseRegeneratorRuntime").mark(w),k=c("nativePromiseRegeneratorRuntime").mark(x),l=c("nativePromiseRegeneratorRuntime").mark(y),m=c("nativePromiseRegeneratorRuntime").mark(z),n=c("nativePromiseRegeneratorRuntime").mark(A),o=c("nativePromiseRegeneratorRuntime").mark(B),p=function(){return{children:[],isLeaf:!0,keys:[]}},q={gte:[!0,0],lt:[!0,1],gt:[!1,0],lte:[!1,1]};function r(a,b,d,e){var f,g,i,j,k;return c("nativePromiseRegeneratorRuntime").wrap(function(c){while(1)switch(c.prev=c.next){case 0:return c.delegateYield(b.readExn(d),"t0",1);case 1:f=c.t0,g=[],(i=f,j=d),k=-1;case 5:if(i.isLeaf){c.next=14;break}g.push([i,j,k]);k=s(a,i.keys,e,q.gt);k===-1&&(k=i.keys.length);j=i.children[k];return c.delegateYield(b.readExn(j),"t1",11);case 11:i=c.t1;c.next=5;break;case 14:return c.abrupt("return",[i,j,g,k]);case 15:case"end":return c.stop()}},h,this)}function s(a,b,c,d){var e=0,f=b.length-1;while(e<=f){var g=e+f>>1;(d[0]?a(b[g],c)<0:a(b[g],c)<=0)?e=g+1:f=g-1}g=[e,f][d[1]];return g===b.length?-1:g}function t(a,b,c){if(!b.length)return[0,0];var d=s(a,b,c,q.gte);if(d===-1)return[b.length,0];else if(a(b[d],c)===0)return[d,1];return[d,0]}function u(a,b,c){for(var d=arguments.length,e=new Array(d>3?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];return[].concat(a.slice(0,b),e,a.slice(b+c))}function v(a){var b,d;return c("nativePromiseRegeneratorRuntime").wrap(function(c){while(1)switch(c.prev=c.next){case 0:return c.delegateYield(a.readHeader(),"t0",1);case 1:b=c.t0;if(!(b==null)){c.next=7;break}return c.delegateYield(a.writeNew({isLeaf:!0,children:[],keys:[]}),"t1",4);case 4:d=c.t1;b={rootId:d,tailId:d,headId:d};return c.delegateYield(a.writeHeader(b),"t2",7);case 7:return c.abrupt("return",b);case 8:case"end":return c.stop()}},i,this)}function w(a,b,d){var e,f,g;return c("nativePromiseRegeneratorRuntime").wrap(function(h){while(1)switch(h.prev=h.next){case 0:h.t0=r;h.t1=a;h.t2=b;return h.delegateYield(v(b),"t3",4);case 4:h.t4=h.t3.rootId;h.t5=d;return h.delegateYield(h.t0(h.t1,h.t2,h.t4,h.t5),"t6",7);case 7:e=h.t6;f=e[0];g=s(a,f.keys,d,q.gte);if(!(g===-1||a(f.keys[g],d)!==0)){h.next=12;break}throw c("unrecoverableViolation")("key not found: "+String(d),"messenger_web_product");case 12:return h.abrupt("return",f.children[g]);case 13:case"end":return h.stop()}},j,this)}function x(a,b,d,e){var f,g,h;return c("nativePromiseRegeneratorRuntime").wrap(function(c){while(1)switch(c.prev=c.next){case 0:c.t0=r;c.t1=a;c.t2=b;return c.delegateYield(v(b),"t3",4);case 4:c.t4=c.t3.rootId;c.t5=d;return c.delegateYield(c.t0(c.t1,c.t2,c.t4,c.t5),"t6",7);case 7:f=c.t6;g=f[0];h=s(a,g.keys,d,q.gte);if(!(h===-1||a(g.keys[h],d)!==0)){c.next=12;break}return c.abrupt("return",e);case 12:return c.abrupt("return",g.children[h]);case 13:case"end":return c.stop()}},k,this)}function y(a,b,d){var e,f,g;return c("nativePromiseRegeneratorRuntime").wrap(function(c){while(1)switch(c.prev=c.next){case 0:c.t0=r;c.t1=a;c.t2=b;return c.delegateYield(v(b),"t3",4);case 4:c.t4=c.t3.rootId;c.t5=d;return c.delegateYield(c.t0(c.t1,c.t2,c.t4,c.t5),"t6",7);case 7:e=c.t6;f=e[0];g=s(a,f.keys,d,q.gte);return c.abrupt("return",g!==-1&&a(f.keys[g],d)===0);case 11:case"end":return c.stop()}},l,this)}function z(a,b,d,e,f){var g,h,i,j,k,l,n,o,p,q,s,w,x,y,z,A,B,C,D;return c("nativePromiseRegeneratorRuntime").wrap(function(c){while(1)switch(c.prev=c.next){case 0:return c.delegateYield(v(b),"t0",1);case 1:g=c.t0;h={};return c.delegateYield(r(a,b,g.rootId,e),"t1",4);case 4:i=c.t1,j=i[0],k=i[1],l=i[2],(n=t(a,j.keys,e),o=n[0],p=n[1]),(q=babelHelpers["extends"]({},j,{children:u(j.children,o,p,f),keys:p===1?j.keys:u(j.keys,o,p,e)}),s=k);case 10:if(!(q.keys.length>=d)){c.next=44;break}y=l.pop()||[{keys:[],children:[s],isLeaf:!1}];w=y[0];x=y[1];z=Math.floor(q.keys.length/2);A=void 0,B=void 0;if(!q.isLeaf){c.next=35;break}A={isLeaf:!0,children:q.children.slice(z),keys:q.keys.slice(z),nextId:q.nextId,prevId:s};return c.delegateYield(b.writeNew(A),"t2",19);case 19:B=q.nextId=c.t2;if(!A.nextId){c.next=32;break}c.t3=b;c.t4=A.nextId;c.t5=babelHelpers;c.t6={};return c.delegateYield(b.readExn(A.nextId),"t7",26);case 26:c.t8=c.t7;c.t9={prevId:B};c.t10=c.t5["extends"].call(c.t5,c.t6,c.t8,c.t9);return c.delegateYield(c.t3.write.call(c.t3,c.t4,c.t10),"t11",30);case 30:c.next=33;break;case 32:h.tailId=B;case 33:c.next=38;break;case 35:A={isLeaf:!1,children:q.children.slice(z+1),keys:q.keys.slice(z+1)};return c.delegateYield(b.writeNew(A),"t12",37);case 37:B=c.t12;case 38:C=t(a,w.keys,q.keys[z]),D=C[0];w=babelHelpers["extends"]({},w,{keys:u(w.keys,D,0,q.keys[z]),children:u(w.children,D+1,0,B)});return c.delegateYield(b.write(s,babelHelpers["extends"]({},q,{keys:q.keys.slice(0,z),children:q.children.slice(0,z+(q.isLeaf?0:1))})),"t13",41);case 41:q=w,s=x;c.next=10;break;case 44:if(!(s==null)){c.next=49;break}return c.delegateYield(b.writeNew(q),"t14",46);case 46:h.rootId=c.t14;c.next=50;break;case 49:return c.delegateYield(b.write(s,q),"t15",50);case 50:if(!Object.keys(h).length){c.next=52;break}return c.delegateYield(b.writeHeader(babelHelpers["extends"]({},g,h)),"t16",52);case 52:case"end":return c.stop()}},m,this)}function A(a,b,d,e){var f,g,h,i,j,k,l,m,o,p,t,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;return c("nativePromiseRegeneratorRuntime").wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.delegateYield(v(b),"t0",1);case 1:f=n.t0;g={};h=Math.floor(d/2);return n.delegateYield(r(a,b,f.rootId,e),"t1",5);case 5:i=n.t1;j=i[0];k=i[1];l=i[2];m=i[3];o=s(a,j.keys,e,q.gte);if(!(o===-1||a(j.keys[o],e)!==0)){n.next=13;break}return n.abrupt("return",!1);case 13:p=babelHelpers["extends"]({},j,{keys:u(j.keys,o,1),children:u(j.children,o,1)}),t=k,w=m;case 16:if(!(p.keys.length<h&&l.length)){n.next=101;break}B=l.pop();x=B[0];y=B[1];z=B[2];C=[[{nodeId:x.children[w-1]},{nodeId:t,node:p},w-1],[{nodeId:t,node:p},{nodeId:x.children[w+1]},w]].filter(function(a){var b=a[0];a=a[1];return b.nodeId!==void 0&&a.nodeId!==void 0});D=C,E=Array.isArray(D),F=0,D=E?D:D[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 23:if(!E){n.next=29;break}if(!(F>=D.length)){n.next=26;break}return n.abrupt("break",57);case 26:G=D[F++];n.next=33;break;case 29:F=D.next();if(!F.done){n.next=32;break}return n.abrupt("break",57);case 32:G=F.value;case 33:H=G;I=H[0];J=H[1];K=H[2];n.t2=I.node;if(n.t2){n.next=41;break}return n.delegateYield(b.readExn(I.nodeId),"t3",40);case 40:n.t2=n.t3;case 41:I.node=n.t2;n.t4=J.node;if(n.t4){n.next=46;break}return n.delegateYield(b.readExn(J.nodeId),"t5",45);case 45:n.t4=n.t5;case 46:J.node=n.t4;if(!(I.node.keys.length+J.node.keys.length>=h*2)){n.next=55;break}p.isLeaf?(J.node=babelHelpers["extends"]({},J.node,{children:[].concat(I.node.children,J.node.children),keys:[].concat(I.node.keys,J.node.keys)}),I.node=babelHelpers["extends"]({},I.node,{children:J.node.children.splice(0,h),keys:J.node.keys.splice(0,h)}),x=babelHelpers["extends"]({},x,{keys:u(x.keys,K,1,J.node.keys[0])})):(J.node=babelHelpers["extends"]({},J.node,{children:[].concat(I.node.children,J.node.children),keys:[].concat(I.node.keys,[x.keys[K]],J.node.keys)}),I.node=babelHelpers["extends"]({},I.node,{children:J.node.children.splice(0,h+1)}),x=babelHelpers["extends"]({},x,{keys:u(x.keys,K,1,J.node.keys.splice(h,1)[0])}),I.node.keys=J.node.keys.splice(0,h));return n.delegateYield(b.write(I.nodeId,I.node),"t6",50);case 50:return n.delegateYield(b.write(J.nodeId,J.node),"t7",51);case 51:return n.delegateYield(b.write(y,x),"t8",52);case 52:if(!Object.keys(g).length){n.next=54;break}return n.delegateYield(b.writeHeader(babelHelpers["extends"]({},f,g)),"t9",54);case 54:return n.abrupt("return",!0);case 55:n.next=23;break;case 57:L=C,M=Array.isArray(L),N=0,L=M?L:L[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 58:if(!M){n.next=64;break}if(!(N>=L.length)){n.next=61;break}return n.abrupt("break",98);case 61:O=L[N++];n.next=68;break;case 64:N=L.next();if(!N.done){n.next=67;break}return n.abrupt("break",98);case 67:O=N.value;case 68:P=O;Q=P[0];R=P[1];S=P[2];Q.node=babelHelpers["extends"]({},Q.node,{children:[].concat(Q.node.children,R.node.children)});if(!p.isLeaf){n.next=91;break}Q.node.keys=[].concat(Q.node.keys,R.node.keys);if(!R.node.nextId){n.next=87;break}n.t10=b;n.t11=R.node.nextId;n.t12=babelHelpers;n.t13={};return n.delegateYield(b.readExn(R.node.nextId),"t14",81);case 81:n.t15=n.t14;n.t16={prevId:Q.nodeId};n.t17=n.t12["extends"].call(n.t12,n.t13,n.t15,n.t16);return n.delegateYield(n.t10.write.call(n.t10,n.t11,n.t17),"t18",85);case 85:n.next=88;break;case 87:g.tailId=Q.nodeId;case 88:Q.node.nextId=R.node.nextId;n.next=92;break;case 91:Q.node.keys=[].concat(Q.node.keys,[x.keys[S]],R.node.keys);case 92:x=babelHelpers["extends"]({},x,{keys:u(x.keys,S,1),children:u(x.children,S+1,1)});return n.delegateYield(b.write(Q.nodeId,Q.node),"t19",94);case 94:return n.delegateYield(b.remove(R.nodeId),"t20",95);case 95:return n.abrupt("break",98);case 96:n.next=58;break;case 98:A=[x,y,z],p=A[0],t=A[1],w=A[2],A;n.next=16;break;case 101:return n.delegateYield(b.write(t,p),"t21",102);case 102:return n.delegateYield(b.readExn(f.rootId),"t22",103);case 103:T=n.t22;if(!(!T.keys.length&&T.children.length)){n.next=109;break}if(!T.isLeaf){n.next=107;break}throw c("unrecoverableViolation")("cannot be leaf","messenger_web_product");case 107:return n.delegateYield(b.remove(f.rootId),"t23",108);case 108:g.rootId=T.children[0];case 109:if(!Object.keys(g).length){n.next=111;break}return n.delegateYield(b.writeHeader(babelHelpers["extends"]({},f,g)),"t24",111);case 111:return n.abrupt("return",!0);case 112:case"end":return n.stop()}},n,this)}function B(a,b,d){var e,f,g,h,i,j,k,l,m,n,t,u,w,x,y,z,A,B,C,D,E,F,G,H,I;return c("nativePromiseRegeneratorRuntime").wrap(function(o){while(1)switch(o.prev=o.next){case 0:e=d===void 0?{}:d,f=e.dir,g=f===void 0?"asc":f,h=babelHelpers.objectWithoutPropertiesLoose(e,["dir"]);if(!(Object.prototype.hasOwnProperty.call(h,"gt")&&Object.prototype.hasOwnProperty.call(h,"gte"))){o.next=3;break}throw c("unrecoverableViolation")("cannot specify both greater than and greater than or equal","messenger_web_product");case 3:if(!(Object.prototype.hasOwnProperty.call(h,"lt")&&Object.prototype.hasOwnProperty.call(h,"lte"))){o.next=5;break}throw c("unrecoverableViolation")("cannot specify both less than and less than or equal","messenger_web_product");case 5:return o.delegateYield(v(b),"t0",6);case 6:k=o.t0;if(!(g==="asc")){o.next=89;break}if(!Object.prototype.hasOwnProperty.call(h,"gt")){o.next=15;break}return o.delegateYield(r(a,b,k.rootId,h.gt),"t1",10);case 10:l=o.t1;i=l[0];j=l[1];o.next=28;break;case 15:if(!Object.prototype.hasOwnProperty.call(h,"gte")){o.next=22;break}return o.delegateYield(r(a,b,k.rootId,h.gte),"t2",17);case 17:m=o.t2;i=m[0];j=m[1];o.next=28;break;case 22:return o.delegateYield(b.readExn(k.headId),"t3",23);case 23:o.t4=o.t3,o.t5=k.headId,n=[o.t4,o.t5],i=n[0],j=n[1];case 28:t=Object.prototype.hasOwnProperty.call(h,"gt")?s(a,i.keys,h.gt,q.gt):Object.prototype.hasOwnProperty.call(h,"gte")?s(a,i.keys,h.gte,q.gte):0;case 29:if(!(i&&j!==void 0)){o.next=87;break}case 30:if(!(t!==-1&&t<i.keys.length)){o.next=78;break}u=i.keys[t];if(!(Object.prototype.hasOwnProperty.call(h,"lt")&&a(u,h.lt)>=0||Object.prototype.hasOwnProperty.call(h,"lte")&&a(u,h.lte)>0)){o.next=34;break}return o.abrupt("return");case 34:o.next=36;return[i.keys[t],i.children[t]];case 36:w=o.sent;return o.delegateYield(b.read(j),"t7",38);case 38:o.t6=o.t7;if(o.t6){o.next=41;break}o.t6=p();case 41:i=o.t6;if(!(w!=null)){o.next=60;break}if(!(a(w,u)<=0)){o.next=45;break}throw c("unrecoverableViolation")("key must be greater than current key","messenger_web_product");case 45:t=s(a,i.keys,w,q.gte);if(!(t===-1)){o.next=58;break}o.t8=r;o.t9=a;o.t10=b;return o.delegateYield(v(b),"t11",51);case 51:o.t12=(k=o.t11).rootId;o.t13=w;return o.delegateYield(o.t8(o.t9,o.t10,o.t12,o.t13),"t14",54);case 54:x=o.t14,i=x[0],j=x[1],t=s(a,i.keys,w,q.gte);case 58:o.next=76;break;case 60:y=t>=i.keys.length||a(i.keys[t],u)!==0;if(!y){o.next=75;break}t=s(a,i.keys,u,q.lte);if(!(t===-1)){o.next=75;break}o.t15=r;o.t16=a;o.t17=b;return o.delegateYield(v(b),"t18",68);case 68:o.t19=(k=o.t18).rootId;o.t20=u;return o.delegateYield(o.t15(o.t16,o.t17,o.t19,o.t20),"t21",71);case 71:z=o.t21,i=z[0],j=z[1],t=s(a,i.keys,u,q.lte);case 75:t++;case 76:o.next=30;break;case 78:j=i.nextId;o.t22=j!==void 0;if(!o.t22){o.next=83;break}return o.delegateYield(b.readExn(j),"t23",82);case 82:o.t22=o.t23;case 83:i=o.t22;t=0;o.next=29;break;case 87:o.next=168;break;case 89:if(!Object.prototype.hasOwnProperty.call(h,"lt")){o.next=96;break}return o.delegateYield(r(a,b,k.rootId,h.lt),"t24",91);case 91:A=o.t24;i=A[0];j=A[1];o.next=109;break;case 96:if(!Object.prototype.hasOwnProperty.call(h,"lte")){o.next=103;break}return o.delegateYield(r(a,b,k.rootId,h.lte),"t25",98);case 98:B=o.t25;i=B[0];j=B[1];o.next=109;break;case 103:return o.delegateYield(b.readExn(k.tailId),"t26",104);case 104:o.t27=o.t26,o.t28=k.tailId,C=[o.t27,o.t28],i=C[0],j=C[1];case 109:D=Object.prototype.hasOwnProperty.call(h,"lt")?s(a,i.keys,h.lt,q.lt):Object.prototype.hasOwnProperty.call(h,"lte")?s(a,i.keys,h.lte,q.lte):i.keys.length-1;case 110:if(!(i&&j!==void 0)){o.next=168;break}case 111:if(!(D!==-1&&D>=0)){o.next=159;break}E=i.keys[D];if(!(Object.prototype.hasOwnProperty.call(h,"gt")&&a(E,h.gt)<=0||Object.prototype.hasOwnProperty.call(h,"gte")&&a(E,h.gte)<0)){o.next=115;break}return o.abrupt("return");case 115:o.next=117;return[i.keys[D],i.children[D]];case 117:F=o.sent;return o.delegateYield(b.read(j),"t30",119);case 119:o.t29=o.t30;if(o.t29){o.next=122;break}o.t29=p();case 122:i=o.t29;if(!(F!=null)){o.next=141;break}if(!(a(F,E)>=0)){o.next=126;break}throw c("unrecoverableViolation")("key must be less than current key","messenger_web_product");case 126:D=s(a,i.keys,F,q.lte);if(!(D===-1)){o.next=139;break}o.t31=r;o.t32=a;o.t33=b;return o.delegateYield(v(b),"t34",132);case 132:o.t35=(k=o.t34).rootId;o.t36=F;return o.delegateYield(o.t31(o.t32,o.t33,o.t35,o.t36),"t37",135);case 135:G=o.t37,i=G[0],j=G[1],D=s(a,i.keys,F,q.lte);case 139:o.next=157;break;case 141:H=D>=i.keys.length||a(i.keys[D],E)!==0;if(!H){o.next=156;break}D=s(a,i.keys,E,q.gte);if(!(D===-1)){o.next=156;break}o.t38=r;o.t39=a;o.t40=b;return o.delegateYield(v(b),"t41",149);case 149:o.t42=(k=o.t41).rootId;o.t43=E;return o.delegateYield(o.t38(o.t39,o.t40,o.t42,o.t43),"t44",152);case 152:I=o.t44,i=I[0],j=I[1],D=s(a,i.keys,E,q.gte);case 156:D--;case 157:o.next=111;break;case 159:j=i.prevId;o.t45=j!==void 0;if(!o.t45){o.next=164;break}return o.delegateYield(b.readExn(j),"t46",163);case 163:o.t45=o.t46;case 164:i=o.t45;D=i?i.keys.length-1:-1;o.next=110;break;case 168:case"end":return o.stop()}},o,this)}function a(a,b,c){b===void 0&&(b=32);return{get:function(b){return w(a,c,b)},getWithDefault:function(b,d){return x(a,c,b,d)},has:function(b){return y(a,c,b)},set:function(d,e){return z(a,c,b,d,e)},"delete":function(d){return A(a,c,b,d)},entries:function(b){return B(a,c,b)}}}g["default"]=a}),98);
__d("I64",["bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])?a:void 0}function b(a){return a}g.mk=c("bs_caml_int64").mk;g.succ=c("bs_caml_int64").succ;g.min_int=c("bs_caml_int64").min_int;g.max_int=c("bs_caml_int64").max_int;g.one=c("bs_caml_int64").one;g.zero=c("bs_caml_int64").zero;g.neg_one=c("bs_caml_int64").neg_one;g.of_int32=c("bs_caml_int64").of_int32;g.to_int32=c("bs_caml_int64").to_int32;g.add=c("bs_caml_int64").add;g.neg=c("bs_caml_int64").neg;g.sub=c("bs_caml_int64").sub;g.lsl_=c("bs_caml_int64").lsl_;g.lsr_=c("bs_caml_int64").lsr_;g.asr_=c("bs_caml_int64").asr_;g.is_zero=c("bs_caml_int64").is_zero;g.mul=c("bs_caml_int64").mul;g.xor=c("bs_caml_int64").xor;g.or_=c("bs_caml_int64").or_;g.and_=c("bs_caml_int64").and_;g.equal_null=c("bs_caml_int64").equal_null;g.equal_undefined=c("bs_caml_int64").equal_undefined;g.equal_nullable=c("bs_caml_int64").equal_nullable;g.to_float=c("bs_caml_int64").to_float;g.of_float=c("bs_caml_int64").of_float;g.div=c("bs_caml_int64").div;g.mod_=c("bs_caml_int64").mod_;g.compare=c("bs_caml_int64").compare;g.float_of_bits=c("bs_caml_int64").float_of_bits;g.bits_of_float=c("bs_caml_int64").bits_of_float;g.div_mod=c("bs_caml_int64").div_mod;g.to_hex=c("bs_caml_int64").to_hex;g.discard_sign=c("bs_caml_int64").discard_sign;g.to_string=c("bs_caml_int64").to_string;g.minus_one=c("bs_int64").minus_one;g.pred=c("bs_int64").pred;g.abs=c("bs_int64").abs;g.lognot=c("bs_int64").lognot;g.of_string_opt=c("bs_int64").of_string_opt;g.equal=c("bs_int64").equal;g.cast=a;g.asI64=b}),98);
__d("LSDbKeyComparer",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=[[]];function i(a,b){var d=a===h,e=b===h;if(d&&e)return 0;if(d)return 1;if(e)return-1;if(Array.isArray(a)){if(!Array.isArray(b))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");d=a[0];e=b[0];if(d<e)return-1;if(d>e)return 1;d=a[1];e=b[1];if(d<e)return-1;if(d>e)return 1}else if(typeof a==="string"){if(!(typeof b==="string"))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(typeof a==="number"){if(!(typeof b==="number"))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(a instanceof Date){if(!(b instanceof Date))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(a<b)return-1;if(a>b)return 1}else if(typeof a==="boolean"){if(!(typeof b==="boolean"))throw c("unrecoverableViolation")("Expected types to be the same","messenger_comet");if(!a&&b)return-1;if(a&&!b)return 1}else throw c("unrecoverableViolation")("Unexpected type","messenger_comet");return 0}function a(a,b){for(var a=a,b=b;;a=a.tl,b=b.tl){if(a===0&&b===0)return 0;if(a===0)return-1;if(b===0)return 1;var c=i(a.hd,b.hd);if(c!==0)return c}return 0}g.MAX_KEY=h;g.compareValue=i;g.compareKey=a}),98);
__d("LSDbKeyComparer.bs",["LSDbKeyComparer"],(function(a,b,c,d,e,f){"use strict";a=b("LSDbKeyComparer").compareKey;c=b("LSDbKeyComparer").MAX_KEY;f.cmp=a;f.maxKey=c}),null);
__d("bs_js_dict",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(c in a)return b("bs_caml_option").some(a[c])}var g=function(a,b){delete a[b]};function c(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0;e<c;++e){var f=b[e];d[e]=[f,a[f]]}return d}function d(a){var b=Object.keys(a),c=b.length,d=new Array(c);for(var e=0;e<c;++e)d[e]=a[b[e]];return d}function e(a){var b={};a=a;while(!0){var c=a;if(!c)return b;var d=c.hd;b[d[0]]=d[1];a=c.tl;continue}}function h(a){var b={},c=a.length;for(var d=0;d<c;++d){var e=a[d];b[e[0]]=e[1]}return b}function i(a,b){var c={},d=Object.keys(b),e=d.length;for(var f=0;f<e;++f){var g=d[f];c[g]=a(b[g])}return c}f.get=a;f.unsafeDeleteKey=g;f.entries=c;f.values=d;f.fromList=e;f.fromArray=h;f.map=i}),null);
__d("ReQLBounds.bs",["LSDbKeyComparer.bs","bs_js_dict","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c){if(!b)return c;if(a<=0)return c;var d=b.hd;if(a===1)return{hd:d,tl:0};else return{hd:d,tl:g(a-1|0,b.tl,c)}}function h(a,c){return g(a,c,{hd:b("LSDbKeyComparer.bs").maxKey,tl:0})}function a(a,c){var d=function(b){var c=b.NAME;if(c==="lessThan")return["lt",b.VAL];else if(c==="greaterThan")return["gt",h(a,b.VAL)];else if(c==="greaterThanOrEqual")return["gte",b.VAL];else return["lte",h(a,b.VAL)]},e=c.NAME;if(e!=="range")if(e==="greaterThanOrEqual"||e==="greaterThan")return b("bs_js_dict").fromArray([d(c)]);else return b("bs_js_dict").fromArray([d(c)]);e=c.VAL;return b("bs_js_dict").fromArray([d(e[0]),d(e[1])])}function c(a){var c=a.operation;switch(c){case"add":return{TAG:0,_0:a.value};case"delete":return 0;case"put":return{TAG:1,_0:a.value};default:return b("unrecoverableViolation")("Unexpected operation","messenger_web_product")}}f.concat=g;f.nextKey=h;f.mapBounds=a;f.mapEventToOperation=c}),null);
__d("IntervalList",["FBLogger","LSDbKeyComparer","ReQLBounds.bs","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==null)throw c("FBLogger")("messenger_web_product").mustfixThrow("must not be null");return a}function a(a,c){var e=b("regeneratorRuntime").mark(k),f=new Map(),g=new Map(),i=new Map();function j(b,c){return c==null?!0:(c.gt!==void 0?a(b,c.gt)>0:c.gte!==void 0?a(b,c.gte)>=0:!0)&&(c.lt!==void 0?a(b,c.lt)<0:c.lte!==void 0?a(b,c.lte)<=0:!0)}function k(a){var h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:h=a,i={hd:d("LSDbKeyComparer").MAX_KEY,tl:0},k=0;case 3:if(!(h!==0&&g.size)){b.next=33;break}k++;l=h;m=h.tl;h.tl=k<c?i:0;b.prev=8;n=g.get(JSON.stringify(a));if(!(n!=null)){b.next=27;break}o=n,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 12:if(!p){b.next=18;break}if(!(q>=o.length)){b.next=15;break}return b.abrupt("break",27);case 15:r=o[q++];b.next=22;break;case 18:q=o.next();if(!q.done){b.next=21;break}return b.abrupt("break",27);case 21:r=q.value;case 22:s=r;b.next=25;return s;case 25:b.next=12;break;case 27:b.prev=27;l.tl=m;return b.finish(27);case 30:h=l.tl;b.next=3;break;case 33:t=f.entries(),u=Array.isArray(t),v=0,t=u?t:t[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 34:if(!u){b.next=40;break}if(!(v>=t.length)){b.next=37;break}return b.abrupt("break",52);case 37:w=t[v++];b.next=44;break;case 40:v=t.next();if(!v.done){b.next=43;break}return b.abrupt("break",52);case 43:w=v.value;case 44:x=w;y=x[0];z=x[1];if(!(f.has(y)&&j(a,z))){b.next=50;break}b.next=50;return y;case 50:b.next=34;break;case 52:case"end":return b.stop()}},e,this,[[8,,27,30]])}function l(a){var b=i.get(a);if(b!=null){i["delete"](a);var c=h(g.get(b));c["delete"](a);c.size===0&&g["delete"](b)}else f["delete"](a)}function m(a,b){var e;if(a&&a.gte!=null&&a.lte!=null&&(e=JSON.stringify(d("ReQLBounds.bs").nextKey(c,a.gte)))===JSON.stringify(a.lte)){var h=g.get(e);h==null&&(h=new Set(),g.set(e,h));h.add(b);i.set(b,e)}else f.set(b,a)}return{"delete":l,findIntersecting:k,set:m}}g["default"]=a}),98);
__d("LSStorage",["IntervalList","LSDbKeyComparer","cr:181","killswitch","nullthrows","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d,e){a=a.tableNames[b];b=a.indexes;a=a.primaryKeyIds;a=e==null?a:b[e].keyIds;return a.reduceRight(function(a,b){if(d[b]!==void 0&&a!==void 0)return{hd:d[b],tl:a};else if(e!=null)return void 0;throw c("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")},0)}function a(a,b){while(a!==0&&b!==0){if(a.hd!==b.hd&&!(Array.isArray(a.hd)&&Array.isArray(b.hd)&&a.hd.length===b.hd.length&&a.hd.every(function(a,c){return a===b.hd[c]})))return!1;a=a.tl;b=b.tl}return a===0&&b===0}function e(a){var e=new Map(),f=new Map();function g(a,b,c,d){return Promise.all(Array.from(a.findIntersecting(c)).map(function(a){return a(c,d,b)}))}function i(b){return c("nullthrows")((e.has(b)?e:e.set(b,[c("IntervalList")(d("LSDbKeyComparer").compareKey,a.tableNames[b].primaryKeyIds.length),new Map()])).get(b))}function j(b,e){var f=i(b);f[0];f=f[1];return c("nullthrows")((f.has(e)?f:f.set(e,c("IntervalList")(d("LSDbKeyComparer").compareKey,a.tableNames[b].indexes[e].keyIds.length))).get(e))}function k(b,e,f,i,j,k){var l=g.bind(null,b,k);b=f==null?void 0:h(a,e,f,j);var m=i==null?void 0:h(a,e,i,j);if(m==null&&b!=null)return l(b,{operation:"delete",prevValue:f});if(b==null&&m!=null)return l(m,{operation:"add",value:c("nullthrows")(i),prevValue:f});return b!=null&&m!=null?d("LSDbKeyComparer").compareKey(b,m)===0?l(b,{operation:"put",value:c("nullthrows")(i),prevValue:f}):l(b,{operation:"delete"}).then(function(){return l(m,{operation:"add",value:c("nullthrows")(i),prevValue:f})}):Promise.resolve()}function l(a,d,e,f,g){g===void 0&&(g=!1);!c("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&g&&b("cr:181")!=null&&b("cr:181").postMessage("notifyTable",[a,d,e]);g=i(a);var h=g[0],j=g[1];return k(h,a,d,e,null,f).then(function(){return Promise.all(Array.from(j.entries()).map(function(b){var c=b[0];b=b[1];return k(b,a,d,e,c,f)}).filter(function(a){return a!=null}))})}function m(a){a===void 0&&(a=!1),!c("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&a&&b("cr:181")!=null&&b("cr:181").postMessage("notifyCommit"),f.forEach(function(a){return a()})}!c("killswitch")("MESSENGER_WEB_PERSISTED_DB")&&b("cr:181")!=null&&(b("cr:181").onEventReceive("notifyTable",function(a){var b=a[0],d=a[1];a=a[2];var e=new WeakMap();c("promiseDone")(l(b,d,a,e,!1))}),b("cr:181").onEventReceive("notifyCommit",function(a){m(!1)}));return{subscribeTable:function(a,b,c){a=i(a);var d=a[0],e=!1,f=function(a,c,d){return e?Promise.resolve():b(a,c,d)};d.set(c,f);return function(){e=!0,d["delete"](f)}},subscribeIndex:function(a,b,c,d){var e=j(a,b),f=!1,g=function(a,b,d){return f?Promise.resolve():c(a,b,d)};e.set(d,g);return function(){f=!0,e["delete"](g)}},notifyTableAndIndexSubscribers:l,subscribeToCommit:function(a){f.set(a,a);return function(){f["delete"](a)}},notifyCommit:m,dispose:function(){e.clear(),f.clear()}}}g.searchKey=h;g.areKeysEqual=a;g.createSubscriptionManager=e}),98);
__d("LSTableDefaults.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c={syncStatus:(a=b("bs_caml_int64")).zero,sendSyncParams:!1,minTimeToSyncTimestampMs:a.zero,canIgnoreTimestamp:!1,lastSyncCompletedTimestampMs:a.zero,syncChannel:a.one};d={enqueueTimestampMs:a.zero,firstExecutedTimestampMs:a.zero,failureCount:a.zero,minTimeToSyncTimestampMs:a.zero,pluginType:a.zero};e={isMessengerUser:!1,isMemorialized:!1,blockedByViewerStatus:a.zero,rank:a.zero,contactType:a.zero,contactTypeExact:a.zero,canViewerMessage:!0,authorityLevel:a.zero,optimisticBlockedByViewerStatus:a.zero,optimisticBlockedByViewerStatusTimestampMs:a.zero,contactReachabilityStatusType:a.zero,waConnectStatus:a.zero,capabilities2:a.zero};b={timestampMs:a.zero,authorityLevel:a.zero};var g={lastActivityTimestampMs:a.zero,lastReadWatermarkTimestampMs:a.zero,removeWatermarkTimestampMs:a.zero,muteExpireTimeMs:a.zero,ongoingCallState:a.zero,snippetHasEmoji:!1,hasPersistentMenu:!1,disableComposerInput:!1,capabilities:a.zero,isCustomThreadPicture:!1,authorityLevel:a.zero,capabilities2:a.zero,muteCallsExpireTimeMs:a.zero,unsendLimitMs:a.zero,threadInvitesEnabled:a.zero,threadInvitesEnabledV2:a.zero},h={minThreadKey:a.zero,minLastActivityTimestampMs:a.zero,maxThreadKey:a.zero,maxLastActivityTimestampMs:a.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},i={timestampMs:a.zero,primarySortKey:a.zero,secondarySortKey:a.zero,isAdminMessage:!1,sendStatus:a.zero,sendStatusV2:a.zero,isUnsent:!1,replyStatus:a.zero,replyAttachmentType:a.zero,hasQuickReplies:!1,textHasLinks:!1,viewFlags:a.zero,displayedContentTypes:a.one,quickReplyType:a.zero,authorityLevel:a.zero,unsentTimestampMs:a.zero},j={isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},k={readWatermarkTimestampMs:a.zero,deliveredWatermarkTimestampMs:a.zero,authorityLevel:a.zero,readActionTimestampMs:a.zero,groupParticipantJoinState:a.zero},l={timestampMs:a.zero,attachmentType:a.zero,hasMedia:!1,isSharable:!1,hasXma:!1,attachmentIndex:a.zero,authorityLevel:a.zero},m={mediaGroup:a.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1},n={attachmentIndex:a.zero},o={authorityLevel:a.zero},p={timestampMs:a.zero,showAdChoiceIcon:!1},q={ctaType:a.zero},r={timestampMs:a.zero},s={pollType:a.zero},t={minThreadKey:a.zero,minLastActivityTimestampMs:a.zero,maxThreadKey:a.zero,maxLastActivityTimestampMs:a.zero,isLoadingBefore:!1,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1,folderName:""},u={capabilities:a.zero},v={lastAccessedTimestampMs:a.zero},w={authorityLevel:a.zero},x={canAnonymousUsersJoin:a.zero},y={timestampMs:a.zero},z={pageNum:a.zero,readState:a.zero},A={authorityLevel:a.zero},B={interactionType:a.one,authorityLevel:a.zero},C={authorityLevel:a.zero},D={shouldShowAdChoice:!1},E={authorityLevel:a.zero},F={authorityLevel:a.zero,encryptionVersion:a.zero,revisionVersion:a.zero},G={authorityLevel:a.zero};a={authorityLevel:a.zero};var H={isMigrated:!1};c={sync_groups:c,pending_tasks:d,contacts:e,reactions:b,threads:g,threads_ranges_v2__generated:h,messages:i,messages_ranges_v2__generated:j,participants:k,attachments:l,attachments_ranges_v2__generated:m,attachment_items:n,group_membership_approval_requests:o,admin_message_ctas:p,thread_nullstate:q,messages_status:r,polls:s,filtered_threads_ranges_v2__generated:t,community_folders:u,universal_search_recent_searches:v,contact_upload_settings:w,video_chat_links_joining:x,transaction_history:y,story_buckets:z,stories:A,story_viewers:B,story_reactions:C,story_ad_unit:D,story_overlays:E,secure_encrypted_backups_client_state:F,secure_encrypted_backups_epochs:G,encrypted_backups:a,cutover_threads:H};f.Defaults=c}),null);
__d("ReStore",["BPlusTreeBase","I64","LSDbKeyComparer","LSStorage","LSTableDefaults.bs","nativePromiseRegeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,c){return b("BPlusTreeBase")(d("LSDbKeyComparer").compareKey,16,{read:function(b){return a.read(c,b)},readExn:function(b){return a.readExn(c,b)},readHeader:function(){return a.readHeader(c)},remove:function(b){return a.remove(c,b)},write:function(b,d){return a.write(c,b,d)},writeHeader:function(b){return a.writeHeader(c,b)},writeNew:function(b){return a.writeNew(c,b)}})};e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,"Transaction has finished")||this}return b}(babelHelpers.wrapNativeSuper(Error));function i(a){a=d("I64").cast(a);if(a===void 0)throw c("unrecoverableViolation")("Expected int64","messenger_web_product");return d("I64").to_float(a)}function j(a,b){function d(b){if(b.done)return b.value;if(!(b.value instanceof Promise))throw c("unrecoverableViolation")("expected promise","messenger_web_product");return b.value.then(function(b){return d(a.next(b))})}return d(a.next(b))}function k(a){return{next:c("nativePromiseRegeneratorRuntime").mark(function b(d){var e;return c("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:e=a.next(d);case 1:if(!(e.value instanceof window.Promise)){b.next=9;break}b.t0=a;b.next=5;return e.value;case 5:b.t1=b.sent;e=b.t0.next.call(b.t0,b.t1);b.next=1;break;case 9:return b.abrupt("return",e);case 10:case"end":return b.stop()}},b,this)})}}function l(a){var b=k(a);return{next:function(a){function b(b){return a.apply(this,arguments)}b.toString=function(){return a.toString()};return b}(function(a){return j(b.next(a))})}}function m(a,b){var d=c("LSTableDefaults.bs").Defaults[b.name];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers["extends"]({},a))}function a(a,e,f){var g=b("LSStorage").searchKey.bind(null,f),n=Promise.resolve(),o=!1;function p(a,b,d,e,f){var g,i,k;return c("nativePromiseRegeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:g=a.table(d);i=e===void 0?h(g,b):h(g.index(e),b);l.next=4;return c("nativePromiseRegeneratorRuntime").awrap(j(i.getWithDefault(f,void 0)));case 4:k=l.sent;if(!(k===void 0)){l.next=7;break}return l.abrupt("return",void 0);case 7:return l.abrupt("return",j(g.readDataExn(b,k)));case 8:case"end":return l.stop()}},null,this)}function q(a,b,d,e,f){var h;return c("nativePromiseRegeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return c("nativePromiseRegeneratorRuntime").awrap(p(a,b,d,e,f));case 2:h=i.sent;if(!(h===void 0)){i.next=5;break}return i.abrupt("return",void 0);case 5:return i.abrupt("return",g(d,h));case 6:case"end":return i.stop()}},null,this)}function r(a,b,d,e,f,g){return l(c("nativePromiseRegeneratorRuntime").mark(function i(){var j,l,m,n,o,p,q;return c("nativePromiseRegeneratorRuntime").wrap(function(c){while(1)switch(c.prev=c.next){case 0:j=a.table(d);j.readHeader(b);l=e===void 0?h(j,b):h(j.index(e),b);m=k(l.entries(babelHelpers["extends"]({},g,{dir:f})));return c.delegateYield(m.next(),"t0",5);case 5:n=c.t0;case 6:if(n.done){c.next=19;break}o=n.value,p=o[0],q=o[1];c.t1=m;c.t2=p;return c.delegateYield(j.readDataExn(b,q),"t3",11);case 11:c.t4=c.t3;c.next=14;return[c.t2,c.t4];case 14:c.t5=c.sent;return c.delegateYield(c.t1.next.call(c.t1,c.t5),"t6",16);case 16:n=c.t6;c.next=6;break;case 19:case"end":return c.stop()}},i,this)})())}function s(a,b,e){var g,h;return c("nativePromiseRegeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:g=f.tableNames[e].autoIncrement;if(g){i.next=3;break}throw c("unrecoverableViolation")("only supported for auto-incrementing tables","messenger_web_product");case 3:i.next=5;return c("nativePromiseRegeneratorRuntime").awrap(j(a.table(e).readSeed(b)));case 5:h=i.sent;if(!(h===void 0)){i.next=8;break}throw c("unrecoverableViolation")("unexpected undefined autoIncrementSeed","messenger_web_product");case 8:return i.abrupt("return",d("I64").of_float(h));case 9:case"end":return i.stop()}},null,this)}function t(a,b){function e(a,c,d,e){a=JSON.stringify([a,c]);c=b.get(a);b.set(a,[c==null?d:c[0],e])}function k(b,e,h,i){var j,l,m,p,q,s,t,u,v,w;return c("nativePromiseRegeneratorRuntime").async(function(x){while(1)switch(x.prev=x.next){case 0:j=function(a,b){var c=[],e=a;while(e!==0)c.push(e.hd),e=e.tl;return c.length>=b?a:c.reduceRight(function(a,b){return{hd:b,tl:a}},{hd:d("LSDbKeyComparer").MAX_KEY,tl:0})};if(!(i!=null&&d("LSDbKeyComparer").compareKey(h,i)===0)){x.next=3;break}return x.abrupt("return");case 3:(l=f.tableNames[e],m=l.cascadeUpdates,p=l.primaryKeyIds),q=function(){var e,l,d,m,q,w,x,y,z,A,B,C,D,E,F,G;return c("nativePromiseRegeneratorRuntime").async(function(H){while(1)switch(H.prev=H.next){case 0:if(!t){H.next=6;break}if(!(u>=s.length)){H.next=3;break}return H.abrupt("return","break");case 3:v=s[u++];H.next=10;break;case 6:u=s.next();if(!u.done){H.next=9;break}return H.abrupt("return","break");case 9:v=u.value;case 10:e=v;l=e.indexName;d=e.tableName;m=f.tableNames[d],q=m.indexes,w=m.primaryKeyIds;x=l==null?w:q[l].keyIds;y={gte:h,lte:j(h,x.length)};z=r(a,b,d,l,"asc",y);H.next=19;return c("nativePromiseRegeneratorRuntime").awrap(z.next());case 19:A=H.sent,B=[];case 21:if(A.done){H.next=28;break}B.push(A.value);H.next=25;return c("nativePromiseRegeneratorRuntime").awrap(z.next());case 25:A=H.sent;H.next=21;break;case 28:C=0;case 29:if(!(C<B.length)){H.next=49;break}D=B[C];D[0];E=D[1];F=g(d,E);if(!(i===void 0)){H.next=41;break}H.next=37;return c("nativePromiseRegeneratorRuntime").awrap(o(b,d,F));case 37:H.next=39;return c("nativePromiseRegeneratorRuntime").awrap(k(b,d,F));case 39:H.next=46;break;case 41:G=p.reduce(function(a,b,c){b=a[0];a=a[1];if(!a)return[b,a];b[x[c]]=a.hd;return[b,a.tl]},[babelHelpers["extends"]({},E),i])[0];H.next=44;return c("nativePromiseRegeneratorRuntime").awrap(n(b,d,F,G));case 44:H.next=46;return c("nativePromiseRegeneratorRuntime").awrap(k(b,d,F,g(d,G)));case 46:C++;H.next=29;break;case 49:case"end":return H.stop()}},null,this)},(s=m,t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 6:x.next=8;return c("nativePromiseRegeneratorRuntime").awrap(q());case 8:w=x.sent;if(!(w==="break")){x.next=11;break}return x.abrupt("break",13);case 11:x.next=6;break;case 13:case"end":return x.stop()}},null,this)}function l(b,i,l){var n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O;return c("nativePromiseRegeneratorRuntime").async(function(P){while(1)switch(P.prev=P.next){case 0:n=a.table(i);p=h(n,b);q=f.tableNames[i];r=g(i,l);s=Object.keys(q.indexes).reduce(function(b,c){var a=g(i,l,c);a!=null&&(b[c]=a);return b},{});t={};P.next=8;return c("nativePromiseRegeneratorRuntime").awrap(j(p.getWithDefault(r,void 0)));case 8:u=P.sent;w=l;if(!(u!==void 0)){P.next=19;break}P.next=13;return c("nativePromiseRegeneratorRuntime").awrap(j(n.readDataExn(b,u)));case 13:v=P.sent;Object.keys(q.indexes).length&&(t=Object.keys(q.indexes).reduce(function(b,c){var a=g(i,v,c);a!=null&&(b[c]=a);return b},{}));P.next=17;return c("nativePromiseRegeneratorRuntime").awrap(j(n.writeData(b,u,l)));case 17:P.next=27;break;case 19:if(!q.autoIncrement){P.next=21;break}throw c("unrecoverableViolation")("Id must not be specified for new record when table has an autoincrementing primary key","messenger_web_product");case 21:w=m(l,q);P.next=24;return c("nativePromiseRegeneratorRuntime").awrap(j(n.writeNewData(b,w)));case 24:u=P.sent;P.next=27;return c("nativePromiseRegeneratorRuntime").awrap(j(p.set(r,u)));case 27:x=Object.keys(s);for(y=0;y<x.length;y++)z=x[y],t[z]!==void 0&&d("LSDbKeyComparer").compareKey(t[z],s[z])===0&&(delete s[z],delete t[z]);A=new Set();B=Object.keys(s);C=0;case 32:if(!(C<B.length)){P.next=53;break}D=B[C];E=h(n.index(D),b);P.next=37;return c("nativePromiseRegeneratorRuntime").awrap(j(E.getWithDefault(s[D])));case 37:F=P.sent;if(!(F!=null&&!A.has(F))){P.next=50;break}P.t0=g;P.t1=i;P.next=43;return c("nativePromiseRegeneratorRuntime").awrap(j(n.readDataExn(b,F)));case 43:P.t2=P.sent;G=P.t0(P.t1,P.t2);P.next=47;return c("nativePromiseRegeneratorRuntime").awrap(o(b,i,G));case 47:P.next=49;return c("nativePromiseRegeneratorRuntime").awrap(k(b,i,G));case 49:A.add(F);case 50:C++;P.next=32;break;case 53:H=Object.keys(s),I=0;case 55:if(!(I<H.length)){P.next=63;break}J=H[I];K=h(n.index(J),b);P.next=60;return c("nativePromiseRegeneratorRuntime").awrap(j(K.set(s[J],u)));case 60:I++;P.next=55;break;case 63:L=Object.keys(t),M=0;case 65:if(!(M<L.length)){P.next=73;break}N=L[M];O=h(n.index(N),b);P.next=70;return c("nativePromiseRegeneratorRuntime").awrap(j(O["delete"](t[N])));case 70:M++;P.next=65;break;case 73:e(i,r,v,w);case 74:case"end":return P.stop()}},null,this)}function n(a,b,e,f){var h;return c("nativePromiseRegeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:h=g(b,f);if(d("LSStorage").areKeysEqual(e,h)){i.next=4;break}i.next=4;return c("nativePromiseRegeneratorRuntime").awrap(o(a,b,e));case 4:i.next=6;return c("nativePromiseRegeneratorRuntime").awrap(l(a,b,f));case 6:case"end":return i.stop()}},null,this)}function o(b,d,i){var k,l,m,n,o,p,q,r,s,t;return c("nativePromiseRegeneratorRuntime").async(function(u){while(1)switch(u.prev=u.next){case 0:k=a.table(d);l=h(k,b);m=f.tableNames[d];u.next=5;return c("nativePromiseRegeneratorRuntime").awrap(j(l.getWithDefault(i,void 0)));case 5:n=u.sent;if(!(n!==void 0)){u.next=28;break}u.next=9;return c("nativePromiseRegeneratorRuntime").awrap(j(k.readDataExn(b,n)));case 9:o=u.sent;if(!Object.keys(m.indexes).length){u.next=23;break}p=Object.keys(m.indexes);q=0;case 13:if(!(q<p.length)){u.next=23;break}r=p[q];s=g(d,o,r);if(!(s!=null)){u.next=20;break}t=h(k.index(r),b);u.next=20;return c("nativePromiseRegeneratorRuntime").awrap(j(t["delete"](s)));case 20:q++;u.next=13;break;case 23:u.next=25;return c("nativePromiseRegeneratorRuntime").awrap(j(l["delete"](i)));case 25:u.next=27;return c("nativePromiseRegeneratorRuntime").awrap(j(k.remove(b,n)));case 27:e(d,i,o,void 0);case 28:case"end":return u.stop()}},null,this)}function t(b,l,n){var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;return c("nativePromiseRegeneratorRuntime").async(function(K){while(1)switch(K.prev=K.next){case 0:p=a.table(l);q=h(p,b);r=f.tableNames[l];if(!r.autoIncrement){K.next=11;break}s=n[f.tableNames[l].primaryKeyIds[0]];K.t0=d("I64");K.next=8;return c("nativePromiseRegeneratorRuntime").awrap(j(p.incrementSeed(b,s===void 0?s:i(s))));case 8:K.t1=K.sent,t=K.t0.of_float.call(K.t0,K.t1),n[f.tableNames[l].primaryKeyIds[0]]=t;case 11:u=m(n,r);v=g(l,u);if(!(v==null)){K.next=15;break}throw new Error("Evaluating the object store's key path did not yield a value");case 15:K.next=17;return c("nativePromiseRegeneratorRuntime").awrap(j(q.has(v)));case 17:if(K.sent){K.next=62;break}w=Object.keys(r.indexes);x=0;case 20:if(!(x<w.length)){K.next=44;break}y=w[x];z=g(l,u,y);A=new Set();if(!(z!=null)){K.next=41;break}B=h(p.index(y),b);K.next=28;return c("nativePromiseRegeneratorRuntime").awrap(j(B.getWithDefault(z)));case 28:C=K.sent;if(!(C!=null&&!A.has(C))){K.next=41;break}K.t2=g;K.t3=l;K.next=34;return c("nativePromiseRegeneratorRuntime").awrap(j(p.readDataExn(b,C)));case 34:K.t4=K.sent;D=K.t2(K.t3,K.t4);K.next=38;return c("nativePromiseRegeneratorRuntime").awrap(o(b,l,D));case 38:K.next=40;return c("nativePromiseRegeneratorRuntime").awrap(k(b,l,D));case 40:A.add(C);case 41:x++;K.next=20;break;case 44:K.next=46;return c("nativePromiseRegeneratorRuntime").awrap(j(p.writeNewData(b,u)));case 46:E=K.sent;K.next=49;return c("nativePromiseRegeneratorRuntime").awrap(j(q.set(v,E)));case 49:F=Object.keys(r.indexes),G=0;case 51:if(!(G<F.length)){K.next=61;break}H=F[G];I=g(l,u,H);if(!(I!=null)){K.next=58;break}J=h(p.index(H),b);K.next=58;return c("nativePromiseRegeneratorRuntime").awrap(j(J.set(I,E)));case 58:G++;K.next=51;break;case 61:e(l,v,void 0,u);case 62:case"end":return K.stop()}},null,this)}return{table:function(b){return{add:function(a){return t(new WeakMap(),b,a)},"delete":function(a){var d;return c("nativePromiseRegeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=new WeakMap();e.next=3;return c("nativePromiseRegeneratorRuntime").awrap(o(d,b,a));case 3:e.next=5;return c("nativePromiseRegeneratorRuntime").awrap(k(d,b,a));case 5:case"end":return e.stop()}},null,this)},entries:function(c,d,e){d===void 0&&(d="asc");e===void 0&&(e={});return r(a,c,b,void 0,d,e)},get:function(c,d){d===void 0&&(d=new WeakMap());return p(a,d,b,void 0,c)},index:function(c){return{entries:function(d,e,f){e===void 0&&(e="asc");f===void 0&&(f={});return r(a,d,b,c,e,f)},get:function(d){return p(a,new WeakMap(),b,c,d)},getKey:function(d){return q(a,new WeakMap(),b,c,d)}}},peekNextAutoIncrementId:function(){return s(a,new WeakMap(),b)},put:function(a){var d;return c("nativePromiseRegeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=new WeakMap();e.next=3;return c("nativePromiseRegeneratorRuntime").awrap(l(d,b,a));case 3:e.next=5;return c("nativePromiseRegeneratorRuntime").awrap(k(d,b,g(b,a)));case 5:case"end":return e.stop()}},null,this)},upsert:function(a,d){var e;return c("nativePromiseRegeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e=new WeakMap();f.next=3;return c("nativePromiseRegeneratorRuntime").awrap(n(e,b,a,d));case 3:f.next=5;return c("nativePromiseRegeneratorRuntime").awrap(k(e,b,a,g(b,d)));case 5:case"end":return f.stop()}},null,this)}}}}}return{clearCacheIfSupported:function(){var b=a;b instanceof Object&&b.clearCache!==void 0&&b.clearCache instanceof Function&&b.clearCache()},closeDb:function(){var b=a;b instanceof Object&&b.close!==void 0&&b.close()},getTableData:function(){return f},isTransactionActive:function(){return o},runInTransaction:function(b,d){var f=new Map();return new Promise(function(d,g){n=n.then(a.waitForLock).then(function(){var h,i,j,k,l,m,n,p,q,r,s,u,v,w;return c("nativePromiseRegeneratorRuntime").async(function(x){while(1)switch(x.prev=x.next){case 0:x.prev=0;o=!0;h=a.createTransaction();x.next=5;return c("nativePromiseRegeneratorRuntime").awrap(b(t(h,f)));case 5:i=x.sent;j=new WeakMap();x.next=9;return c("nativePromiseRegeneratorRuntime").awrap(h.flush());case 9:k=f,l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 10:if(!l){x.next=16;break}if(!(m>=k.length)){x.next=13;break}return x.abrupt("break",30);case 13:n=k[m++];x.next=20;break;case 16:m=k.next();if(!m.done){x.next=19;break}return x.abrupt("break",30);case 19:n=m.value;case 20:p=n;q=p[0];r=p[1];s=r[0];u=r[1];v=JSON.parse(q),w=v[0],v[1];x.next=28;return c("nativePromiseRegeneratorRuntime").awrap(e.notifyTableAndIndexSubscribers(w,s,u,j,!0));case 28:x.next=10;break;case 30:d(i);x.next=36;break;case 33:x.prev=33,x.t0=x["catch"](0),g(x.t0);case 36:e.notifyCommit(!0),o=!1;case 38:case"end":return x.stop()}},null,this,[[0,33]])}).then(a.releaseLockIfNeeded)})},subscribeToCommit:function(a){return e.subscribeToCommit(a)},subscriptionManager:e,table:function(b){return{entries:function(c,d,e){d===void 0&&(d="asc");e===void 0&&(e={});return r(a.createTransaction(),c,b,void 0,d,e)},get:function(c,d){d===void 0&&(d=new WeakMap());return p(a.createTransaction(),d,b,void 0,c)},index:function(c){return{entries:function(d,e,f){e===void 0&&(e="asc");f===void 0&&(f={});return r(a.createTransaction(),d,b,c,e,f)},get:function(d,e){e===void 0&&(e=new WeakMap());return p(a.createTransaction(),e,b,c,d)},getKey:function(d){return q(a.createTransaction(),new WeakMap(),b,c,d)},subscribe:function(){for(var a=arguments.length,d=new Array(a),f=0;f<a;f++)d[f]=arguments[f];return e.subscribeIndex.apply(e,[b,c].concat(d))}}},peekNextAutoIncrementId:function(){return s(a.createTransaction(),new WeakMap(),b)},subscribe:function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];return e.subscribeTable.apply(e,[b].concat(c))}}}}}a.TransactionClosedError=e;g["default"]=a}),98);
__d("BDSignalBufferData",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var b=a.prototype;b.getSignalCollector=function(){return c("SignalCollectorMap").get(this.signalType)};b.getBufferConfig=function(){return c("BDSignalBufferData")[this.signalType]};return a}();g["default"]=a}),98);
__d("SignalValueContext",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();f["default"]=a}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.signalType=a}var d=a.prototype;d.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};d.executeAsyncSignalCollection=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.executeSignalCollection());case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};d.getContext=function(){return new(c("SignalValueContext"))(a.getSanitizedURI())};d.throwIfNotInitialized=function(){if(!(this.signalType in c("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();g["default"]=a}),98);
__d("BDLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};c="JS";f.LEVELS=a;f.OPERATIONS=b;f.COMPONENT_NAME=c}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};f["default"]=a}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.INFO,b,c,e)}function b(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.WARNING,b,c,e)}function e(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.ERROR,b,c,e)}function h(a,b,e,f,g){f===void 0&&(f={});if(d("Random").coinflip(i(e))){if(f===null)throw new Error("opeartion info null");f.source=a;new(c("BDOperationTypedLogger"))().setLevel(b).setDurationUs(g).setOperation(e).setComponent(d("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(f).log()}}function i(a){var b=d("BDLoggingConstants").OPERATIONS;switch(a){case b.APPEND_SIGNAL:case b.HB_COLLECTED:case b.GET_LOCAL_STORAGE_ERROR:case b.WEB_STORAGE:case b.SIGNAL_NOT_IMPLEMENTED:case b.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}g.logInfo=a;g.logWarning=b;g.logError=e;g.log=h;g.getFlipSamplingByOperation=i}),98);
__d("SignalErrorValueTypeDef",[],(function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalValueTypeDef",i="t",j="ctx",k="v",l="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var b=a.prototype;b.getTimeStampMS=function(){return this.$1};b.getSignalContext=function(){return this.$2};b.getSignalValue=function(){return this.$3};b.getSignalValueType=function(){return this.$4};b.isEqual=function(a,b){if(a==null){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&a.getSignalValueType()===m.ERROR)return this.equalValue(a);var c=!1;b.has(128)&&(c=this.equalValue(a));b.has(256)&&(c=c&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());b.has(512)&&(c=c&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return c};b.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};b.toJSON=function(a){var b={};a&&(b[i]=this.$1/1e3,this.$2!=null&&(b[j]=this.$2));this.$3==null?b[l]=new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(b);return b};b.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[k]=this.$3;else throw new Error("Must implement in the subclasses")};b.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();g.BD_VALUE=k;g.BD_ERROR=l;g.VALUE_TYPES=m;g.SignalValueTypeDef=a}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30004,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("HeartbeatObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();f["default"]=a}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatObject"))());return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38e3,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(a,b,c,d,e,f,g){"use strict";a="biometric_signal_collected";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.listenForSignals=function(){throw c("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw c("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return b}(c("BDSignalCollectorBase"));g.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;g.BDBiometricSignalCollectorBase=b}),98);
__d("KeyDownUpObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();f["default"]=a}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.listenForSignals=function(){var a=this;c("gkx")("1652843")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};e.collectSignals=function(a){a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return a}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),i=null,j={signalType:30100,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("StringArrayObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();f["default"]=a}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("StringArrayObject"))(a));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30003,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30002,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}var e=b.prototype;e.listenForSignals=function(){this.collectSignals(),this.addListeners()};e.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.addEventListener(b,a.handler)})};e.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};e.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);g["default"]=a}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType,["mousedown","mousemove"],h)||this}return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30106,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.STRING)||this}return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.appVersion;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30013,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=navigator.hardwareConcurrency)!=null?a:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30018,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30093,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=function(e){babelHelpers.inheritsLoose(a,e);function a(){return e.call(this,j.signalType)||this}var f=a.prototype;f.executeAsyncSignalCollection=function(){var a,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:f.prev=0;if(!navigator.permissions){f.next=8;break}f.next=4;return b("regeneratorRuntime").awrap(navigator.permissions.query({name:"notifications"}));case 4:e=f.sent;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),e.state);f.next=9;break;case 8:a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"));case 9:f.next=14;break;case 11:f.prev=11,f.t0=f["catch"](0),a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"));case 14:return f.abrupt("return",{valueOrError:a});case 15:case"end":return f.stop()}},null,this,[[0,11]])};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30008,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30015,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){var a=null;try{var b=navigator.plugins?navigator.plugins.length:0,e=new Set();for(var f=0;f<b;f++){var g=navigator.plugins[f].filename;if(!g)continue;var i=g.indexOf(".");if(i==-1||i==g.length-1)continue;e.add(g.substr(i+1));if(e.size>=h)break}e.size&&(a=new(c("StringArrayObject"))(Array.from(e)))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),j=null,k={signalType:30019,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30094,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30012,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var e=a.prototype;e.executeSignalCollection=function(){var a;window.Notification?a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30007,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=new Date().getTimezoneOffset())!=null?a:999);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30040,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,k.signalType,["touchstart","touchcancel"],h)||this}return a}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30107,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:3e4,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30095,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("DimensionObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();f["default"]=a}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=window.innerHeight,b=window.innerWidth;b=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("DimensionObject"))(b,a));return{valueOrError:b}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:30005,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(a){switch(a){case 3e4:return c("BDWebdriverSignalCollector").get();case 30001:return c("BDPluginCountSignalCollector").get();case 30002:return c("BDMimeTypeCountSignalCollector").get();case 30003:return c("BDLanguagesSignalCollector").get();case 30004:return c("BDConnectionRTTSignalCollector").get();case 30005:return c("BDWindowOuterDimensionSignalCollector").get();case 30007:return c("BDNotificationPermissionSignalCollector").get();case 30008:return c("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return c("BDNavigatorVendorSignalCollector").get();case 30013:return c("BDNavigatorAppVersionSignalCollector").get();case 30015:return c("BDNavigatorPlatformSignalCollector").get();case 30018:return c("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return c("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30040:return c("BDTimezoneOffsetSignalCollector").get();case 30093:return c("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return c("BDNavigatorUserAgentSignalCollector").get();case 30095:return c("BDWindowHistoryLengthSignalCollector").get();case 30100:return c("BDKeyDownUpSignalCollector").get();case 30106:return c("BDMousePresenceSignalCollector").get();case 30107:return c("BDTouchPresenceSignalCollector").get();case 38e3:return c("BDHeartbeatSignalCollector").get();case 38001:return c("BDHeartbeatV2SignalCollector").get()}}};b=a;g["default"]=b}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(c("HeartbeatObject"));g["default"]=a}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.call(this,j.signalType)||this}var d=a.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatV2Object"))(c("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return a}(c("BDSignalCollectorBase")),i=null,j={signalType:38001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(a,b,c,d,e,f,g){"use strict";var h="BDClientConfig",i=function(){function a(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(c("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var b=a.prototype;b.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};b.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};b.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};b.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};b.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};b.setSID=function(a){this.sid=a;return this};b.setHeartbeatVersion=function(a){this.hbVersion=a;return this};b.getHeartbeatVersion=function(){return this.hbVersion};b.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};b.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};b.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};b.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};b.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};b.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};b.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};b.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};b.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};b.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};b.addSignalToClientConfig=function(a){var b=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(c("BDSignalWrapper"))(b,d);if(d===38001){this.heartbeatSignal=e;return this}!b.includes(2)?this.staticSignals.push(e):b.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};b.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};b.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};b.getDynamicSignals=function(){return this.dynamicSignals};b.getStaticSignals=function(){return this.staticSignals};b.getBiometricSignals=function(){return this.biometricSignals};b.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};b.getHeartbeatSignal=function(){return this.heartbeatSignal};b.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};b.setParsingDone=function(a){this.parsingDone=a};b.isParsingDone=function(){return this.parsingDone};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g["default"]=b}),98);
__d("BDCollectionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});f["default"]=a}),66);
__d("BotDetection_SignalFlags",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});f["default"]=a}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var b=a.prototype;b.getSignalId=function(){return this.signalId};b.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var b=Object.keys(c("BotDetection_SignalFlags"));b.forEach(function(b){(c("BotDetection_SignalFlags")[b]&a.signalFlags)===c("BotDetection_SignalFlags")[b]&&a.parsedSignalFlags.push(c("BotDetection_SignalFlags")[b])})}this.parsedSignalFlags.length===0&&d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};b.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();g["default"]=a}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerConfig";function a(a){var b=[];try{var e=JSON.parse(a.sc),f=new Map(e.c);f.forEach(function(a,d){return b.push(new(c("BDServerSignalConfig"))(d,a))});if(f.size===0){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}f=c("BDClientConfig").get();f.setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(b).setConfigGenerationTimeStamp(e.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}g.parseConfig=a}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(a,b,c,d,e,f,g){"use strict";var h="BDSignalBuffer";function a(a,b,d){if(a in c("BDSignalBufferData"))return;var e=1;b!==void 0&&(e=b);c("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:(b=d)!=null?b:[]}}function i(a){if(a in c("BDSignalBufferData"))c("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function b(a,b){if(a in c("BDSignalBufferData")){var e=c("BDSignalBufferData")[a],f=e.max_buffer_size;e.values.length>=f&&e.values.shift();e.values.push(b);d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function e(){var a=c("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in c("BDSignalBufferData")&&i(a.signalType)})}function f(a){var b;a=c("BDSignalBufferData")[a];b=a==null?void 0:(b=a.values)==null?void 0:b.length;return b!=null&&b>0?a.values[b-1]:{valueOrError:void 0}}function j(a){return c("BDSignalBufferData")[a].values}function k(a){var b={};for(var d=0;d<a.length;d++){var e=a[d];e in c("BDSignalBufferData")&&(b[e]=this.retrieveSignal(e).map(function(a){return a.valueOrError}))}return b}function l(a){a=this._getSignalIdsByCollectionType(a);return JSON.stringify(this.retrieveSignals(a))}function m(a){var b=c("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case c("BDCollectionTypeEnum").STATIC:d=[].concat(d,b.getStaticSignals());break;case c("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,b.getDynamicSignals());break;case c("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,b.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}g.initialize=a;g.clearBuffer=i;g.appendSignal=b;g.clearBiometricSignals=e;g.getLastSignalFormatBySignalId=f;g.retrieveSignal=j;g.retrieveSignals=k;g.getSignalsAsJSONString=l;g._getSignalIdsByCollectionType=m}),98);
__d("BDUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}f.uuid=a}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743095");c=b("FalcoLoggerInternal").create("bd_pdc_signals",a);e.exports=c}),null);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalCollectionManager",i=function(){function a(){var a=this;this.$1=!1;this.$6=function(b){if(b instanceof CustomEvent&&b.detail!=null&&b.detail.data!=null){var d=c("BDClientConfig").get().getBiometricSignalsMap().get(b.detail.signalId);d!=null&&a.$4(b.detail.data,d)}}}var e=a.prototype;e.collectSignals=function(a){var c=this,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=[];a.forEach(function(a){a.signalFlags.includes(4)?c.$2(a):d.push(c.$3(a))});e.next=4;return b("regeneratorRuntime").awrap(b("Promise").all(d));case 4:case"end":return e.stop()}},null,this)};e.isEqualToLastCollectedSignal=function(a,b){var c=d("BDSignalBuffer").getLastSignalFormatBySignalId(b.signalType);return c.valueOrError==void 0?!1:a.isEqual(c.valueOrError,new Set(b.signalFlags))};e.getCircularBufferSize=function(a){var b=c("BDClientConfig").get(),d=b.getBufferSizeBySignalId(a.signalType);if(d!=null&&b.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return b.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return b.getBiometricSignalBufferSize();else return b.getDynamicSignalBufferSize()};e.$3=function(a){var c,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=a.getSignalCollector();if(!(c!=null)){f.next=12;break}f.prev=2;f.next=5;return b("regeneratorRuntime").awrap(c.executeAsyncSignalCollection());case 5:e=f.sent;this.$4(e,a);f.next=12;break;case 9:f.prev=9,f.t0=f["catch"](2),d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:f.t0});case 12:case"end":return f.stop()}},null,this,[[2,9]])};e.$2=function(a){this.$5();a=a.getSignalCollector();a!=null&&a instanceof d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};e.$5=function(){if(this.$1)return;window.addEventListener(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};e.$4=function(a,b){b.getBufferConfig()==null&&d("BDSignalBuffer").initialize(b.signalType,this.getCircularBufferSize(b),b.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,b)&&d("BDSignalBuffer").appendSignal(b.signalType,a)};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};e=a;g["default"]=e}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","Promise","SignalCollectionManager","WebStorage","javascript-blowfish","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h="BDClientSignalCollectionTrigger",i="signal_flush_timestamp",j=!1,k=!1,l=!1,m=0,n=0,o=0,p=30,q=5,r,s,t=d("BDUtils").uuid(),u=c("BDClientConfig").get(),v=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),w={startSignalCollection:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:u.setSID(a.sid);if(j){c.next=15;break}j=!0;d("BDServerConfig").parseConfig(a);if(u.isParsingDone()){c.next=8;break}d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});j=!1;return c.abrupt("return");case 8:a!=null&&(n=a.hbcbc&&a.hbcbc>0?a.hbcbc:n,o=a.hbvbc&&a.hbvbc>0?a.hbvbc:o,p=a.hbbi&&a.hbbi>0?a.hbbi:p);w.startHeartbeatDelayed();s=new(b("Promise"))(function(a,b){try{u.getDynamicSignals().length>0&&(w.collectDynamicSignals(),d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),u.getBiometricSignals().length>0&&(w.collectBiometricSignals(),d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),a()}catch(a){b(a)}});c.next=13;return b("regeneratorRuntime").awrap(s);case 13:c.next=15;return b("regeneratorRuntime").awrap(w.startSignalPosting());case 15:j&&!k&&!l&&q>0&&(q-=1,d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),w.startHeartbeatDelayed());case 16:case"end":return c.stop()}},null,this)},retrieveSignals:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(s);case 2:a.next=4;return b("regeneratorRuntime").awrap(w.postSignals([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC,c("BDCollectionTypeEnum").STATIC]));case 4:case"end":return a.stop()}},null,this)},postSignals:function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(w.collectStaticSignals());case 2:w._postSignalsHelper(d("BDSignalBuffer").getSignalsAsJSONString(a),v.NONE)&&w.setTimestampInStorage(Date.now(),i);case 3:case"end":return c.stop()}},null,this)},_postSignalsHelper:function(a,b){if(a.length<=2)return!1;var e=u.getConfigGenerationTimeStamp(),f=w.encryptDataUsingAsid(t,a);a=function(){return{asid:t,ct:e,sjd:f,sid:u.sid}};var g=!1;try{b===v.CRITICAL?c("BdPdcSignalsFalcoEvent").logCritical(a):b===v.VITAL?c("BdPdcSignalsFalcoEvent").logImmediately(a):c("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_LENGTH);return""}var b="";for(var c=0;c<8;c++)b+=String.fromCharCode(a.charCodeAt(c)^a.charCodeAt(8+c));return b},encryptDataUsingAsid:function(a,b){if(a.length!==36){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_GUID);return b}a=a.slice(19,23)+a.slice(24,36);var e=w.getInitialVector(a);a=new(c("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(b,e))},startSignalPosting:function(){var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a=w.getTimestampInStorage(i);c=Date.now()-a;if(!(c>=u.getAllTiersFlushDurationMs())){d.next=7;break}d.next=5;return b("regeneratorRuntime").awrap(w.postSignalsIntermittently());case 5:d.next=8;break;case 7:window.setTimeout(function(){w.postSignalsIntermittently()},u.getAllTiersFlushDurationMs()-c);case 8:case"end":return d.stop()}},null,this)},postSignalsIntermittently:function(){w.postSignals([c("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){w.postSignals([c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC])},u.getAllTiersFlushDurationMs())},setTimestampInStorage:function(a,b){var e=c("WebStorage").getLocalStorage();if(!e){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}e=c("WebStorage").setItemGuarded(e,b,a.toString());e!=null&&d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:e.message})},getTimestampInStorage:function(a){var b=c("WebStorage").getLocalStorage();if(!b){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return 0}b=b.getItem(a);if(b==null)return 0;a=Number.parseInt(b,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){k=!1,l=!1},startHeartbeatDelayed:function(){if(k||l)return;var a=w.getTimestampInStorage(w.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=u.getHeartbeatIntervalMs()?w.startHeartbeat():(window.setTimeout(function(){return w.startHeartbeat()},u.getHeartbeatIntervalMs()-a),l=!0)}catch(b){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:u.getHeartbeatIntervalMs().toString(),e:b})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!k&&u.getHeartbeatIntervalMs()>0&&(w.collectHeartbeatTimes(n,o),m!==0&&(window.clearInterval(m),d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),m=window.setInterval(function(){return w.collectHeartbeatTimes(n,o)},u.getHeartbeatIntervalMs()),k=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&w.collectHeartbeat(v.CRITICAL);b>0&&w.collectHeartbeat(v.VITAL);(a>1||b>1)&&window.setTimeout(function(){return w.collectHeartbeatTimes(a-1,b-1)},p*1e3)},collectHeartbeat:function(a){var b;b=u==null?void 0:(b=u.getHeartbeatSignal())==null?void 0:(b=b.getSignalCollector())==null?void 0:b.executeSignalCollection();if(b==null){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:a.toString()});w.postHeartbeat(a,b)&&w.setTimestampInStorage(Date.now(),w.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return w._postSignalsHelper(b,a)},collectStaticSignals:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(w.collectSignalsOneTime(u.getStaticSignals()));case 2:case"end":return a.stop()}},null,this)},collectDynamicSignals:function(){w.stopDynamicSignalCollection(),r=window.setInterval(function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(w.collectSignalsOneTime(u.getDynamicSignals()));case 2:case"end":return a.stop()}},null,this)},u.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){w.collectSignalsOneTime(u.getBiometricSignals())},stopDynamicSignalCollection:function(){r!=null&&(window.clearInterval(r),r=null)},collectSignalsOneTime:function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(c("SignalCollectionManager").get().collectSignals(a));case 2:case"end":return d.stop()}},null,this)}};a=w;g["default"]=a}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("BDClientSignalCollectionTrigger").startSignalCollection(c("BDSignalCollectionData"))}g.initSignalCollection=a}),98);
__d("MWChatTabEntryPoints.bs",[],(function(a,b,c,d,e,f){"use strict";a={};f.tabEntryPoints=a}),null);
__d("MessengerWebEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({ADD_PARTICIPANTS:"add_participants",BIRTHDAYS:"birthdays",CHAT_HEADS:"chat_heads",CHAT_HEADS_OVERFLOW:"chat_heads_overflow",CHAT_SEARCH:"chat_search",CHAT_WITH_SIDEBAR:"chat_with_sidebar",COMMUNITY_HELP:"community_help",COMPAT:"compat",COOKIE:"cookie",CREATE_GROUP_DIALOG:"create_group_dialog",CRISIS_LISTING_ATTACHMENT:"crisis_listing_attachment",EVENTS_PERMALINK:"events_permalink",FEED_POLL:"feed_poll",FEED_STORY_CTA:"feed_story_cta",FILES_TAB:"files_tab",FRIENDS_TAB:"friends_tab",FUNDRAISER:"fundraiser",FUNDRAISER_SUPPORT_REACTIVE_FAQ:"fundraiser_support:reactive_faq",FUNDRAISER_SUPPORT_REACTIVE_MORE_MENU:"fundraiser_support:reactive_more_menu",FUNDRAISER_SUPPORTERS_LIST:"fundraiser_supporters_list",GRATITUDE:"gratitude",GROUP_CHATS:"group_chats",GROUP_EXPERTS_DISCOVERY_INVITE:"group_experts_discovery_invite",GROUP_MEMBERS_TAB:"group_members_tab",GROUP_QUALITY:"group_quality",GROUP_REMOVE_POST_TOMBSTONE:"group_remove_post_tombstone",GROUP_WELCOME_POST:"group_welcome_post",HOVERCARD:"hovercard",INBOX:"inbox",INBOX_TRAY:"inbox_tray",JEWEL:"jewel",JEWEL_NEW_MESSAGE:"jewel_new_message",JEWEL_SEARCH:"jewel_search",JOBS:"jobs",LINKS_TAB:"links_tab",LOCAL_BUSINESSES_NEARBY:"local_businesses_nearby",LWI_SUPPORT_BUTTON:"lwi_support_button",MARKETPLACE:"marketplace",MEDIA_TAB:"media_tab",MEMORIES_HOME:"memories_home",MENTAL_HEALTH:"mental_health",MENTORSHIP:"mentorship",MESSAGE_RECEIVED:"message_received",MUTUAL_FRIENDS_DIALOG:"mutual_friends_dialog",NEW_MESSAGE_BUTTON:"new_msg_button",OFFER:"offer",P2P_PAYMENTS:"p2p_payments",PAGES_ABOUT:"pages_about",PAGES_ADMIN_INVITE_ITEM:"pages_admin_invite_item",PAGES_COMMENT_COMPOSER:"pages_comment_composer",PAGES_COMMUNITY_FRIENDS_DIALOG:"pages_community_friends_dialog",PAGES_CTA:"pages_cta",PAGES_DISCOVER_SUGGESTED_PAGE:"pages_discover_suggested_page",PAGES_HEADER:"pages_header",PAGES_HOME_FRIENDS_DIALOG:"pages_home_friends_dialog",PAGES_HOVERCARD:"pages_hovercard",PAGES_LIKE_INVITE_ITEM:"pages_like_invite_item",PAGES_POPUP_CHAT:"pages_popup_chat",PAGES_PRIVATE_REPLY:"pages_private_reply",PROFILE_SERVICES_MENU:"profile_services_menu",REACTOR_LIST:"reactor_list",RESHARES_DIALOG:"reshares_dialog",RHC_SEARCH:"rhc_search",RHC_SEARCH_ICON:"rhc_search_icon",ROOMS_LOBBY:"rooms_lobby",ROOMS_NULL_STATE:"rooms_null_state",SEARCH:"search",SEARCH_RESULT_PAGE:"search_result_page",SHOP:"shop",SIDEBAR:"sidebar",STORIES_VIEWED_BY_LIST:"stories_viewed_by_list",STORY_AGGREGATED_USERS:"story_aggregated_users",STORY_SEEN_BY_LIST:"story_seen_by_list",THREAD_DETAILS:"thread_details",TIMELINE:"timeline",UICE:"uice",UNKNOWN:"unknown",VOLUNTEERING:"volunteering",WORK_SHIFT_SWAP:"work_shift_swap"});f["default"]=a}),66);
__d("MessengerWebEntryPointsUtil.bs",["MessengerWebEntryPoint"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="pagesLikeInviteThem")return b("MessengerWebEntryPoint").PAGES_LIKE_INVITE_ITEM;else if(a==="pagesPrivateReply")return b("MessengerWebEntryPoint").PAGES_PRIVATE_REPLY;else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return b("MessengerWebEntryPoint").INBOX;else if(a==="jobs")return b("MessengerWebEntryPoint").jobs;else if(a==="storySeenByList"||a==="friendsTab")return b("MessengerWebEntryPoint").STORY_SEEN_BY_LIST;else if(a==="chatParticipants")return b("MessengerWebEntryPoint").ADD_PARTICIPANTS;else if(a==="compat")return b("MessengerWebEntryPoint").COMPAT;else if(a==="cookie")return b("MessengerWebEntryPoint").COOKIE;else if(a==="pagesAdminInviteItem")return b("MessengerWebEntryPoint").PAGES_ADMIN_INVITE_ITEM;else if(a==="groupWelcomePost")return b("MessengerWebEntryPoint").GROUP_WELCOME_POST;else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return b("MessengerWebEntryPoint").SIDEBAR;else if(a==="jewelNestedFolder"||a==="jewel")return b("MessengerWebEntryPoint").JEWEL;else if(a==="shop")return b("MessengerWebEntryPoint").SHOP;else if(a==="pageLikeChaining")return b("MessengerWebEntryPoint").PAGE_LIKE_CHAINING;else if(a==="chatheadsOverflow")return b("MessengerWebEntryPoint").CHAT_HEADS_OVERFLOW;else if(a==="feedDynamicHoverCard")return b("MessengerWebEntryPoint").PAGES_HOVERCARD;else if(a==="messengerUniversalSearch")return b("MessengerWebEntryPoint").SEARCH_RESULT_PAGE;else if(a==="mentorship")return b("MessengerWebEntryPoint").MENTORSHIP;else if(a==="reactorList")return b("MessengerWebEntryPoint").REACTOR_LIST;else if(a==="feedPoll")return b("MessengerWebEntryPoint").FEED_POLL;else if(a==="timeline"||a==="feedOrganicPost")return b("MessengerWebEntryPoint").TIMELINE;else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return b("MessengerWebEntryPoint").PAGES_ABOUT;else if(a==="inboxSearch"||a==="sidebarSearch"||a==="search")return b("MessengerWebEntryPoint").SEARCH;else if(a==="storyAggregatedUsers")return b("MessengerWebEntryPoint").STORY_AGGREGATED_USERS;else if(a==="fundraiserMoreMenu")return b("MessengerWebEntryPoint").FUNDRAISER_SUPPORT_REACTIVE_MORE_MENU;else if(a==="fundraiserFaq")return b("MessengerWebEntryPoint").FUNDRAISER_SUPPORT_REACTIVE_FAQ;else if(a==="notificationInThreadReply")return b("MessengerWebEntryPoint").MESSAGE_RECEIVED;else if(a==="roomsNullState")return b("MessengerWebEntryPoint").ROOMS_NULL_STATE;else if(a==="storyViewerSheetRow")return b("MessengerWebEntryPoint").STORIES_VIEWED_BY_LIST;else if(a==="feedOrganicPostNewsfeedPagePostCta")return b("MessengerWebEntryPoint").PAGES_CTA;else if(a==="chatheadsNewMessage")return b("MessengerWebEntryPoint").NEW_MESSAGE_BUTTON;else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return b("MessengerWebEntryPoint").GROUP_EXPERTS_DISCOVERY_INVITE;else if(a==="hovercard")return b("MessengerWebEntryPoint").HOVERCARD;else if(a==="crisisListingAttachment")return b("MessengerWebEntryPoint").CRISIS_LISTING_ATTACHMENT;else if(a==="mentalHealth")return b("MessengerWebEntryPoint").MENTAL_HEALTH;else if(a==="event")return b("MessengerWebEntryPoint").EVENTS_PERMALINK;else if(a==="jewelSearch")return b("MessengerWebEntryPoint").JEWEL_SEARCH;else if(a==="pagePopupChat")return b("MessengerWebEntryPoint").PAGES_POPUP_CHAT;else if(a==="communityHelp")return b("MessengerWebEntryPoint").COMMUNITY_HELP;else if(a==="jewelNewMessage")return b("MessengerWebEntryPoint").JEWEL_NEW_MESSAGE;else if(a==="fundraiser")return b("MessengerWebEntryPoint").FUNDRAISER;else if(a==="memories")return b("MessengerWebEntryPoint").MEMORIES_HOME;else if(a==="fundraiserSupportersList")return b("MessengerWebEntryPoint").FUNDRAISER_SUPPORTERS_LIST;else if(a==="groupRemovePost")return b("MessengerWebEntryPoint").GROUP_REMOVE_POST_TOMBSTONE;else if(a==="pagesHeader")return b("MessengerWebEntryPoint").PAGES_HEADER;else if(a==="groupMembers")return b("MessengerWebEntryPoint").GROUP_MEMBERS_TAB;else if(a==="chatheads")return b("MessengerWebEntryPoint").CHAT_HEADS;else if(a==="birthday")return b("MessengerWebEntryPoint").BIRTHDAYS;else if(a==="localBusinessesNearby")return b("MessengerWebEntryPoint").LOCAL_BUSINESSES_NEARBY;else if(a==="marketplace")return b("MessengerWebEntryPoint").MARKETPLACE;else if(a==="mutualFriendsDialog")return b("MessengerWebEntryPoint").MUTUAL_FRIENDS_DIALOG;else if(a==="feedOrganicPostViewAndMessage")return b("MessengerWebEntryPoint").FEED_STORY_CTA;else if(a==="profileServicesMenu")return b("MessengerWebEntryPoint").PROFILE_SERVICES_MENU;else if(a==="adsCta")return b("MessengerWebEntryPoint").RESHARES_DIALOG;else if(a==="offer")return b("MessengerWebEntryPoint").OFFER;else if(a==="payments")return b("MessengerWebEntryPoint").P2P_PAYMENTS;else if(a==="groupQuality")return b("MessengerWebEntryPoint").GROUP_QUALITY;else if(a==="pagesHomeFriendsDialog")return b("MessengerWebEntryPoint").PAGES_HOME_FRIENDS_DIALOG;else if(a==="communityFriendsDialog")return b("MessengerWebEntryPoint").PAGES_COMMUNITY_FRIENDS_DIALOG;else if(a==="groupChats")return b("MessengerWebEntryPoint").GROUP_CHATS;else if(a==="gratitude")return b("MessengerWebEntryPoint").GRATITUDE;else return b("MessengerWebEntryPoint").UNKNOWN}f.cast=a}),null);
__d("MWChatLogOpenChatTab.bs",["MWChatTabEntryPoints.bs","MessengerWebEntryPointsUtil.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","ODS"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=a!==void 0?a:!1;b("ODS").bumpEntityKey(3185,"mwchat_tab","open_user");var g=b("MessengerWebEntryPointsUtil.bs").cast(d);b("MWChatTabEntryPoints.bs").tabEntryPoints[c]=g;return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{entry_point:g,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:f?null:c,is_secured:f}})}function c(a,c,d){var e=a!==void 0?a:!1;b("ODS").bumpEntityKey(3185,"mwchat_tab","open_group");var f=b("MessengerWebEntryPointsUtil.bs").cast(d);b("MWChatTabEntryPoints.bs").tabEntryPoints[c]=f;return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{entry_point:f,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,thread_fbid:e?null:c,is_secured:e}})}function d(a,c,d,e){var f=a!==void 0?a:!1;b("ODS").bumpEntityKey(3185,"mwchat_tab","open_page");var g=b("MessengerWebEntryPointsUtil.bs").cast(d);b("MWChatTabEntryPoints.bs").tabEntryPoints[c]=g;return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{entry_point:g,event_name:b("MessengerWebEvent").OPEN_CHAT_TAB,other_user_fbid:f?null:c,is_secured:f}})}f.logOpenUserTab=a;f.logOpenGroupTab=c;f.logOpenPageTab=d}),null);
__d("WorkplaceMSPreloadThreadForUser.bs",["CurrentUser","MWChatThreadId.bs","bs_curry","ifRequired","killswitch","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.useCallback(function(a){if(!b("killswitch")("MESSENGER_WEB_STOP_PRELOADING_CONVERSATIONS")){b("ifRequired")("MessengerState.bs",function(c){var d=b("MWChatThreadId.bs").getMercuryID({NAME:"User",VAL:a});b("bs_curry")._4(c.getThreadMeta,b("CurrentUser").getID(),d,function(a){},null);b("bs_curry")._7(c.fetchMoreMessages,b("CurrentUser").getID(),d,0,10,function(a){},null,"mercury")},function(a){});return}},[])}f.usePreloaderForUser=a}),null);
__d("MWV1ChatOpenTabForUser.bs",["LSThreadAttributionStore.bs","MWChatInteraction.bs","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","MWChatOpenFantaTabForCoB","MWChatStateThread.bs","MercuryIDs","WorkplaceMSPreloadThreadForUser.bs","bs_curry","react","requireDeferred","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWChatLogOpenChatTab.bs").__setRef("MWV1ChatOpenTabForUser.bs");function a(a,c){var d=a!==void 0?a:!1,e=h.useContext(b("MWChatMultitabContext.bs").context),f=b("useMWChatOpenTabTraceProvider")(),g=b("useCometFeedNoRoutingNavigationEventLogger")(),j=b("MWChatOpenFantaTabForCoB").useHook();a=b("WorkplaceMSPreloadThreadForUser.bs").usePreloaderForUser(void 0);var k=h.useMemo(function(){return function(a,h){g(Date.now(),"","messenger");b("LSThreadAttributionStore.bs").setSource(a,c);i.onReady(function(d){return b("bs_curry")._4(d.logOpenUserTab,h,a,c,void 0)});return f(function(c){h||b("MWChatInteraction.bs").set(b("MWChatStateThread.bs").toString({_0:{NAME:"User",VAL:a}}),c);if(e!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,e,{TAG:1,_0:{NAME:"User",VAL:a},_1:{preventAutofocus:d}});else return j(b("MercuryIDs").getThreadIDFromUserID(a))},"user",c,a)}},[c,e,g,f,j,d]);return[k,a]}f.$MWChatLogOpenChatTab$Deferred=i;f.useHook=a}),null);
__d("MessengerWebQuickLogModule",[],(function(a,b,c,d,e,f){a=Object.freeze({ARMADILLO_WEB_VIDEO_TYPE_CHECK:25309473,COMPOSER_INTERACTION:25296900,FETCH_MORE_THREAD_LIST:25296906,FETCH_THREAD_INFO:25296904,FETCH_THREAD_LIST:25296905,FIRSTCHATTABOPEN_WWW:25296897,FORWARD_INTERACTION:25298392,GROUP_INPUT_INDIVIDUAL_TAB_OPEN_WWW:25296899,GROUP_INPUT_TAB_OPEN_WWW:25296898,INBOX_THREAD_NAVIGATION:25304023,JUMP_TO_MOST_RECENT_MESSAGE:25300623,JUMP_TO_REPLIED_MESSAGE:25301087,LS_INIT:25305590,LS_PLATFORM_LOGOUT:25311266,MAW_BRIDGE_TIMEOUT:25300103,MAW_BULK_WRITE_RECEIPTS:25297955,MAW_DECRYPT_MESSAGE:25306682,MAW_DECRYPT_MESSAGE_FINAL:25307464,MAW_DEVICE_REGISTRATION:25302457,MAW_ENCRYPTION_AT_REST_DECRYPT:25313004,MAW_ENCRYPTION_AT_REST_ENCRYPT:25300256,MAW_ENCRYPT_MESSAGE:25299294,MAW_FRANKING_VALIDATION:25299246,MAW_GET_DEVICES:25307483,MAW_HANDLE_INCOMING_MSG_TXN:25311150,MAW_IDB_NOT_SUPPORTED:25299354,MAW_INIT:25310776,MAW_LOCAL_STORAGE_NOT_SUPPORTED:25309925,MAW_MAYBE_WITH_TIMEOUT:25301116,MAW_MEDIA_DOWNLOAD:25312150,MAW_MEDIA_UPLOAD:25313100,MAW_MESSAGE_LIST_INIT:25298765,MAW_MESSAGE_LIST_PROCESSINIG:25308079,MAW_MULTI_TAB_MUTEX_NO_PERMISSION_INIT:25310181,MAW_MULTI_TAB_MUTEX_NO_PERMISSION_LOCALTAKEOVER:25312554,MAW_MULTI_TAB_MUTEX_NO_PERMISSION_REINIT:25299377,MAW_MULTI_TAB_WORKER_REINIT:25310984,MAW_OFFLINE_QUEUE_EXECUTION:25306361,MAW_OFFLINE_RETRY:25309990,MAW_PRE_LOGOUT:25309731,MAW_QUERY_GROUP:25310326,MAW_QUERY_GROUPS:25304433,MAW_RETRY_RECEIPTS:25308942,MAW_RETRY_RECEIPTS_SENT:25301644,MAW_SAVE_SIGNAL_SESSION_RETRIES:25309040,MAW_SEND_MESSAGE:25303022,MAW_TIMED_WAIT_UNTIL_COMPLETED:25301560,MAW_TIMED_WAIT_UNTIL_PERSISTED:25305468,MAW_TRANSACTION:25310437,MAW_UNVAULT:25313217,MAW_UPDATE_DEVICES_FOR_USER_TXN:25310731,MAW_VAULT:25301509,MAW_WA_CONNECTIVITY:25312111,MAW_WRITE_MSG_RECEIPTS_TXN:25299660,PAGE_LOAD_MDOTCOM_WWW:25296901,REPLY_INTERACTION:25298086,SEND_MESSAGE:25296903,SPROC_CALL:25302991,THREAD_LOAD_MDOTCOM_WWW:25296902});f["default"]=a}),66);
__d("LSDatabaseDeferred.bs",["Promise","QuickPerformanceLogger","bs_curry","cr:11003","qpl"],(function(a,b,c,d,e,f){"use strict";a=b("bs_curry")._1(b("cr:11003").get,void 0).then(function(a){try{b("QuickPerformanceLogger").markerPoint(b("qpl")._(25305590,"1127"),"db_created")}catch(a){}return b("Promise").resolve(a)});c=b("cr:11003");f.$LSPersistedDatabaseProvider$OR$LSEphemeralDatabaseProvider$requireCond=b("cr:11003");f.DatabaseProvider=c;f.db=a}),null);
__d("MWCMThreadTypes.bs",["MessagingThreadType.bs","bs_caml"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").communityGroup)}function c(a){return b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").communityGroupUnjoined)}function d(a){if(b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").communityGroup))return!0;else return b("bs_caml").i64_eq(a,b("MessagingThreadType.bs").communityGroupUnjoined)}f.isJoinedCMThread=a;f.isUnjoinedCMThread=c;f.isAnyCMThread=d}),null);
__d("BPlusTree",["BPlusTreeBase","nativePromiseRegeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a={},b=void 0,d=0;return{read:c("nativePromiseRegeneratorRuntime").mark(function b(d){return c("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.abrupt("return",a[d]);case 1:case"end":return b.stop()}},b,this)}),readExn:c("nativePromiseRegeneratorRuntime").mark(function b(d){return c("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:if(!Object.prototype.hasOwnProperty.call(a,d)){b.next=4;break}return b.abrupt("return",a[d]);case 4:throw c("unrecoverableViolation")("expected key","messenger_web_product");case 5:case"end":return b.stop()}},b,this)}),readHeader:c("nativePromiseRegeneratorRuntime").mark(function a(){return c("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",b);case 1:case"end":return a.stop()}},a,this)}),remove:c("nativePromiseRegeneratorRuntime").mark(function b(d){return c("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:delete a[d];case 1:case"end":return b.stop()}},b,this)}),write:c("nativePromiseRegeneratorRuntime").mark(function b(d,e){return c("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:a[d]=e;case 1:case"end":return b.stop()}},b,this)}),writeHeader:c("nativePromiseRegeneratorRuntime").mark(function a(d){return c("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:b=d;case 1:case"end":return a.stop()}},a,this)}),writeNew:c("nativePromiseRegeneratorRuntime").mark(function b(e){return c("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:a[d++]=e;return b.abrupt("return",d-1);case 2:case"end":return b.stop()}},b,this)})}}function i(a){var b=a.next();while(!b.done)b=a.next(b.value);return b.value}function a(a,b){b===void 0&&(b=16);var d=c("BPlusTreeBase")(a,b,h()),e;return e={"delete":function(a){return i(d["delete"](a))},entries:function(a){return d.entries(a)},get:function(a){return i(d.get(a))},getWithDefault:function(a,b){return i(d.getWithDefault(a,b))},has:function(a){return i(d.has(a))},set:function(a,b){i(d.set(a,b));return e}}}g["default"]=a}),98);
__d("BPlusTree.bs",["bs_belt_Option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a){return function(a){return a.next().value}(a.entries())}function c(a,c,d){return b("bs_belt_Option").getExn((a.has(c)?a:a.set(c,b("bs_curry")._1(d,void 0))).get(c))}f.first=a;f.getOrMake=c}),null);
__d("CancellationToken.bs",["bs_caml_exceptions"],(function(a,b,c,d,e,f){"use strict";c=b("bs_caml_exceptions").create("CancellationToken.TokenCancelled");function a(a){var b={contents:!1};return{cancel:function(a){b.contents=!0},isCancelled:function(a){return b.contents}}}f.TokenCancelled=c;f.make=a}),null);
__d("CancellablePromise.bs",["CancellationToken.bs","Promise","bs_caml_exceptions","bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_exceptions").create("CancellablePromise.PromiseError");e=function(a){throw a};function a(a){var c={contents:!1},d=new window.Promise(function(d,e){var f=a.then(function(a){c.contents?e(0):d({_0:a})});b("promiseDone")(f,void 0,void 0)})["catch"](function(a){if(a)throw{RE_EXN_ID:g,_1:a,Error:new Error()};return b("Promise").resolve(0)}),e=function(a){c.contents=!0};return[e,d]}function c(a,c,d){return d.then(function(d){if(b("bs_curry")._1(a.isCancelled,void 0))return b("Promise").reject({RE_EXN_ID:b("CancellationToken.bs").TokenCancelled});else return b("bs_curry")._1(c,d)})}function d(a,c){return c["catch"](function(c){if(c.RE_EXN_ID===b("CancellationToken.bs").TokenCancelled)return b("Promise").resolve(a);else return b("Promise").reject(c)})}f.PromiseError=g;f.jsThrowError=e;f.make=a;f.then_=c;f.ignoreFailed=d}),null);
__d("JSMap.bs",["bs_belt_Option","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt((a.has(c)?a:a.set(c,b("bs_curry")._1(d,void 0))).get(c)))}f.getOrMake=a}),null);
__d("PromiseOrValue.bs",["bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(a.TAG===0)return{TAG:0,_0:a._0.then(b("bs_curry").__1(c))};else return{TAG:1,_0:b("bs_curry")._1(c,a._0)}}function c(a,c){if(a.TAG!==0)return b("bs_curry")._1(c,a._0);b("promiseDone")(a._0,c,void 0)}function d(a){if(a.TAG===0)return{TAG:0,_0:a._0.then(function(a){return a._0})};else return a._0}function e(a,b){if(a.TAG===0){var c=a._0;if(b.TAG===0)return{TAG:0,_0:window.Promise.all([c,b._0])};var d=b._0;return{TAG:0,_0:c.then(function(a){return[a,d]})}}var e=a._0;if(b.TAG===0)return{TAG:0,_0:b._0.then(function(a){return[e,a]})};else return{TAG:1,_0:[e,b._0]}}function g(a){if(a.TAG===0)return a._0;else return window.Promise.resolve(a._0)}function h(a){return{TAG:1,_0:a}}function i(a){return{TAG:0,_0:a}}function j(a,c){while(!0){var d=c;d=b("bs_curry")._1(a,d);if(d.TAG===0)return{TAG:0,_0:d._0.then(function(b){b=b.TAG===0?{TAG:1,_0:b._0}:j(a,b._0);return b._0})};d=d._0;if(d.TAG===0)return{TAG:1,_0:d._0};c=d._0;continue}}f.map=a;f.mapDone=c;f.flatten=d;f.all2=e;f.toPromise=g;f.fromValue=h;f.fromPromise=i;f.loop=j}),null);
__d("WeakMap.bs",["bs_belt_Option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("bs_belt_Option").getExn((a.has(c)?a:a.set(c,b("bs_curry")._1(d,void 0))).get(c))}f.getOrMake=a}),null);
__d("ReQLQueryContext.bs",["WeakMap.bs"],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return new WeakMap()}function c(a){return b("WeakMap.bs").getOrMake(a,g,function(a){return[]})}function d(a,b){a.set(g,b)}f.dependencyKey=g;f.make=a;f.getDependencies=c;f.setDependencies=d}),null);
__d("SortedAsyncIterable.bs",["PromiseOrValue.bs","bs_caml_obj","bs_curry","bs_js_dict","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={};function h(a,b){if(a)return{hd:a.hd,tl:h(a.tl,b)};else return b}function a(a,c){while(!0){var d=c,e=a;if(!d)return e;if(!e)return b("unrecoverableViolation")("unexpected end of key","messenger_web_product");b("bs_caml_obj").caml_notequal(e.hd,d.hd)&&b("recoverableViolation")("expected keys to be equal","messenger_web_product");c=d.tl;a=e.tl;continue}}a={concat:h,strip:a};function c(a,c){return b("bs_curry")._2(a.subscribe,void 0,function(a,d,e){b("bs_curry")._2(c,a,d)})}var i={contents:void 0};function d(a){return b("bs_curry")._2(a.iterator,void 0,new WeakMap())}function j(c,d,a){a=b("bs_js_dict").fromArray([["direction",a]]);a.iterator=c;a.subscribe=d;return a}function e(a){return j(function(a,c){return{next:function(a){return b("PromiseOrValue.bs").fromValue({done:!0,value:void 0})}}},function(a,b){return function(a){}},"asc")}function k(a){return a.direction}f.Bounds=g;f.Key=a;f.iterator=d;f.subscribe=c;f.direction=k;f.globalQueryContext=i;f.make=j;f.empty=e}),null);
__d("bs_js_int",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a===b}b=2147483647;c=-2147483648;f.equal=a;f.max=b;f.min=c}),null);
__d("bs_js_math",["bs_js_int"],(function(a,b,c,d,e,f){"use strict";function a(a){return Math.ceil(a)}function c(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.ceil(a)}function d(a){return Math.floor(a)}function g(a){if(a>b("bs_js_int").max)return b("bs_js_int").max;else if(a<b("bs_js_int").min)return b("bs_js_int").min;else return Math.floor(a)}function e(a,b){return g(Math.random()*(b-a|0))+a|0}var h=c,i=g;f.unsafe_ceil=a;f.ceil_int=c;f.ceil=h;f.unsafe_floor=d;f.floor_int=g;f.floor=i;f.random_int=e}),null);
__d("bs_belt_Array",["bs_caml","bs_caml_option","bs_curry","bs_js_math"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(c>=0&&c<a.length)return b("bs_caml_option").some(a[c])}function c(a,b){if(!(b>=0&&b<a.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",27,4],Error:new Error()};return a[b]}function d(a,b,c){if(b>=0&&b<a.length){a[b]=c;return!0}else return!1}function e(a,b,c){if(!(b>=0&&b<a.length))throw{RE_EXN_ID:"Assert_failure",_1:["belt_Array.ml",33,2],Error:new Error()};a[b]=c}function g(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function h(a){var c=a.length;for(var d=0;d<c;++d)g(a,d,b("bs_js_math").random_int(d,c))}function i(a){a=a.slice(0);h(a);return a}function j(a){var b=a.length,c=0;for(var d=0,e=b/2|0;d<e;++d)g(a,c+d|0,((c+b|0)-d|0)-1|0)}function k(a){var b=a.length,c=new Array(b);for(var d=0;d<b;++d)c[d]=a[(b-1|0)-d|0];return c}function l(a,b){if(a<=0)return[];var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function m(a,b){if(a<=0)return[];var c=new Array(a);for(var d=0;d<a;++d)c[d]=b(d);return c}function n(a,c){return m(a,b("bs_curry").__1(c))}function o(a,b){a=m(a,b);h(a);return a}function p(a,c){return o(a,b("bs_curry").__1(c))}function q(a,b){b=b-a|0;if(b<0)return[];var c=new Array(b+1|0);for(var d=0;d<=b;++d)c[d]=a+d|0;return c}function r(a,b,c){b=b-a|0;if(b<0||c<=0)return[];b=(b/c|0)+1|0;var d=new Array(b);a=a;for(var e=0;e<b;++e)d[e]=a,a=a+c|0;return d}function s(a,b){var c=a.length,d=b.length;c=c<d?c:d;d=new Array(c);for(var e=0;e<c;++e)d[e]=[a[e],b[e]];return d}function t(a,b,c){var d=a.length,e=b.length;d=d<e?d:e;e=new Array(d);for(var f=0;f<d;++f)e[f]=c(a[f],b[f]);return e}function u(a,c,d){return t(a,c,b("bs_curry").__2(d))}function v(a,b){var c=a.length,d=b.length,e=new Array(c+d|0);for(var f=0;f<c;++f)e[f]=a[f];for(var a=0;a<d;++a)e[c+a|0]=b[a];return e}function w(a){var b=a.length,c=0;for(var d=0;d<b;++d)c=c+a[d].length|0;d=new Array(c);c=0;for(var e=0;e<b;++e){var f=a[e];for(var g=0,h=f.length;g<h;++g)d[c]=f[g],c=c+1|0}return d}function x(a,c,d){if(d<=0)return[];var e=a.length;c=c<0?b("bs_caml").caml_int_max(e+c|0,0):c;e=e-c|0;e=e<d?e:d;if(e<=0)return[];d=new Array(e);for(var f=0;f<e;++f)d[f]=a[c+f|0];return d}function y(a,c){var d=a.length;c=c<0?b("bs_caml").caml_int_max(d+c|0,0):c;d=d-c|0;var e=new Array(d);for(var f=0;f<d;++f)e[f]=a[c+f|0];return e}function z(a,c,d,e){if(d<=0)return;var f=a.length;c=c<0?b("bs_caml").caml_int_max(f+c|0,0):c;f=f-c|0;f=f<d?f:d;if(f<=0)return;for(var d=c,c=c+f|0;d<c;++d)a[d]=e}function A(a,b,c,d,e){if(d<=b){for(var f=0;f<e;++f)c[f+d|0]=a[f+b|0];return}for(var f=e-1|0;f>=0;--f)c[f+d|0]=a[f+b|0]}function B(a,c,d,e,f){var g=a.length,h=d.length;c=c<0?b("bs_caml").caml_int_max(g+c|0,0):c;e=e<0?b("bs_caml").caml_int_max(h+e|0,0):e;f=b("bs_caml").caml_int_min(f,b("bs_caml").caml_int_min(g-c|0,h-e|0));if(e<=c){for(var g=0;g<f;++g)d[g+e|0]=a[g+c|0];return}for(var h=f-1|0;h>=0;--h)d[h+e|0]=a[h+c|0]}function C(a,b){for(var c=0,d=a.length;c<d;++c)b(a[c])}function D(a,c){return C(a,b("bs_curry").__1(c))}function E(a,b){var c=a.length,d=new Array(c);for(var e=0;e<c;++e)d[e]=b(a[e]);return d}function F(a,c){return E(a,b("bs_curry").__1(c))}function G(a,c){var d=a.length,e=0,f;while(f===void 0&&e<d){var g=a[e];c(g)&&(f=b("bs_caml_option").some(g));e=e+1|0}return f}function H(a,c){return G(a,b("bs_curry").__1(c))}function I(a,b){var c=a.length,d=0,e;while(e===void 0&&d<c){var f=a[d];b(f)&&(e=d);d=d+1|0}return e}function aa(a,c){return I(a,b("bs_curry").__1(c))}function J(a,b){var c=a.length,d=new Array(c),e=0;for(var f=0;f<c;++f){var g=a[f];b(g)&&(d[e]=g,e=e+1|0)}d.length=e;return d}function ba(a,c){return J(a,b("bs_curry").__1(c))}function K(a,b){var c=a.length,d=new Array(c),e=0;for(var f=0;f<c;++f){var g=a[f];b(g,f)&&(d[e]=g,e=e+1|0)}d.length=e;return d}function ca(a,c){return K(a,b("bs_curry").__2(c))}function L(a,c){var d=a.length,e=new Array(d),f=0;for(var g=0;g<d;++g){var h=a[g];h=c(h);h!==void 0&&(e[f]=b("bs_caml_option").valFromOption(h),f=f+1|0)}e.length=f;return e}function da(a,c){return L(a,b("bs_curry").__1(c))}function M(a,b){for(var c=0,d=a.length;c<d;++c)b(c,a[c])}function ea(a,c){return M(a,b("bs_curry").__2(c))}function N(a,b){var c=a.length,d=new Array(c);for(var e=0;e<c;++e)d[e]=b(e,a[e]);return d}function fa(a,c){return N(a,b("bs_curry").__2(c))}function O(a,b,c){b=b;for(var d=0,e=a.length;d<e;++d)b=c(b,a[d]);return b}function ga(a,c,d){return O(a,c,b("bs_curry").__2(d))}function P(a,b,c){b=b;for(var d=a.length-1|0;d>=0;--d)b=c(b,a[d]);return b}function ha(a,c,d){return P(a,c,b("bs_curry").__2(d))}function Q(a,c,d,e){d=d;var f=b("bs_caml").caml_int_min(a.length,c.length);for(var f=f-1|0;f>=0;--f)d=e(d,a[f],c[f]);return d}function ia(a,c,d,e){return Q(a,c,d,b("bs_curry").__3(e))}function R(a,b,c){b=b;for(var d=0,e=a.length;d<e;++d)b=c(b,a[d],d);return b}function ja(a,c,d){return R(a,c,b("bs_curry").__3(d))}function S(a,b){var c=a.length,d=0;while(!0){var e=d;if(e===c)return!0;if(!b(a[e]))return!1;d=e+1|0;continue}}function ka(a,c){return S(a,b("bs_curry").__1(c))}function T(a,b){var c=a.length,d=0;while(!0){var e=d;if(e===c)return!1;if(b(a[e]))return!0;d=e+1|0;continue}}function la(a,c){return T(a,b("bs_curry").__1(c))}function U(a,b,c,d,e){while(!0){var f=c;if(f===e)return!0;if(!d(a[f],b[f]))return!1;c=f+1|0;continue}}function V(a,c,d){return U(a,c,0,d,b("bs_caml").caml_int_min(a.length,c.length))}function ma(a,c,d){return V(a,c,b("bs_curry").__2(d))}function W(a,c,d){var e=0,f=b("bs_caml").caml_int_min(a.length,c.length);while(!0){var g=e;if(g===f)return!1;if(d(a[g],c[g]))return!0;e=g+1|0;continue}}function na(a,c,d){return W(a,c,b("bs_curry").__2(d))}function X(a,b,c){var d=a.length,e=b.length;if(d===e)return U(a,b,0,c,d);else return!1}function oa(a,c,d){return X(a,c,b("bs_curry").__2(d))}function Y(a,b,c){var d=a.length,e=b.length;if(d>e)return 1;else if(d<e)return-1;else{e=0;while(!0){var f=e;if(f===d)return 0;var g=c(a[f],b[f]);if(g!==0)return g;e=f+1|0;continue}}}function pa(a,c,d){return Y(a,c,b("bs_curry").__2(d))}function Z(a,b){var c=a.length,d=0,e=0,f=new Array(c),g=new Array(c);for(var h=0;h<c;++h){var i=a[h];b(i)?(f[d]=i,d=d+1|0):(g[e]=i,e=e+1|0)}f.length=d;g.length=e;return[f,g]}function qa(a,c){return Z(a,b("bs_curry").__1(c))}function ra(a){var b=a.length,c=new Array(b),d=new Array(b);for(var e=0;e<b;++e){var f=a[e];c[e]=f[0];d[e]=f[1]}return[c,d]}function $(a,b,c){var d=a.length;if(d===0)return"";d=d-1|0;var e=0,f="";while(!0){var g=f,h=e;if(h===d)return g+c(a[h]);f=g+(c(a[h])+b);e=h+1|0;continue}}function sa(a,c,d){return $(a,c,b("bs_curry").__1(d))}f.get=a;f.getExn=c;f.set=d;f.setExn=e;f.shuffleInPlace=h;f.shuffle=i;f.reverseInPlace=j;f.reverse=k;f.make=l;f.range=q;f.rangeBy=r;f.makeByU=m;f.makeBy=n;f.makeByAndShuffleU=o;f.makeByAndShuffle=p;f.zip=s;f.zipByU=t;f.zipBy=u;f.unzip=ra;f.concat=v;f.concatMany=w;f.slice=x;f.sliceToEnd=y;f.fill=z;f.blit=B;f.blitUnsafe=A;f.forEachU=C;f.forEach=D;f.mapU=E;f.map=F;f.getByU=G;f.getBy=H;f.getIndexByU=I;f.getIndexBy=aa;f.keepU=J;f.keep=ba;f.keepWithIndexU=K;f.keepWithIndex=ca;f.keepMapU=L;f.keepMap=da;f.forEachWithIndexU=M;f.forEachWithIndex=ea;f.mapWithIndexU=N;f.mapWithIndex=fa;f.partitionU=Z;f.partition=qa;f.reduceU=O;f.reduce=ga;f.reduceReverseU=P;f.reduceReverse=ha;f.reduceReverse2U=Q;f.reduceReverse2=ia;f.reduceWithIndexU=R;f.reduceWithIndex=ja;f.joinWithU=$;f.joinWith=sa;f.someU=T;f.some=la;f.everyU=S;f.every=ka;f.every2U=V;f.every2=ma;f.some2U=W;f.some2=na;f.cmpU=Y;f.cmp=pa;f.eqU=X;f.eq=oa}),null);
__d("bs_js_exn",["bs_caml_js_exceptions"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_js_exceptions").internalToOCamlException;function a(a){throw new Error(a)}function c(a){throw new EvalError(a)}function d(a){throw new RangeError(a)}function e(a){throw new ReferenceError(a)}function h(a){throw new SyntaxError(a)}function i(a){throw new TypeError(a)}function j(a){throw new URIError(a)}b=b("bs_caml_js_exceptions").$$Error;f.$$Error=b;f.anyToExnInternal=g;f.raiseError=a;f.raiseEvalError=c;f.raiseRangeError=d;f.raiseReferenceError=e;f.raiseSyntaxError=h;f.raiseTypeError=i;f.raiseUriError=j}),null);
__d("ReQL.bs",["BPlusTree","BPlusTree.bs","CancellablePromise.bs","JSMap.bs","LSDbKeyComparer.bs","PromiseOrValue.bs","ReQLQueryContext.bs","SortedAsyncIterable.bs","bs_belt_Array","bs_belt_Option","bs_caml_js_exceptions","bs_caml_option","bs_curry","bs_js_dict","bs_js_exn","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=window.Promise,h=function(a,b){return b instanceof a};function a(a){return h(g,a)}var i=function(a){throw a};function j(a,c,d){d=b("bs_js_dict").fromArray([["direction",d]]);d.iterator=a;d.subscribe=c;return d}function k(a){return b("SortedAsyncIterable.bs").Key.concat(a,{hd:b("LSDbKeyComparer.bs").maxKey,tl:0})}function l(a){if(typeof a!=="object")return;var b=a.NAME;if(b!=="range")if(b==="greaterThan")return[k(a.VAL),a];else if(b==="greaterThanOrEqual")return[a.VAL,a];else return;b=a.VAL[0];if(typeof b!=="object")return;a=b.NAME;if(a==="greaterThan")return[k(b.VAL),b];else if(a==="greaterThanOrEqual")return[b.VAL,b];else return}function m(a){if(typeof a!=="object")return;var b=a.NAME;if(b==="lessThanOrEqual")return[k(a.VAL),a];if(b!=="range")if(b==="lessThan")return[a.VAL,a];else return;b=a.VAL[1];if(typeof b!=="object")return;a=b.NAME;if(a==="lessThanOrEqual")return[k(b.VAL),b];else if(a==="lessThan")return[b.VAL,b];else return}function n(a,c,d){a.forEach(function(a,e,f){e=a[0];f=e!==void 0?b("bs_belt_Option").mapWithDefault(l(e),!0,function(a){var d=a[0];if(a[1].NAME==="greaterThanOrEqual")return b("bs_curry")._2(b("LSDbKeyComparer.bs").cmp,c,d)>=0;else return b("bs_curry")._2(b("LSDbKeyComparer.bs").cmp,c,d)>0}):!0;e=e!==void 0?b("bs_belt_Option").mapWithDefault(m(e),!0,function(a){var d=a[0];if(a[1].NAME==="lessThan")return b("bs_curry")._2(b("LSDbKeyComparer.bs").cmp,c,d)<0;else return b("bs_curry")._2(b("LSDbKeyComparer.bs").cmp,c,d)<=0}):!0;if(f&&e)return b("bs_curry")._1(d,a[1])})}function o(a,c,d){return b("bs_curry")._2(a.iterator,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:d},{NAME:"lessThanOrEqual",VAL:d}]},c).next(void 0)}function p(c,d){try{var e,f=b("SortedAsyncIterable.bs").globalQueryContext.contents,g=(e=b("ReQLQueryContext.bs")).getDependencies(d);e.setDependencies(d,[]);b("SortedAsyncIterable.bs").globalQueryContext.contents=b("bs_caml_option").some(d);try{e=b("bs_curry")._1(c,void 0)}catch(a){b("ReQLQueryContext.bs").setDependencies(d,g);b("SortedAsyncIterable.bs").globalQueryContext.contents=f;throw a}var h=b("ReQLQueryContext.bs").getDependencies(d);return{TAG:1,_0:(b("ReQLQueryContext.bs").setDependencies(d,g),b("SortedAsyncIterable.bs").globalQueryContext.contents=f,[e,h])}}catch(h){g=b("bs_caml_js_exceptions").internalToOCamlException(h);if(g.RE_EXN_ID===b("bs_js_exn").$$Error){f=g._1;if(b("bs_curry")._1(a,f))return{TAG:0,_0:f.then(function(a){a=p(c,d);return a._0})}}e=b("bs_caml_js_exceptions").caml_as_js_exn(g);if(e!==void 0)return i(b("bs_caml_option").valFromOption(e));throw g}}function c(a,c){var d=new Map();return j(function(e,f){var g=b("bs_curry")._2(a.iterator,e,f);return{next:function(a){return b("PromiseOrValue.bs").loop(function(a){return b("PromiseOrValue.bs").map(g.next(a),function(a){if(a.done)return{TAG:0,_0:a};var e=b("bs_belt_Option").getExn(a.value),f=e[0];if(b("bs_curry")._1(c,e[1])){n(d,f,function(a){a.add(JSON.stringify(f))});return{TAG:0,_0:a}}else{n(d,f,function(a){a["delete"](JSON.stringify(f))});return{TAG:1,_0:void 0}}})},a)}}},function(e,f){var g={},h=new Set();d.set(g,[e,h]);var i=b("bs_curry")._2(a.subscribe,e,function(a,d,e){if(typeof d==="number")if(h.has(JSON.stringify(a))){h["delete"](JSON.stringify(a));return b("bs_curry")._3(f,a,0,e)}else return;if(d.TAG===0){var g=d._0;if(b("bs_curry")._1(c,g)){h.add(JSON.stringify(a));return b("bs_curry")._3(f,a,{TAG:0,_0:g},e)}else return}g=d._0;if(b("bs_curry")._1(c,g))if(h.has(JSON.stringify(a)))return b("bs_curry")._3(f,a,{TAG:1,_0:g},e);else{h.add(JSON.stringify(a));return b("bs_curry")._3(f,a,{TAG:0,_0:g},e)}else if(h.has(JSON.stringify(a))){h["delete"](JSON.stringify(a));return b("bs_curry")._3(f,a,0,e)}else return});return function(a){d["delete"](g);return b("bs_curry")._1(i,void 0)}},b("SortedAsyncIterable.bs").direction(a))}function d(a,c){var d=new Map(),e=function(a,d,e,g,h){var i=b("JSMap.bs").getOrMake(a,JSON.stringify(e),function(a){return[]});i.forEach(function(a){return b("bs_curry")._1(a,void 0)});i.length=0;h.forEach(function(h){i.push(b("bs_curry")._2(h.subscribe,void 0,function(h,i,j){return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(f(a,d,e,g,j),function(a){return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(d,e,{TAG:1,_0:b("bs_curry")._1(c,g)},j))})))}))})},f=function(a,d,f,g,h){return b("PromiseOrValue.bs").map(p(function(a){return b("bs_curry")._1(c,g)},h),function(b){e(a,d,f,g,b[1]);return b[0]})},g=function(a,c){var d=JSON.stringify(c);if(!a.has(d))return;c=b("bs_belt_Option").getExn(b("bs_caml_option").nullable_to_opt(a.get(JSON.stringify(c))));c.forEach(function(a){return b("bs_curry")._1(a,void 0)});c.length=0;a["delete"](d)};return j(function(f,g){var h=b("bs_curry")._2(a.iterator,f,g);return{next:function(a){return b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(h.next(a),function(f){if(f.done)return{TAG:1,_0:{done:!0,value:void 0}};f=b("bs_belt_Option").getExn(f.value);var h=f[1],a=f[0];return b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").map(p(function(a){return b("bs_curry")._1(c,h)},g),function(b){var c=b[1];n(d,a,function(b){return e(b[0],b[1],a,h,c)});return b[0]}),function(b){return{done:!1,value:[a,b]}})}))}}},function(e,h){var i={},j=new Map();d.set(i,[e,[j,h]]);var k=b("bs_curry")._2(a.subscribe,e,function(a,d,e){if(typeof d==="number"){g(j,a);return b("bs_curry")._3(h,a,0,e)}if(d.TAG===0){var i=d._0;return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(f(j,h,a,i,e),function(d){b("bs_curry")._1(c,i);return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(h,a,{TAG:0,_0:d},e))})))}var k=d._0;return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(f(j,h,a,k,e),function(d){b("bs_curry")._1(c,k);return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(h,a,{TAG:1,_0:d},e))})))});return function(a){j.forEach(function(a,c,d){a.forEach(function(a){return b("bs_curry")._1(a,void 0)})});d["delete"](i);return b("bs_curry")._1(k,void 0)}},b("SortedAsyncIterable.bs").direction(a))}function q(a){var c=[],d=b("SortedAsyncIterable.bs").iterator(a);a=function(a){return b("PromiseOrValue.bs").loop(function(a){return b("PromiseOrValue.bs").map(d.next(void 0),function(a){if(a.done)return{TAG:0,_0:c};else{c.push(b("bs_belt_Option").getExn(a.value)[1]);return{TAG:1,_0:void 0}}})},a)};return b("PromiseOrValue.bs").toPromise(a(void 0))}function e(a,c){return j(function(d,e){var f=b("bs_curry")._2(a.iterator,d,e),g=b("bs_curry")._2(c.iterator,d,e),h=function(a){return b("PromiseOrValue.bs").loop(function(a){var c=a[1];a=a[0];if(a.done||c.done)return{TAG:1,_0:{TAG:0,_0:{done:!0,value:void 0}}};var d=b("bs_belt_Option").getExn(a.value),e=d[0],h=b("bs_belt_Option").getExn(c.value),i=h[0],j=b("bs_curry")._2(b("LSDbKeyComparer.bs").cmp,e,i);if(j>0)return b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").all2({TAG:1,_0:a},g.next(e)),function(a){return{TAG:1,_0:a}});else if(j<0)return b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").all2(f.next(i),{TAG:1,_0:c}),function(a){return{TAG:1,_0:a}});else return{TAG:1,_0:{TAG:0,_0:{done:!1,value:[e,[d[1],h[1]]]}}}},a)};return{next:function(a){return b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").all2(f.next(a),g.next(a)),h))}}},function(d,e){var f={contents:!0},g=function(a,c,d,g,h,i){return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(b("bs_curry")._2(a.iterator,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:g},{NAME:"lessThanOrEqual",VAL:g}]},i).next(void 0),function(a){if(!(!a.done&&f.contents))return{TAG:1,_0:void 0};a=b("bs_belt_Option").getExn(a.value);var j=a[1];j=typeof h==="number"?0:h.TAG===0?{TAG:0,_0:b("bs_curry")._2(d,h._0,j)}:{TAG:1,_0:b("bs_curry")._2(d,h._0,j)};return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(e,b("bs_curry")._1(c,[g,a[0]]),j,i))})))},h=b("bs_curry")._2(a.subscribe,d,function(a,b,d){return g(c,function(a){return a[0]},function(a,b){return[a,b]},a,b,d)}),i=b("bs_curry")._2(c.subscribe,d,function(b,c,d){return g(a,function(a){return a[1]},function(a,b){return[b,a]},b,c,d)});return function(a){f.contents=!1;b("bs_curry")._1(h,void 0);return b("bs_curry")._1(i,void 0)}},b("SortedAsyncIterable.bs").direction(a))}function r(a,c){return j(function(d,e){var f=b("bs_curry")._2(a.iterator,d,e),g=b("bs_curry")._2(c.iterator,d,e),h={contents:g.next(void 0)},i=function(a){return b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(h.contents,function(c){var d;if(c.done)d=!0;else{var e=b("bs_belt_Option").getExn(c.value);d=b("bs_curry")._2(b("LSDbKeyComparer.bs").cmp,a,e[0])<=0}e=d?{TAG:1,_0:c}:g.next(b("bs_caml_option").some(a));h.contents=e;return e}))};return{next:function(a){return b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(f.next(a),function(a){if(a.done)return{TAG:1,_0:{done:!0,value:void 0}};var c=b("bs_belt_Option").getExn(a.value);return b("PromiseOrValue.bs").map(i(c[0]),function(d){var c=b("bs_belt_Option").getExn(a.value),e=c[1];c=c[0];if(d.done)return{done:!1,value:[c,[e,void 0]]};d=b("bs_belt_Option").getExn(d.value);var f=b("bs_curry")._2(b("LSDbKeyComparer.bs").cmp,c,d[0]);if(f>0)return b("unrecoverableViolation")("Right iterable should always be equal to or ahead","messenger_web_product");else if(f<0)return{done:!1,value:[c,[e,void 0]]};else return{done:!1,value:[c,[e,b("bs_caml_option").some(d[1])]]}})}))}}},function(d,e){var f={contents:!0},g=b("bs_curry")._2(a.subscribe,d,function(a,d,g){return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(o(c,g,a),function(c){if(!f.contents)return{TAG:1,_0:void 0};if(c.done){var h;h=typeof d==="number"?0:d.TAG===0?{TAG:0,_0:[d._0,void 0]}:{TAG:1,_0:[d._0,void 0]};return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(e,a,h,g))}h=c.value;c=h!==void 0?b("bs_caml_option").some(h[1]):void 0;h=typeof d==="number"?0:d.TAG===0?{TAG:0,_0:[d._0,c]}:{TAG:1,_0:[d._0,c]};return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(e,a,h,g))})))}),h=b("bs_curry")._2(c.subscribe,d,function(c,d,g){return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(o(a,g,c),function(a){if(!(!a.done&&f.contents))return{TAG:1,_0:void 0};a=b("bs_belt_Option").getExn(a.value);a=a[1];a=typeof d==="number"?0:d.TAG===0?{TAG:0,_0:[a,b("bs_caml_option").some(d._0)]}:{TAG:1,_0:[a,b("bs_caml_option").some(d._0)]};return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(e,c,a,g))})))});return function(a){f.contents=!1;b("bs_curry")._1(g,void 0);return b("bs_curry")._1(h,void 0)}},b("SortedAsyncIterable.bs").direction(a))}function s(a,c){var d=function(a,c,d){if(a===void 0)if(c!==void 0)return b("bs_caml_option").some(c[1]);else return;var e=a[1];if(c!==void 0&&Math.imul(b("bs_curry")._2(b("LSDbKeyComparer.bs").cmp,a[0],c[0]),d)<=0)return b("bs_caml_option").some(c[1]);else return b("bs_caml_option").some(e)},e=function(a,b){if(b===void 0)return a;var c=d(l(b),l(a),1);b=d(m(b),m(a),-1);if(c!==void 0)if(b!==void 0)return{NAME:"range",VAL:[c,b]};else return c;else if(b!==void 0)return b;else return};return j(function(d,f){return b("bs_curry")._2(a.iterator,e(c,d),f)},function(d,f){return b("bs_curry")._2(a.subscribe,e(c,d),f)},b("SortedAsyncIterable.bs").direction(a))}function t(a,c){var d={NAME:"greaterThanOrEqual",VAL:c},e={NAME:"lessThanOrEqual",VAL:c},f=function(a){if(a.NAME==="greaterThanOrEqual")return{NAME:"greaterThanOrEqual",VAL:b("SortedAsyncIterable.bs").Key.concat(c,a.VAL)};else return{NAME:"greaterThan",VAL:b("SortedAsyncIterable.bs").Key.concat(c,a.VAL)}},g=function(a){if(a.NAME==="lessThan")return{NAME:"lessThan",VAL:b("SortedAsyncIterable.bs").Key.concat(c,a.VAL)};else return{NAME:"lessThanOrEqual",VAL:b("SortedAsyncIterable.bs").Key.concat(c,a.VAL)}},h=function(a){if(a!==void 0){var b=a.NAME;if(b==="range"){var c=a.VAL;c={NAME:"range",VAL:[f(c[0]),g(c[1])]}}else c=b==="greaterThanOrEqual"||b==="greaterThan"?{NAME:"range",VAL:[f(a),e]}:{NAME:"range",VAL:[d,g(a)]}}else c={NAME:"range",VAL:[d,e]};return c};return j(function(d,e){var f=b("bs_curry")._2(a.iterator,h(d),e);return{next:function(a){return b("PromiseOrValue.bs").map(f.next(b("bs_belt_Option").map(a,function(a){return b("SortedAsyncIterable.bs").Key.concat(c,a)})),function(a){return{done:a.done,value:b("bs_belt_Option").map(a.value,function(a){return[b("SortedAsyncIterable.bs").Key.strip(a[0],c),a[1]]})}})}}},function(d,e){return b("bs_curry")._2(a.subscribe,h(d),function(a,d,f){return b("bs_curry")._3(e,b("SortedAsyncIterable.bs").Key.strip(a,c),d,f)})},b("SortedAsyncIterable.bs").direction(a))}function u(a,c){var d=new Map();return j(function(e,f){var g=b("bs_curry")._2(a.iterator,e,f),h={contents:0};return{next:function(a){if(h.contents>=c)return{TAG:1,_0:{done:!0,value:void 0}};else return b("PromiseOrValue.bs").map(g.next(a),function(e){if(!e.done){var f=b("bs_belt_Option").getExn(e.value),a=f[0];n(d,a,function(b){var d=b[1];if(d.contents<=c){d.contents=d.contents+1|0;b[0].set(a,void 0);return}})}h.contents=h.contents+1|0;return e})}}},function(e,f){var g={},h=b("SortedAsyncIterable.bs").direction(a),i=h==="asc"?1:-1,j=b("BPlusTree")(function(a,c){return Math.imul(b("bs_curry")._2(b("LSDbKeyComparer.bs").cmp,a,c),-i|0)}),k={contents:0};d.set(g,[e,[j,k]]);var l=b("bs_curry")._2(a.subscribe,e,function(e,h,l){var m=b("bs_belt_Option").map(b("BPlusTree.bs").first(j),function(a){return a[0]}),n=b("bs_belt_Option").mapWithDefault(m,!0,function(a){return Math.imul(b("bs_curry")._2(b("LSDbKeyComparer.bs").cmp,e,a),i)<=0});if(typeof h==="number"){if(!n)return;j["delete"](e);var o=window.Promise.resolve(void 0);return b("PromiseOrValue.bs").toPromise(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").flatten(b("PromiseOrValue.bs").map(b("PromiseOrValue.bs").fromPromise(o.then(function(a){return b("bs_curry")._3(f,e,0,l)})),function(c){return b("bs_curry")._2(a.iterator,b("bs_belt_Option").map(m,function(a){if(i!==1)return{NAME:"lessThan",VAL:a};else return{NAME:"greaterThan",VAL:a}}),l).next(void 0)})),function(c){if(!c.done&&d.has(g)){c=b("bs_belt_Option").getExn(c.value);var a=c[0];j.set(a,void 0);return b("PromiseOrValue.bs").fromPromise(b("bs_curry")._3(f,a,{TAG:0,_0:c[1]},l))}k.contents=k.contents-1|0;return{TAG:1,_0:void 0}})))}if(h.TAG!==0)if(n)return b("bs_curry")._3(f,e,h,l);else return;if(k.contents<c){k.contents=k.contents+1|0;j.set(e,void 0);return b("bs_curry")._3(f,e,h,l)}if(!n)return;if(m!==void 0){j["delete"](m);o=window.Promise.resolve(void 0);n=o.then(function(a){return b("bs_curry")._3(f,m,0,l)})}else n=window.Promise.resolve(void 0);return n.then(function(a){j.set(e,void 0);return b("bs_curry")._3(f,e,h,l)})});return function(a){d["delete"](g);return b("bs_curry")._1(l,void 0)}},b("SortedAsyncIterable.bs").direction(a))}function v(a){return q(u(a,1)).then(function(a){return b("bs_belt_Array").get(a,0)})}function w(a){return q(u(a,1)).then(function(a){return b("bs_belt_Array").getExn(a,0)})}function x(a,c){return j(function(d,e){var f=b("bs_curry")._2(a.iterator,d,e);return{next:function(a){a=f.next(a);if(a.TAG===0)return{TAG:0,_0:b("CancellablePromise.bs").then_(c,function(a){return a},a._0)};else return a}}},a.subscribe,b("SortedAsyncIterable.bs").direction(a))}f.filter=c;f.map=d;f.toArray=q;f.mergeJoin=e;f.leftJoin=r;f.bounds=s;f.getKeyRange=t;f.take=u;f.first=v;f.firstExn=w;f.makeCancellable=x}),null);
__d("LSMetadata",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b={},c={};for(var d=0;d<a.length;d++){var e=a[d];for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h,i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;h={autoIncrement:(h=i.auto_increment)!=null?h:!1,cascadeUpdates:[],id:parseInt(i.id,10),indexes:i.indexes,name:i.name,primaryKeyIds:i.primary_key};b[h.id]=h;c[h.name]=h}}return{tableIds:b,tableNames:c}}function a(a){a=g(a);var b=a.tableIds;a=a.tableNames;return{tableIds:b,tableNames:a}}f.buildTableData=g;f.buildMetadata=a}),66);
__d("ReQLTable",["LSMetadata","LSStorage","LSTableSchemas","PromiseOrValue.bs","ReQLBounds.bs"],(function(a,b,c,d,e,f,g){"use strict";var h=d("LSMetadata").buildTableData(c("LSTableSchemas"));function i(a,b){return a==null?void 0:d("ReQLBounds.bs").mapBounds(b,a)}function j(a){var b=a.next;a.next=function(){var a=b.apply(this,arguments);return a instanceof window.Promise?d("PromiseOrValue.bs").fromPromise(a):d("PromiseOrValue.bs").fromValue(a)};return a}a={table:function(a,b){var c=h.tableNames[b],e=a.table(b);a=c.primaryKeyIds.length;var f=function(a,b,c){return{direction:a,iterator:function(d,e){return j(b.entries(e,a,i(d,c)))},subscribe:function(a,e){return b.subscribe(function(a,b,c){return e(a,d("ReQLBounds.bs").mapEventToOperation(b),c)},i(a,c))}}};return{add:e.add,asc:f("asc",e,a),"delete":function(a){return e["delete"](a)},desc:f("desc",e,a),get:function(a){return e.get(a)},index:function(a){var c=h.tableNames[b].indexes[a],d=e.index(a);a=c.keyIds.length;return babelHelpers["extends"]({},d,{asc:f("asc",d,a),desc:f("desc",d,a),get:function(a){return d.get(a)},getKey:function(a){return d.getKey(a)}})},put:function(a){return e.upsert(d("LSStorage").searchKey(h,b,a),a)},upsert:function(a,b){return e.upsert(a,b)}}}};g["default"]=a}),98);
__d("MWChatMultitabCookieWriter.bs",["DeferredCookie","LSDatabaseDeferred.bs","MWCMThreadTypes.bs","MWChatThreadId.bs","Promise","ReQL.bs","ReQLTable","bs_caml_format","bs_int64","gkx","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("gkx")("1747")){var c=function(a,c){return b("ReQL.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(a,"threads").asc,{hd:b("bs_caml_format").caml_int64_of_string(b("MWChatThreadId.bs").getFBID(c)),tl:0}))},d=b("LSDatabaseDeferred.bs").db.then(function(e){var f=a.chatHeads.map(function(a){return c(e,a).then(function(c){var d={};d.i=b("MWChatThreadId.bs").serializeFuture(a);c!==void 0&&b("MWCMThreadTypes.bs").isJoinedCMThread(c.threadType)&&(d.p=b("bs_int64").to_string(c.parentThreadKey));return b("Promise").resolve(d)})}),d=a.openTabsState,g;if(d.length!==1)g=b("Promise").resolve([void 0,void 0]);else{d=d[0];d=d.threadID;if(d){var h=d._0;g=c(e,h).then(function(a){var c=b("MWChatThreadId.bs").serializeFuture(h);a=a!==void 0&&b("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType)?b("bs_int64").to_string(a.parentThreadKey):void 0;return b("Promise").resolve([c,a])})}else g=b("Promise").resolve([void 0,void 0])}d=b("Promise").all([b("Promise").all(f),g]).then(function(c){var a=c[1];c=JSON.stringify({t3:c[0],utc3:Date.now(),lm3:a[0],lm3p:a[1],v:1});c!==void 0?b("DeferredCookie").addToQueue("presence","C"+c,0,"/",!1,!1,!0):b("recoverableViolation")("Failed to serialize cookie","messenger_comet");return b("Promise").resolve(void 0)});b("promiseDone")(d,void 0,void 0);return b("Promise").resolve(void 0)});b("promiseDone")(d,void 0,void 0);return}d=a.chatHeads.map(function(a){return{i:b("MWChatThreadId.bs").serializeFuture(a)}});var e=a.openTabsState,f;if(e.length!==1)f=void 0;else{e=e[0];e=e.threadID;f=e?b("MWChatThreadId.bs").serializeFuture(e._0):void 0}e=JSON.stringify({t3:d,utc3:Date.now(),lm3:f,v:1});e!==void 0?b("DeferredCookie").addToQueue("presence","C"+e,0,"",!1,!1,!0):b("recoverableViolation")("Failed to serialize cookie","messenger_comet")}c=1;f.version=c;f.write=a}),null);
__d("LSDict",["nativePromiseRegeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a.tag="ls-array";return a}a=function(){function a(a){this.size=0;var b=new Map(Array.from(a||[]).map(function(a){var b=a[0];a=a[1];return[JSON.stringify(b),a]}));this.$1=b;Object.defineProperties(this,{size:{get:function(){return b.size}}})}var b=a.prototype;b.get=function(a){return this.$1.get(JSON.stringify(a))};b.set=function(a,b){this.$1.set(JSON.stringify(a),b);return this};b["delete"]=function(a){return this.$1["delete"](JSON.stringify(a))};b.clear=function(){return this.$1.clear()};b.forEach=function(a,b){var c=this;this.$1.forEach(function(b,d){return a(b,JSON.parse(d),c)},b)};b.$2=function(){return this.$1.size};b.has=function(a){return this.$1.has(JSON.stringify(a))};b.entries=c("nativePromiseRegeneratorRuntime").mark(function a(){var b,d,e,f,g,h,i;return c("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:b=this.$1.entries(),d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 1:if(!d){a.next=7;break}if(!(e>=b.length)){a.next=4;break}return a.abrupt("break",18);case 4:f=b[e++];a.next=11;break;case 7:e=b.next();if(!e.done){a.next=10;break}return a.abrupt("break",18);case 10:f=e.value;case 11:g=f;h=g[0];i=g[1];a.next=16;return[JSON.parse(h),i];case 16:a.next=1;break;case 18:case"end":return a.stop()}},a,this)});b.keys=function(){return h(Array.from(this.$1.keys()).map(function(a){return JSON.parse(a)}))};b.values=function(){return this.$1.values()};a.fromObject=function(b){return new a(Object.entries(b))};a.shapeToRecord=function(a){return Array.from(a.entries()).reduce(function(a,b){var d=b[0];b=b[1];if(typeof d!=="string")throw c("unrecoverableViolation")("Cannot convert dicts with mixed keys to records","messenger_web_product");return babelHelpers["extends"]({},a,(a={},a[d]=b,a))},{})};return a}();g["default"]=a}),98);
__d("LSJson",["LSDict","bs_caml_int64","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=512;function i(a,b){b===void 0&&(b=0);if(b>h)throw c("unrecoverableViolation")("recursion limit exceeded","messenger_comet");if(typeof a==="string"||typeof a==="number"||typeof a==="boolean")return JSON.stringify(a);else if(a===void 0)return"null";else if(typeof a==="object")if(Array.isArray(a))return a.tag==="ls-array"?"["+a.map(function(a){return i(a,b+1)}).join(",")+"]":d("bs_caml_int64").to_string(a);else if(a instanceof c("LSDict"))return"{"+Array.from(a.entries()).map(function(a){var d=a[0];a=a[1];if(typeof d==="string")return JSON.stringify(d)+":"+i(a,b+1);else throw c("unrecoverableViolation")("key must be a string","messenger_comet")}).join(",")+"}";throw c("unrecoverableViolation")("type not supported: %s"+typeof a,"messenger_comet")}g.stringify=i}),98);
__d("LSDbForeignKeys.bs",["bs_js_dict","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=function(a,c,d,e,f){f=b("bs_js_dict").get(a.tableNames,d);if(f!==void 0){f.cascadeUpdates.push({tableName:c,indexName:e});return}else return b("unrecoverableViolation")("Failed to add foreign key","messenger_comet")};c(a,"attachments","messages","fk_messages",void 0);c(a,"attachment_items","attachments","fk_attachments",void 0);c(a,"attachment_ctas","attachments","fk_attachments",void 0);c(a,"thread_nullstate_ctas","threads","threadKeyCtaId",void 0);c(a,"messages","threads",void 0,void 0);c(a,"thread_nullstate","threads",void 0,void 0);c(a,"messages_ranges_v2__generated","threads",void 0,void 0);c(a,"participants","threads",void 0,void 0);c(a,"mi_act_mapping_table","threads","fk_threads",void 0);c(a,"encrypted_backup_restore_task_payload_context","pending_tasks",void 0,void 0);c(a,"secure_encrypted_backups_device_supported_versions","secure_encrypted_backups_devices","fk_secure_encrypted_backups_device_supported_versions_device_id",void 0);c(a,"secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","fk_secure_encrypted_backups_client_state",void 0);c(a,"pending_backups_context_v2","pending_tasks","fk_pending_tasks",void 0);c(a,"secure_recovery_code_data","pending_tasks","fk_pending_tasks",void 0);return c(a,"secure_encrypted_backups_message_thread_id_context","pending_tasks","fk_pending_tasks",void 0)}f.configure=a}),null);
__d("MPWLSDBCreateSchema.bs",["LSDbForeignKeys.bs","LSMetadata","LSTableSchemas"],(function(a,b,c,d,e,f){"use strict";a=b("LSMetadata").buildMetadata(b("LSTableSchemas"));b("LSDbForeignKeys.bs").configure(a);f.metadata=a}),null);
__d("MemoryDbStore",["recoverableViolation","regeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h={};function i(b){if(b==null)return b;var c=Object.getOwnPropertyNames(b),a={},d,e;for(d=0;d<c.length;d++)e=b[c[d]],a[c[d]]=Array.isArray(e)?[].concat(e):e;return a}function j(a,d){var e=d===void 0?"root":"index("+d+")";return{read:b("regeneratorRuntime").mark(function c(d,e){return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.abrupt("return",a.get(e));case 1:case"end":return b.stop()}},c,this)}),readExn:b("regeneratorRuntime").mark(function d(e,f){return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:if(a.has(f)){b.next=2;break}throw c("unrecoverableViolation")("expected key","messenger_web_product");case 2:return b.abrupt("return",a.get(f));case 3:case"end":return b.stop()}},d,this)}),readHeader:b("regeneratorRuntime").mark(function c(d){return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.abrupt("return",a.get(e));case 1:case"end":return b.stop()}},c,this)}),remove:b("regeneratorRuntime").mark(function c(d,e){return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:a["delete"](e);case 1:case"end":return b.stop()}},c,this)}),write:b("regeneratorRuntime").mark(function c(d,e,f){return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:a.put(e,f);case 1:case"end":return b.stop()}},c,this)}),writeHeader:b("regeneratorRuntime").mark(function c(d,f){return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:a.put(e,f);case 1:case"end":return b.stop()}},c,this)}),writeNew:b("regeneratorRuntime").mark(function c(d,e){return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.abrupt("return",a.add(e));case 1:case"end":return b.stop()}},c,this)})}}function k(a,b,c){return(a.has(b)?a:a.set(b,c())).get(b)}function a(){var a=new Map();return{waitForLock:function(){return window.Promise.resolve()},releaseLockIfNeeded:function(){return window.Promise.resolve()},createTransaction:function(){var d=new Map(),e=new Map();function f(b){return k(a,b,function(){return{data:new Map(),seed:0}})}return{flush:function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:d.forEach(function(a,b){var c=a.data;a=a.seed;var d=f(b);c.forEach(function(a,b){a===h?d.data["delete"](b):d.data.set(b,a)});d.seed=a});case 1:case"end":return a.stop()}},null,this)},table:function(a){return k(e,a,function(){var e,g=f(a),l=k(d,a,function(){return{data:new Map(),seed:g.seed}}),m=new Map(),n={add:function(a){l.data.set(l.seed,a);l.seed++;return l.seed-1},"delete":function(a){l.data.set(a,h)},get:function(a){if(!l.data.has(a))return g.data.get(a);a=l.data.get(a);return a===h?void 0:a},has:function(a){return l.data.has(a)&&l.data.get(a)!==h||g.data.has(a)},put:function(a,b){l.data.set(a,b)}};return babelHelpers["extends"]({},j(n),{readDataExn:(e=b("regeneratorRuntime")).mark(function a(d,e){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(n.has(e)){a.next=2;break}throw c("unrecoverableViolation")("expected key","messenger_web_product");case 2:return a.abrupt("return",n.get(e));case 3:case"end":return a.stop()}},a,this)}),writeData:e.mark(function d(e,f,g){return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:g===void 0&&c("recoverableViolation")("tried to add a undefined value to "+a,"messenger_web_product"),n.put(f,i(g));case 2:case"end":return b.stop()}},d,this)}),writeNewData:e.mark(function d(e,f){return b("regeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:f===void 0&&c("recoverableViolation")("tried to add a undefined value to "+a,"messenger_web_product");return b.abrupt("return",n.add(i(f)));case 2:case"end":return b.stop()}},d,this)}),incrementSeed:e.mark(function a(c,d){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:c=Math.max(n.get("seed")||0,d||0);n.put("seed",c+1);return a.abrupt("return",d===void 0?c:d);case 3:case"end":return a.stop()}},a,this)}),index:function(a){return k(m,a,function(){return j(n,a)})},readSeed:e.mark(function a(c){return b("regeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",n.get("seed")||0);case 1:case"end":return a.stop()}},a,this)})})})}}}}}g["default"]=a}),98);
__d("LSJSInMemoryStorage.bs",["LSStorage","MPWLSDBCreateSchema.bs","MemoryDbStore","ReStore"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("ReStore")(b("MemoryDbStore")(),b("LSStorage").createSubscriptionManager(b("MPWLSDBCreateSchema.bs").metadata),a)}f.make=a}),null);
__d("LSTransaction.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return a.runInTransaction(b,function(){switch(c){case"readOnly":return"readonly";case"readWrite":return"readwrite"}}())}f.run=a}),null);
__d("LSDatabaseType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,25],B=[0,26],C=[0,27],D=[0,28],E=[0,29],F=[0,30],G=[0,31],H=[0,32],I=[0,33],J=[0,34],K=[0,35],L=[0,36],M=[0,37],N=[0,38],O=[0,39],P=[0,40],Q=[0,41],R=[0,42],S=[0,43],T=[0,44],U=[0,45],V=[0,46],W=[0,47],X=[0,48],Y=[0,49],Z=[0,50],$=[0,51],aa=[0,52],ba=[0,53],ca=[0,54],da=[0,55],ea=[0,56],fa=[0,57],ga=[0,59],ha=[0,60],ia=[0,61],ja=[0,62],ka=[0,63],la=[0,64],ma=[0,65],na=[0,66],oa=[0,67],pa=[0,68],qa=[0,69],ra=[0,70],sa=[0,71],ta=[0,72],ua=[0,73],va=[0,74],wa=[0,75],xa=[0,76],ya=[0,77],za=[0,78],Aa=[0,79],Ba=[0,80],Ca=[0,81],Da=[0,82],Ea=[0,84],Fa=[0,85],Ga=[0,86],Ha=[0,87],Ia=[0,88],Ja=[0,89],Ka=[0,90],La=[0,91],Ma=[0,92],Na=[0,93],Oa=[0,94],Pa=[0,95],Qa=[0,96],Ra=[0,97],Sa=[0,98],Ta=[0,99],Ua=[0,100],Va=[0,101],Wa=[0,102],Xa=[0,103],Ya=[0,104],Za=[0,105],$a=[0,106],ab=[0,107],bb=[0,108],cb=[0,109];f.test=a;f.mailbox=c;f.contact=d;f.appAlerts=e;f.core=b;f.stories=g;f.presence=h;f.ranking=i;f.experiment=j;f.search=k;f.securemailbox=l;f.inboxAds=m;f.sticker=n;f.omnistoreRevisionTest=o;f.frx=p;f.payments=q;f.settings=r;f.gif=s;f.arEffects=t;f.platformExtensionSdk=u;f.businessTab=v;f.composerMenus=w;f.experimentalContactPhoneNumber=x;f.forwardContents=y;f.typing=z;f.qp=A;f.inthreadbanner=B;f.logSampling=C;f.threadTheme=D;f.mediaSend=E;f.contactUpload=F;f.aloha=G;f.omnistoreSimpleTest=H;f.booking=I;f.oneTimeSyncTest=J;f.threadEmoji=K;f.universalLinks=L;f.counters=M;f.emptyTest=N;f.accountSettings=O;f.videoChatLink=P;f.zeroRating=Q;f.connectivity=R;f.switchAccountBadging=S;f.emergencyPoll=T;f.cowatch=U;f.switchAccountProfiles=V;f.$$location=W;f.syncWatchdog=X;f.bloks=Y;f.mediaEditing=Z;f.pushNotifications=$;f.switchAccountBadgingRealtime=aa;f.dasmDebug=ba;f.testTwo=ca;f.dataTrace=da;f.mediaSharing=ea;f.pluginExtensions=fa;f.localUserSettings=ga;f.groups=ha;f.dabl=ia;f.linkedGroups=ja;f.fxcal=ka;f.rooms=la;f.proactiveWarnings=ma;f.messagingAds=na;f.supportInbox=oa;f.coreClient=pa;f.threadCoPresence=qa;f.marketplace=ra;f.carrierMessaging=sa;f.notificationsClient=ta;f.cat=ua;f.composerSettings=va;f.groupThreadImage=wa;f.coplayMetadata=xa;f.searchUserGroups=ya;f.tutorial=za;f.paidAds=Aa;f.avatarsCoPresence=Ba;f.graphql=Ca;f.transcribe=Da;f.ixtServerTrigger=Ea;f.novi=Fa;f.testFramework=Ga;f.broker=Ha;f.openMessenger=Ia;f.anonymousCredentials=Ja;f.mlModel=Ka;f.localAuth=La;f.soundBite=Ma;f.encryptedBackups=Na;f.businessOrderManagement=Oa;f.e2eeMessagingMetadataMailbox=Pa;f.communitiesMailbox=Qa;f.mostLikelyToPollQuestions=Ra;f.breakoutSessions=Sa;f.messagingNotificationConfigs=Ta;f.sandboxSelector=Ua;f.gamesBotThread=Va;f.fakeMessageStreamInternalOnly=Wa;f.coPresence=Xa;f.communityExclusive=Ya;f.clientOnlySample=Za;f.urlBlackhole=$a;f.sharing=ab;f.encryptedBackupsVersioning=bb;f.rpPolls=cb}),null);
__d("LSSyncChannel.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,3];f.mqtt=a;f.http=c;f.dgw=d}),null);
__d("LSMailboxInitialSyncCursor.bs",["CurrentLocale","LSSyncChannel.bs","gkx"],(function(a,b,c,d,e,f){"use strict";a=b("gkx")("1224637")?183:150;c=b("gkx")("1224637")?360:300;d=b("CurrentLocale").get();e={scale:1,preview_height:200,preview_width:a,preview_height_large:400,preview_width_large:c,full_height:200,snapshot_num_threads_per_page:15,locale:d};a={contents:b("LSSyncChannel.bs").mqtt};c={contents:0};d={contents:e};f.defaultSyncParams=e;f.syncChannel=a;f.lastSyncTimestampMs=c;f.syncParams=d}),null);
__d("LSSyncGroupsUtils.bs",["CurrentLocale","LSDict","LSJson","LSMailboxInitialSyncCursor.bs","LSSyncChannel.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.reduce(function(b,c){return b.then(function(b){return a.put(c)})},window.Promise.resolve(void 0))}c=b("LSJson").stringify(new(b("LSDict"))([["locale",b("CurrentLocale").get()]]));e={groupId:(d=b("bs_caml_int64")).zero,currentCursor:void 0,syncStatus:d.zero,syncParams:c,sendSyncParams:!0,minTimeToSyncTimestampMs:d.neg_one,canIgnoreTimestamp:!1,priority:d.zero,lastSyncRequestTimestampMs:d.zero,regionHint:void 0,lastSyncCompletedTimestampMs:void 0,dataTraceId:void 0,initTraceTimestampMs:void 0,syncChannel:b("LSSyncChannel.bs").mqtt};c=d.zero;b=d.of_float(b("LSMailboxInitialSyncCursor.bs").lastSyncTimestampMs.contents);c={taskQueueName:"",syncDatabaseId:d.zero,epochId:c,networkTaskIdentifier:void 0,lastSentTimestampMs:d.zero,failureCount:d.zero,lastSyncRequestTimestampMs:b,lastDelayedRequestTimestampMs:void 0};b={taskQueueName:"",syncDatabaseId:d.zero,epochId:void 0,networkTaskIdentifier:void 0,lastSentTimestampMs:d.zero,failureCount:d.zero,lastSyncRequestTimestampMs:d.zero,lastDelayedRequestTimestampMs:void 0};f.writeRows=a;f.defaultNetworkRequest=b;f.defaultSyncGroup=e;f.preloadedNetworkRequest=c}),null);
__d("MNetRankType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12],o=[0,13],p=[0,14],q=[0,15],r=[0,16],s=[0,17],t=[0,18],u=[0,19],v=[0,20],w=[0,21],x=[0,22],y=[0,23],z=[0,24],A=[0,26],B=[0,27],C=[0,28],D=[0,29],E=[0,30],F=[0,31],G=[0,32],H=[0,33],I=[0,34],J=[0,35],K=[0,36],L=[0,37],M=[0,38],N=[0,39],O=[0,40],P=[0,41],Q=[0,42],R=[0,43],S=[0,44];f.inboxActiveNow=a;f.messengerUserSearch=c;f.montageUser=d;f.broadcastFlowTopContacts=e;f.broadcastFlowNeedyContacts=b;f.messengerGroupSearch=g;f.rtcTopContacts=h;f.pstnTopContacts=i;f.messengerNonContactSearch=j;f.messengerSearchBootstrap=k;f.activeBeeper=l;f.montageAndActiveNow=m;f.messengerPageSearch=n;f.messengerGameSearch=o;f.wwwNullstate=p;f.rtcGrowth=q;f.messengerOmnipickerNullstate=r;f.rtcSequentialTopContacts=s;f.messengerUserSearchNullstate=t;f.mliteDiodePromotion=u;f.messengerPendingRequest=v;f.messengerCloseConnection=w;f.messengerMontageSeenSheet=x;f.messengerOmnipickerKeypress=y;f.messengerNotifQpTargetingUpsellType=z;f.contactTabActiveNow=A;f.messengerUnivNullstateBlend=B;f.messengerInboxThreads=C;f.inboxActiveNowNoBoosting=D;f.broadcastFlowTopContactsFbShare=E;f.broadcastFlowTopContactsMessengerShare=F;f.broadcastFlowTopContactsExternalShare=G;f.messengerTrendingStickers=H;f.messengerBroadcastFlowTopThreads=I;f.messengerSends28d=J;f.messengerRoomInvite=K;f.messengerRoomInviteSearch=L;f.inboxActiveNowPrefetch=M;f.messengerBlendedKeypress=N;f.messengerBlendedNullstate=O;f.messengerCarrierMessaging=P;f.messengerRoomInviteGroup=Q;f.messengerInboxBirthdayItem=R;f.instagramDirectSearchNullstate=S}),null);
__d("LSDefaultSyncGroups.bs",["CurrentUser","LSDatabaseType.bs","LSMailboxInitialSyncCursor.bs","LSSyncGroupsUtils.bs","MNetRankType.bs","ReQLTable","bs_caml_format","bs_caml_int64","bs_curry","cr:11269","qex"],(function(a,b,c,d,e,f){"use strict";c=b("qex")._("1549");d=c==null?!1:c;var g={mnet_rank_types:d?[b("MNetRankType.bs").messengerUserSearch,b("MNetRankType.bs").messengerUserSearchNullstate,b("MNetRankType.bs").inboxActiveNow,b("MNetRankType.bs").messengerOmnipickerNullstate].map(b("bs_caml_int64").to_int32):[]};function h(a){return[function(c){var d;return(c=b("LSSyncGroupsUtils.bs")).writeRows(b("ReQLTable").table(a,"network_requests"),[{taskQueueName:c.preloadedNetworkRequest.taskQueueName,syncDatabaseId:(d=b("LSDatabaseType.bs")).mailbox,epochId:c.preloadedNetworkRequest.epochId,networkTaskIdentifier:c.preloadedNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.preloadedNetworkRequest.lastSentTimestampMs,failureCount:c.preloadedNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.preloadedNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.preloadedNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.preloadedNetworkRequest.taskQueueName,syncDatabaseId:d.contact,epochId:c.preloadedNetworkRequest.epochId,networkTaskIdentifier:c.preloadedNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.preloadedNetworkRequest.lastSentTimestampMs,failureCount:c.preloadedNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.preloadedNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.preloadedNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.defaultNetworkRequest.taskQueueName,syncDatabaseId:d.payments,epochId:c.defaultNetworkRequest.epochId,networkTaskIdentifier:c.defaultNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.defaultNetworkRequest.lastSentTimestampMs,failureCount:c.defaultNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.defaultNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.defaultNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.defaultNetworkRequest.taskQueueName,syncDatabaseId:d.threadTheme,epochId:c.defaultNetworkRequest.epochId,networkTaskIdentifier:c.defaultNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.defaultNetworkRequest.lastSentTimestampMs,failureCount:c.defaultNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.defaultNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.defaultNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.defaultNetworkRequest.taskQueueName,syncDatabaseId:d.sticker,epochId:c.defaultNetworkRequest.epochId,networkTaskIdentifier:c.defaultNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.defaultNetworkRequest.lastSentTimestampMs,failureCount:c.defaultNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.defaultNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.defaultNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.defaultNetworkRequest.taskQueueName,syncDatabaseId:d.settings,epochId:c.defaultNetworkRequest.epochId,networkTaskIdentifier:c.defaultNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.defaultNetworkRequest.lastSentTimestampMs,failureCount:c.defaultNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.defaultNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.defaultNetworkRequest.lastDelayedRequestTimestampMs},{taskQueueName:c.defaultNetworkRequest.taskQueueName,syncDatabaseId:d.inthreadbanner,epochId:c.defaultNetworkRequest.epochId,networkTaskIdentifier:c.defaultNetworkRequest.networkTaskIdentifier,lastSentTimestampMs:c.defaultNetworkRequest.lastSentTimestampMs,failureCount:c.defaultNetworkRequest.failureCount,lastSyncRequestTimestampMs:c.defaultNetworkRequest.lastSyncRequestTimestampMs,lastDelayedRequestTimestampMs:c.defaultNetworkRequest.lastDelayedRequestTimestampMs}])},function(c){var d,e,f;return(c=b("LSSyncGroupsUtils.bs")).writeRows(b("ReQLTable").table(a,"sync_groups"),[{groupId:(d=b("LSDatabaseType.bs")).mailbox,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:JSON.stringify((e=b("LSMailboxInitialSyncCursor.bs")).syncParams.contents),sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:c.defaultSyncGroup.minTimeToSyncTimestampMs,canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:(f=b("bs_caml_int64")).of_float(e.lastSyncTimestampMs.contents),regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:e.syncChannel.contents},{groupId:d.contact,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:c.defaultSyncGroup.minTimeToSyncTimestampMs,canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:f.of_float(e.lastSyncTimestampMs.contents),regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:e.syncChannel.contents},{groupId:d.payments,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:[2328,1316134911],canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel},{groupId:d.threadTheme,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:f.neg_one,canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel},{groupId:d.sticker,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:[2328,1316134911],canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel},{groupId:d.ranking,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:JSON.stringify(g),sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:[2328,1316134911],canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel},{groupId:d.settings,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:c.defaultSyncGroup.minTimeToSyncTimestampMs,canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel},{groupId:d.inthreadbanner,currentCursor:c.defaultSyncGroup.currentCursor,syncStatus:c.defaultSyncGroup.syncStatus,syncParams:c.defaultSyncGroup.syncParams,sendSyncParams:c.defaultSyncGroup.sendSyncParams,minTimeToSyncTimestampMs:f.neg_one,canIgnoreTimestamp:c.defaultSyncGroup.canIgnoreTimestamp,priority:c.defaultSyncGroup.priority,lastSyncRequestTimestampMs:c.defaultSyncGroup.lastSyncRequestTimestampMs,regionHint:c.defaultSyncGroup.regionHint,lastSyncCompletedTimestampMs:c.defaultSyncGroup.lastSyncCompletedTimestampMs,dataTraceId:c.defaultSyncGroup.dataTraceId,initTraceTimestampMs:c.defaultSyncGroup.initTraceTimestampMs,syncChannel:c.defaultSyncGroup.syncChannel}])},function(c){return b("LSSyncGroupsUtils.bs").writeRows(b("ReQLTable").table(a,"_user_info"),[{id:b("bs_caml_int64").one,facebookUserId:b("bs_caml_format").caml_int64_of_string(b("CurrentUser").getID())}])},function(c){if(b("cr:11269")==null)return window.Promise.resolve(void 0);else return b("bs_curry")._1(b("cr:11269").seed,a)}]}function a(a){return h(a).reduce(function(a,c){return a.then(b("bs_curry").__1(c))},window.Promise.resolve(void 0))}f.syncRankingLimited=d;f.syncRankingParams=g;f.$LSE2EEMetadataSyncSyncGroups$requireCond=b("cr:11269");f.writeData=h;f.seedDb=a}),null);
__d("MWLSSchemaEphemeral.bs",["LSDefaultSyncGroups.bs","LSJSInMemoryStorage.bs","LSTransaction.bs","MPWLSDBCreateSchema.bs","Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("Promise").resolve(b("LSJSInMemoryStorage.bs").make(b("MPWLSDBCreateSchema.bs").metadata)).then(function(a){return b("LSTransaction.bs").run(a,b("LSDefaultSyncGroups.bs").seedDb,"readWrite").then(function(b){return a})})}f.createDB=a}),null);
__d("GetLsDatabaseForComet.bs",["bs_curry","requireDeferred"],(function(a,b,c,d,e,f){"use strict";c=b("requireDeferred")("MWLSSchemaEphemeral.bs").__setRef("GetLsDatabaseForComet.bs");var g=c.load().then(function(a){return b("bs_curry")._1(a.createDB,void 0)});function a(a){return g}f.$MWLSSchemaEphemeral$Deferred=c;f.get=a}),null);
__d("LSEphemeralDatabaseProvider.bs",["bs_curry","cr:1942626"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_curry")._1(b("cr:1942626").get,void 0)}f.$GetLsDatabase$OR$GetLsDatabaseForComet$requireCond=b("cr:1942626");f.get=a}),null);
__d("ArbiterMixin",["Arbiter","guid"],(function(a,b,c,d,e,f){var g="arbiter$"+b("guid")(),h=Object.prototype.hasOwnProperty;a={_getArbiterInstance:function(){return h.call(this,g)?this[g]:this[g]=new(b("Arbiter"))()},inform:function(a,b,c){return this._getArbiterInstance().inform(a,b,c)},subscribe:function(a,b,c){return this._getArbiterInstance().subscribe(a,b,c)},subscribeOnce:function(a,b,c){return this._getArbiterInstance().subscribeOnce(a,b,c)},unsubscribe:function(a){this._getArbiterInstance().unsubscribe(a)},unsubscribeCurrentSubscription:function(){this._getArbiterInstance().unsubscribeCurrentSubscription()},releaseCurrentPersistentEvent:function(){this._getArbiterInstance().releaseCurrentPersistentEvent()},registerCallback:function(a,b){return this._getArbiterInstance().registerCallback(a,b)},query:function(a){return this._getArbiterInstance().query(a)}};e.exports=a}),null);
__d("AsyncDOM",["CSS","DOM","FBLogger"],(function(a,b,c,d,e,f){a={invoke:function(a,c){for(var d=0;d<a.length;++d){var e=a[d],f=e[0],g=e[1],h=e[2];e=e[3];h=h&&c||null;g&&(h=b("DOM").scry(h||document.documentElement,g)[0]);f!="eval"&&!h&&b("FBLogger")("async_dom").warn("Could not find relativeTo element for %s AsyncDOM operation based on selector: %s",f,g);switch(f){case"eval":new Function(e).apply(h);break;case"hide":b("CSS").hide(h);break;case"show":b("CSS").show(h);break;case"setContent":b("DOM").setContent(h,e);break;case"appendContent":b("DOM").appendContent(h,e);break;case"prependContent":b("DOM").prependContent(h,e);break;case"insertAfter":b("DOM").insertAfter(h,e);break;case"insertBefore":b("DOM").insertBefore(h,e);break;case"remove":b("DOM").remove(h);break;case"replace":b("DOM").replace(h,e);break;default:b("FBLogger")("async_dom").warn("Received invalid command %s for AsyncDOM operation",f)}}}};e.exports=a}),null);
__d("AsyncResponse",["invariant","Bootloader","FBLogger","HTML"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(){function a(a,b){this.error=0,this.errorSummary=null,this.errorDescription=null,this.onload=null,this.replay=!1,this.payload=b,this.request=a,this.silentError=!1,this.transientError=!1,this.blockedAction=!1,this.is_last=!0,this.responseHeaders=null}var b=a.prototype;b.getRequest=function(){return this.request};b.getPayload=function(){return this.payload};b.toError=function(){this.error!==0||h(0,5599);var a=this.errorSummary||"",b=this.getErrorDescriptionString()||"",c=new Error(a.toString()+": "+b);Object.assign(c,{code:this.error,description:this.errorDescription||"",descriptionString:b,response:this,summary:a,isSilent:this.silentError,isTransient:this.transientError});return c};b.getError=function(){return this.error};b.getErrorSummary=function(){return this.errorSummary};b.setErrorSummary=function(a){a=a===void 0?null:a;this.errorSummary=a;return this};b.getErrorDescription=function(){return this.errorDescription};b.getErrorDescriptionString=function(){var a=this.getErrorDescription();if(a==null)return null;if(c("HTML").isHTML(a)){var b=new(c("HTML"))(a);return b.getRootNode().textContent}return a.toString()};b.getErrorIsWarning=function(){return!!this.errorIsWarning};b.isSilent=function(){return!!this.silentError};b.isTransient=function(){return!!this.transientError};b.isBlockedAction=function(){return!!this.blockedAction};b.getResponseHeader=function(a){var b=this.responseHeaders;if(!b)return null;b=b.replace(/^\n/,"");a=a.toLowerCase();b=b.split("\r\n");for(var c=0;c<b.length;++c){var d=b[c],e=d.indexOf(": ");if(e<=0)continue;var f=d.substring(0,e).toLowerCase();if(f===a)return d.substring(e+2)}return null};a.defaultErrorHandler=function(b){try{!b.silentError?a.verboseErrorHandler(b):c("FBLogger")("async_response").catching(b.toError()).warn("default error handler called")}catch(a){alert(b)}};a.verboseErrorHandler=function(a,b){c("Bootloader").loadModules(["ExceptionDialog"],function(c){return c.showAsyncError(a,b)},"AsyncResponse")};return a}();g["default"]=a}),98);
__d("FetchStreamConfig",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({delim:"/*<!-- fetch-stream -->*/"})}),null);
__d("StreamBlockReader",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){a=function(){function a(a){var c=this;if(!a.getReader)throw new Error("No getReader method found on given object");this.$3=a.getReader();this.$1="";this.$2=null;this.$4=!1;this.$5="utf-8";this.$6="";this.$9=!1;this.$8=function(){return b("Promise").reject("Sorry, you are somehow using this too early.")};this.$7=new(b("Promise"))(function(a,b){c.$8=a})}var c=a.prototype;c.changeEncoding=function(a){if(this.$2)throw new Error("Decoder already in use, encoding cannot be changed");this.$5=a};c.$10=function(){if(!self.TextDecoder)throw new Error("TextDecoder is not supported here");this.$2||(this.$2=new self.TextDecoder(this.$5));return this.$2};c.$11=function(){if(this.$9)throw new Error("Something else is already reading from this reader");this.$9=!0};c.$12=function(){this.$9=!1};c.isDone=function(){return this.$4};c.$13=function(){var a,c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(!(this.$6!=="")){f.next=4;break}a=this.$6;this.$6="";return f.abrupt("return",a);case 4:if(!this.isDone()){f.next=6;break}throw new Error("You cannot read from a stream that is done");case 6:f.next=8;return b("regeneratorRuntime").awrap(this.$3.read());case 8:c=f.sent;d=c.done;e=c.value;this.$4=d;d&&this.$8();return f.abrupt("return",e?this.$10().decode(e,{stream:!d}):"");case 14:case"end":return f.stop()}},null,this)};c.readNextBlock=function(){var a;return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:this.$11();a=this.$13();this.$12();return b.abrupt("return",a);case 4:case"end":return b.stop()}},null,this)};c.readUntilStringOrEnd=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.readUntilOneOfStringOrEnd_DO_NOT_USE([a]));case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},null,this)};c.readUntilStringOrThrow=function(a){var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:if(a){f.next=2;break}throw new Error("cannot read empty string");case 2:this.$11(),c="",d=0;case 5:if(this.isDone()){f.next=23;break}f.t0=c;f.next=9;return b("regeneratorRuntime").awrap(this.$13());case 9:c=f.t0+=f.sent;if(!(c.length<a.length)){f.next=12;break}return f.abrupt("continue",5);case 12:e=c.substring(d).indexOf(a);if(!(e!==-1)){f.next=20;break}e+=d;this.$6=c.substring(e+a.length);this.$12();return f.abrupt("return",c.substring(0,e));case 20:d=c.length-a.length+1;case 21:f.next=5;break;case 23:this.$6=c;this.$12();throw new Error("Breakpoint not found");case 26:case"end":return f.stop()}},null,this)};c.readUntilOneOfStringOrEnd_DO_NOT_USE=function(a){var c,d,e,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$11(),c="";case 2:if(this.isDone()){g.next=20;break}g.t0=c;g.next=6;return b("regeneratorRuntime").awrap(this.$13());case 6:c=g.t0+=g.sent,d=0;case 8:if(!(d<a.length)){g.next=18;break}e=a[d];f=c.indexOf(e);if(!(f!==-1)){g.next=15;break}this.$6=c.substring(f+e.length);this.$12();return g.abrupt("return",c.substring(0,f));case 15:d++;g.next=8;break;case 18:g.next=2;break;case 20:this.$12();return g.abrupt("return",c);case 22:case"end":return g.stop()}},null,this)};c.waitUntilDone=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:return a.abrupt("return",this.$7);case 1:case"end":return a.stop()}},null,this)};return a}();f["default"]=a}),66);
__d("mixin",[],(function(a,b,c,d,e,f){function a(){var a=function(){},b=0,c;while(b<0||arguments.length<=b?void 0:arguments[b]){c=b<0||arguments.length<=b?void 0:arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a.prototype[d]=c[d]);b+=1}return a}f["default"]=a}),66);
__d("FetchStreamTransport",["ArbiterMixin","FBLogger","FetchStreamConfig","StreamBlockReader","TimeSlice","URI","mixin","nullthrows","regeneratorRuntime"],(function $module_FetchStreamTransport(global,require,importDefault,importNamespace,requireLazy,module,exports){var instance_count=0,FetchStreamTransport=function(_ref){babelHelpers.inheritsLoose(FetchStreamTransport,_ref);function FetchStreamTransport(uri){var _this;if(!self.ReadableStream||!self.fetch||!Request||!TextDecoder)throw new Error("fetch stream transport is not supported here");_this=_ref.call(this)||this;_this.$FetchStreamTransport6=null;_this.$FetchStreamTransport1=uri;_this.$FetchStreamTransport3=!1;_this.$FetchStreamTransport4=!1;_this.$FetchStreamTransport5=!1;_this.$FetchStreamTransport2=++instance_count;return babelHelpers.assertThisInitialized(_this)||babelHelpers.assertThisInitialized(_this)}var _proto=FetchStreamTransport.prototype;_proto.hasFinished=function hasFinished(){return this.$FetchStreamTransport5};_proto.getRequestURI=function getRequestURI(){return new(importDefault("URI"))(this.$FetchStreamTransport1).addQueryData({__a:1,__adt:this.$FetchStreamTransport2,__req:"fetchstream_"+this.$FetchStreamTransport2,ajaxpipe_fetch_stream:1})};_proto.send=function send(){if(this.$FetchStreamTransport3)throw new Error("FetchStreamTransport instances cannot be re-used.");this.$FetchStreamTransport3=!0;var req=new Request(this.getRequestURI().toString(),{mode:"same-origin",credentials:"include"});this.$FetchStreamTransport6=importDefault("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on first response");var fetchPromise=self.fetch(req,{redirect:"follow"});this.$FetchStreamTransport7(fetchPromise)};_proto.$FetchStreamTransport7=function $FetchStreamTransport7(fetchPromise){var _this=this,response,reader,first,_loop,_ret;return require("regeneratorRuntime").async(function $FetchStreamTransport7$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return require("regeneratorRuntime").awrap(fetchPromise);case 3:response=_context2.sent;_context2.next=9;break;case 6:_context2.prev=6,_context2.t0=_context2["catch"](0),this.abort();case 9:if(!(!response||!response.body||!response.ok)){_context2.next=12;break}this.abort();return _context2.abrupt("return");case 12:reader=new(importDefault("StreamBlockReader"))(response.body),first=!0,_loop=function _loop(){var nextData;return require("regeneratorRuntime").async(function _loop$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return require("regeneratorRuntime").awrap(reader.readUntilStringOrEnd(importDefault("FetchStreamConfig").delim));case 2:nextData=_context.sent;if(!_this.$FetchStreamTransport4){_context.next=5;break}return _context.abrupt("return","break");case 5:importDefault("nullthrows")(_this.$FetchStreamTransport6)(function(){if(first&&nextData.startsWith("<")){importDefault("FBLogger")("FetchStreamTransport").mustfix("Endpoint: %s is sending a raw HTML response instead of properly formatted payload",_this.$FetchStreamTransport1.toString());var node=document.createElement("div");node.innerHTML=nextData;var scripts=node.getElementsByTagName("script");for(var i=0;i<scripts.length;i++)eval(scripts[i].innerHTML);_this.$FetchStreamTransport5=!0;return}first=!1;var parsedResponse=JSON.parse(nextData);reader.isDone()||parsedResponse.finished?_this.$FetchStreamTransport5=!0:_this.$FetchStreamTransport6=importDefault("TimeSlice").getGuardedContinuation("FetchStreamTransport: waiting on next response");_this.inform("response",parsedResponse.content)});case 6:case"end":return _context.stop()}},null,this)};case 15:if(!(!this.$FetchStreamTransport5&&!this.$FetchStreamTransport4)){_context2.next=23;break}_context2.next=18;return require("regeneratorRuntime").awrap(_loop());case 18:_ret=_context2.sent;if(!(_ret==="break")){_context2.next=21;break}return _context2.abrupt("break",23);case 21:_context2.next=15;break;case 23:case"end":return _context2.stop()}},null,this,[[0,6]])};_proto.abort=function abort(){var _this2=this;if(this.$FetchStreamTransport4||this.$FetchStreamTransport5)return;this.$FetchStreamTransport4=!0;this.$FetchStreamTransport5=!0;if(this.$FetchStreamTransport6){var continuation=this.$FetchStreamTransport6;continuation(function(){_this2.inform("abort")})}else this.inform("abort")};return FetchStreamTransport}(importDefault("mixin")(importNamespace("ArbiterMixin")));exports["default"]=FetchStreamTransport}),98);
__d("HTTPErrors",["emptyFunction"],(function(a,b,c,d,e,f,g){function a(a){return{summary:"HTTP Error",description:"Unknown HTTP error #"+a}}b={get:a,getAll:c("emptyFunction").thatReturns(new Map())};d=b;g["default"]=d}),98);
__d("JSCC",[],(function $module_JSCC(global,require,requireDynamic,requireLazy,module,exports){var factories={};function createFactory(constructor){var instance,constructed=!1;return function(){constructed||(instance=constructor(),constructed=!0);return instance}}function get(key){if(!factories[key])throw new Error("JSCC entry is missing");return factories[key]()}function init(constructors){for(var key in constructors)factories[key]=createFactory(constructors[key]);return function clearJSCC(){for(var _key in constructors)delete factories[_key]}}function parse(jsccMapString){return eval(jsccMapString)}exports.get=get;exports.init=init;exports.parse=parse}),66);
__d("JSONPTransport",["ArbiterMixin","DOM","HTML","TimeSlice","URI","mixin"],(function(a,b,c,d,e,f){var g,h={},i=2,j="jsonp",k="iframe";function l(a){delete h[a]}a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b,c){var d;d=a.call(this)||this;d._type=b;d._uri=c;d._hasResponse=!1;h[d.getID()]=babelHelpers.assertThisInitialized(d);return d}var d=c.prototype;d.getID=function(){return this._id||(this._id=i++)};d.hasFinished=function(){return!(this.getID()in h)};d.getRequestURI=function(){return new(g||(g=b("URI")))(this._uri).addQueryData({__a:1,__adt:this.getID(),__req:"jsonp_"+this.getID()})};d.getTransportFrame=function(){if(this._iframe)return this._iframe;var a="transport_frame_"+this.getID();a=b("HTML")('<iframe class="hidden_elem" name="'+a+'" src="javascript:void(0)" />');return this._iframe=b("DOM").appendContent(document.body,a)[0]};d.send=function(){var a=this;this._type===j?setTimeout(function(){b("DOM").appendContent(document.body,b("DOM").create("script",{src:a.getRequestURI().toString(),type:"text/javascript"}))},0):(this.getTransportFrame().onload=this._checkForErrors.bind(this),this.getTransportFrame().src=this.getRequestURI().toString());this._continuation=b("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for first response")};d.createContinuationForFileForm_DO_NOT_USE=function(){this._continuation=b("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for first response")};d.handleResponse=function(a){var c=this;this._continuation(function(){c.inform("response",a),c.hasFinished()?setTimeout(c._cleanup.bind(c),0):c._continuation=b("TimeSlice").getGuardedContinuation("JSONPTransport: waiting for next response")})};d.abort=function(){if(this._aborted)return;this._aborted=!0;this._cleanup();l(this.getID());this.inform("abort")};d._checkForErrors=function(){this._hasResponse||this.abort()};d._cleanup=function(){this._iframe&&(b("DOM").remove(this._iframe),this._iframe=null)};c.respond=function(a,b,c){var d=h[a];d&&(d._hasResponse=!0,c||l(a),d._type==k&&(typeof b==="string"?b=JSON.parse(b):b=JSON.parse(JSON.stringify(b))),d.handleResponse(b))};return c}(b("mixin")(b("ArbiterMixin")));a.respond=b("TimeSlice").guard(a.respond,"JSONPTransport.respond",{root:!0});e.exports=a}),null);
__d("SessionName",["SessionNameConfig"],(function(a,b,c,d,e,f){e.exports={getName:function(){return b("SessionNameConfig").seed}}}),null);
__d("bind",[],(function(a,b,c,d,e,f){function a(a,b){var c=Array.prototype.slice.call(arguments,2);if(typeof b!=="string")return Function.prototype.bind.apply(b,[a].concat(c));function d(){var d=c.concat(Array.prototype.slice.call(arguments));if(a[b])return a[b].apply(a,d)}d.toString=function(){return"bound lazily: "+a[b]};return d}e.exports=a}),null);
__d("executeAfter",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(){a.apply(c||this,arguments),b.apply(c||this,arguments)}}e.exports=a}),null);
__d("goURI",["URI"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("URI").go}),98);
__d("AsyncRequest",["errorCode","fbt","invariant","Arbiter","AsyncDOM","AsyncRequestConfig","AsyncResponse","Bootloader","CSS","DTSG","DTSG_ASYNC","Deferred","Env","ErrorGuard","Event","FBLogger","FetchStreamTransport","HTTPErrors","HasteResponse","JSCC","PHPQuerySerializer","Parent","Promise","ResourceTimingsStore","ResourceTypes","ServerJS","SessionName","TimeSlice","URI","UserAgent_DEPRECATED","ZeroRewrites","bind","clearTimeout","emptyFunction","evalGlobal","executeAfter","fb-error","ge","getAsyncHeaders","getAsyncParams","gkx","goURI","isBulletinDotComURI","isEmpty","isFacebookURI","isInternalFBURI","isMessengerDotComURI","isWorkplaceDotComURI","killswitch","performanceAbsoluteNow","promiseDone","replaceTransportMarkers","setTimeout","setTimeoutAcrossTransitions"],(function $module_AsyncRequest(global,require,importDefault,importNamespace,requireLazy,module,exports,errorCode,fbt,invariant){"use strict";var nineteenSecInMs=19e3,INTERNAL_SERVER_ERROR=500,NO_NETWORK_CONNECTION=1006,NETWORK_ERROR=1004,ABORTED_DUE_TO_PAGE_TRANSITION=1010,WARNING_ERROR_CODES=new Set([INTERNAL_SERVER_ERROR,ABORTED_DUE_TO_PAGE_TRANSITION,NETWORK_ERROR,NO_NETWORK_CONNECTION]);function hasUnloaded(){try{return!window.domready}catch(_unused){return!0}}function supportsProgress(transport){return"onprogress"in transport}function supportsUploadProgress(transport){return"upload"in transport&&"onprogress"in transport.upload}function supportsCrossOrigin(transport){return"withCredentials"in transport}function isNetworkError(transport){return transport.status in{0:1,12029:1,12030:1,12031:1,12152:1}}function validateResponseHandler(handler){var valid=!handler||typeof handler==="function";valid||importDefault("FBLogger")("asyncresponse").mustfix("AsyncRequest response handlers must be functions. Pass a function, or use bind() to build one.");return valid}var last_id=2,id_threshold=last_id,ignore_id_update=!1;importDefault("Arbiter").subscribe("page_transition",function(_,message){!ignore_id_update?id_threshold=message.id:ignore_id_update=!1});var JSON_HIJACKING_SHIELD="for (;;);",JSON_HIJACKING_SHIELD_LEN=JSON_HIJACKING_SHIELD.length,AsyncRequest=function(){function AsyncRequest(uri){var _this=this;this._allowIrrelevantRequests=!1;this._delayPreDisplayJS=!1;this._shouldReplaceTransportMarkers=!1;this._dispatchErrorResponse=function(asyncResponse,errorHandler){var error=asyncResponse.getError();_this.clearStatusIndicator();if(!_this._isRelevant()||error===ABORTED_DUE_TO_PAGE_TRANSITION){_this.abort();return}if(_this._isServerDialogErrorCode(error)){var is_confirmation=error==1357008||error==1357007;_this.interceptHandler(asyncResponse);error==1357041?_this._solveQuicksandChallenge(asyncResponse):error==1357007?_this._displayServerDialog(asyncResponse,is_confirmation,!0):_this._displayServerDialog(asyncResponse,is_confirmation)}else if(_this.initialHandler(asyncResponse)!==!1){importDefault("clearTimeout")(_this.timer);try{errorHandler(asyncResponse)}catch(e){_this.finallyHandler(asyncResponse);throw e}_this.finallyHandler(asyncResponse)}};this._onStateChange=function(){var transport=_this.transport;if(!transport)return;try{AsyncRequest._inflightCount--;importNamespace("ResourceTimingsStore").measureResponseReceived(importDefault("ResourceTypes").XHR,_this.resourceTimingStoreUID);try{transport.getResponseHeader("X-FB-Debug")&&(_this._xFbServer=transport.getResponseHeader("X-FB-Debug"),importDefault("fb-error").ErrorXFBDebug.add(_this._xFbServer))}catch(_unused2){}if(transport.status>=200&&transport.status<300)AsyncRequest.lastSuccessTime=Date.now(),_this._handleXHRResponse(transport);else if(importNamespace("UserAgent_DEPRECATED").webkit()&&typeof transport.status==="undefined")_this._invokeErrorHandler(1002);else if(importDefault("AsyncRequestConfig").retryOnNetworkError&&isNetworkError(transport)&&_this.remainingRetries>0&&!_this._requestTimeout){_this.remainingRetries--;delete _this.transport;_this.send(!0);return}else _this._invokeErrorHandler();_this.getOption("asynchronous_DEPRECATED")!==!1&&delete _this.transport}catch(exception){if(hasUnloaded())return;delete _this.transport;_this.remainingRetries>0?(_this.remainingRetries--,_this.send(!0)):(_this.getOption("suppressErrorAlerts")||importDefault("FBLogger")("AsyncRequest").catching(exception).mustfix("AsyncRequest exception when attempting to handle a state change"),_this._invokeErrorHandler(1007))}};this.continuation=importDefault("TimeSlice").getPlaceholderReusableContinuation();this.transport=null;this.method="POST";this.uri="";this.timeout=null;this.timer=null;this.initialHandler=importDefault("emptyFunction");this.handler=null;this.uploadProgressHandler=null;this.errorHandler=importDefault("AsyncResponse").defaultErrorHandler;this.transportErrorHandler=null;this.timeoutHandler=null;this.interceptHandler=importDefault("emptyFunction");this.finallyHandler=importDefault("emptyFunction");this.abortHandler=importDefault("emptyFunction");this.serverDialogCancelHandler=null;this.relativeTo=null;this.statusElement=null;this.statusClass="";this.data={};this.headers={};this.file=null;this.context={};this.readOnly=!1;this.writeRequiredParams=[];this.remainingRetries=0;this.userActionID="-";this.resourceTimingStoreUID=importNamespace("ResourceTimingsStore").getUID(importDefault("ResourceTypes").XHR,uri!=null?uri.toString():"");this.flushedResponseTextParseIndex=0;this.option={asynchronous_DEPRECATED:!0,suppressErrorHandlerWarning:!1,suppressEvaluation:!1,suppressErrorAlerts:!1,retries:0,jsonp:!1,bundle:!1,useIframeTransport:!1,handleErrorAfterUnload:!1,useFetchWithIframeFallback:!1};this.transportErrorHandler=importDefault("bind")(this,"errorHandler");uri!==void 0&&this.setURI(uri);this.setAllowCrossPageTransition(importDefault("AsyncRequestConfig").asyncRequestsSurviveTransitionsDefault||!1)}var _proto=AsyncRequest.prototype;_proto._dispatchResponse=function _dispatchResponse(asyncResponse){this.clearStatusIndicator();if(!this._isRelevant()){this._invokeErrorHandler(ABORTED_DUE_TO_PAGE_TRANSITION);return}if(this.initialHandler(asyncResponse)===!1)return;importDefault("clearTimeout")(this.timer);if(asyncResponse.jscc_map){var jsccMap=importNamespace("JSCC").parse(asyncResponse.jscc_map);importNamespace("JSCC").init(jsccMap)}var suppress_js,handler=this.getHandler();if(handler)try{suppress_js=this._shouldSuppressJS(handler(asyncResponse))}catch(e){asyncResponse.is_last&&this.finallyHandler(asyncResponse);throw e}suppress_js||this._handleJSResponse(asyncResponse);asyncResponse.is_last&&this.finallyHandler(asyncResponse)};_proto._shouldSuppressJS=function _shouldSuppressJS(handler_return_value){return handler_return_value===AsyncRequest.suppressOnloadToken};_proto._handlePreDisplayServerJS=function _handlePreDisplayServerJS(serverJS,preDisplayJSMods){var _displayStarted=!1,preDisplayPromises=[],registerToBlockDisplayUntilDone_DONOTUSE=function registerToBlockDisplayUntilDone_DONOTUSE(){if(_displayStarted){importDefault("FBLogger")("AsyncResponse").warn("registerToBlockDisplayUntilDone_DONOTUSE called after AsyncResponse display started. This is a no-op.");return function(){}}var timeoutId,deferrable=new(importDefault("Deferred"))();preDisplayPromises.push(deferrable.getPromise());return importDefault("TimeSlice").guard(function(){timeoutId&&importDefault("clearTimeout")(timeoutId),deferrable.resolve()},"AsyncRequestDisplayBlockingEvent",{propagationType:importDefault("TimeSlice").PropagationType.EXECUTION})};serverJS.handle(preDisplayJSMods,{bigPipeContext:{registerToBlockDisplayUntilDone_DONOTUSE:registerToBlockDisplayUntilDone_DONOTUSE}});_displayStarted=!0;return preDisplayPromises};_proto._hasEvalDomOp=function _hasEvalDomOp(domOps){return domOps&&domOps.length?domOps.some(function(op){return op[0]==="eval"}):!1};_proto._handleJSResponse=function _handleJSResponse(asyncResponse){var relativeTo=this.getRelativeTo(),domOps=asyncResponse.domops,dtsgToken=asyncResponse.dtsgToken,dtsgAsyncGetToken=asyncResponse.dtsgAsyncGetToken,jsMods=asyncResponse.jsmods,serverJS,savedServerJSInstance=asyncResponse.savedServerJSInstance;savedServerJSInstance&&savedServerJSInstance instanceof importDefault("ServerJS")?serverJS=savedServerJSInstance:serverJS=new(importDefault("ServerJS"))();serverJS.setRelativeTo(relativeTo);if(jsMods){var preDisplayJSMods={define:jsMods.define,instances:jsMods.instances,markup:jsMods.markup};delete jsMods.define;delete jsMods.instances;delete jsMods.markup;this._hasEvalDomOp(domOps)&&(preDisplayJSMods.elements=jsMods.elements,delete jsMods.elements);serverJS.handle(preDisplayJSMods)}var parsedUri=new(importDefault("URI"))(this.uri);(!parsedUri.getDomain()&&!parsedUri.getProtocol()||document.location.origin===parsedUri.getOrigin())&&(dtsgToken&&importNamespace("DTSG").setToken(dtsgToken),dtsgAsyncGetToken&&importNamespace("DTSG_ASYNC").setToken(dtsgAsyncGetToken));domOps&&importDefault("ErrorGuard").applyWithGuard(function(){return importNamespace("AsyncDOM").invoke(domOps,relativeTo)},null,[],{errorType:"warn"});jsMods&&serverJS.handle(jsMods);this._handleJSRegisters(asyncResponse,"onload");this._handleJSRegisters(asyncResponse,"onafterload")};_proto._handleJSRegisters=function _handleJSRegisters(asyncResponse,phase){var registers=asyncResponse[phase];if(registers)for(var ii=0;ii<registers.length;ii++)importDefault("ErrorGuard").applyWithGuard(new Function(registers[ii]),this,[])};_proto.invokeResponseHandler=function invokeResponseHandler(interpreted){var _this2=this;if(typeof interpreted.redirect!=="undefined"){importDefault("setTimeout")(function(){_this2.setURI(interpreted.redirect,!0).send()},0);return}if(interpreted.bootloadOnly!==void 0){var toBootload=typeof interpreted.bootloadOnly==="string"?JSON.parse(interpreted.bootloadOnly):interpreted.bootloadOnly,_loop=function _loop(){if(_isArray){if(_i>=_iterator.length)return"break";_ref=_iterator[_i++]}else{_i=_iterator.next();if(_i.done)return"break";_ref=_i.value}var rsrcs=_ref;importDefault("TimeSlice").guard(function(){importDefault("Bootloader").loadPredictedResourceMap(rsrcs)},"Bootloader.loadPredictedResourceMap",{root:!0})()};for(var _iterator=toBootload,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var _ref,_ret=_loop();if(_ret==="break")break}return}if(!this.handler&&!this.errorHandler&&!this.transportErrorHandler&&!this.preBootloadHandler&&this.initialHandler===importDefault("emptyFunction")&&this.finallyHandler===importDefault("emptyFunction"))return;var response=interpreted.asyncResponse;if(typeof response!=="undefined"){var _response$hsrp,_response$allResource;if(!this._isRelevant()){this._invokeErrorHandler(ABORTED_DUE_TO_PAGE_TRANSITION);return}response.inlinejs&&importDefault("evalGlobal")(response.inlinejs);response.lid&&(this._responseTime=Date.now(),global.CavalryLogger&&(this.cavalry=global.CavalryLogger.getInstance(response.lid)),this.lid=response.lid);importNamespace("HasteResponse").handleSRPayload((_response$hsrp=response.hsrp)!=null?_response$hsrp:{});var dispatch,arbiter_event;if(response.getError()&&!response.getErrorIsWarning()){var handler=this.getErrorHandler().bind(this);dispatch=importDefault("ErrorGuard").guard(this._dispatchErrorResponse,{name:"AsyncRequest#_dispatchErrorResponse for "+this.getURI()});dispatch=dispatch.bind(this,response,handler);arbiter_event="error"}else{dispatch=importDefault("ErrorGuard").guard(this._dispatchResponse.bind(this),{name:"AsyncRequest#_dispatchResponse for "+this.getURI()});dispatch=dispatch.bind(this,response);arbiter_event="response";var domOps=response.domops;if(!this._delayPreDisplayJS&&response.jsmods&&response.jsmods.pre_display_requires&&!this._hasEvalDomOp(domOps)&&!importDefault("killswitch")("ASYNC_REQUEST_EARLY_RENDERING_OF_PREDISPLAY_PRIORITY_JS")){var jsMods=response.jsmods,preDisplayJSMods={define:jsMods.define,instances:jsMods.instances,markup:jsMods.markup};delete jsMods.define;delete jsMods.instances;delete jsMods.markup;preDisplayJSMods.pre_display_requires=jsMods.pre_display_requires;delete jsMods.pre_display_requires;var serverJS=new(importDefault("ServerJS"))();serverJS.setRelativeTo(this.getRelativeTo());response.savedServerJSInstance=serverJS;var preDisplayPromises=this._handlePreDisplayServerJS(serverJS,preDisplayJSMods);if(preDisplayPromises&&preDisplayPromises.length){var realDispatch=dispatch;dispatch=function dispatch(){importDefault("promiseDone")(require("Promise").all(preDisplayPromises).then(realDispatch))}}}}var ts=importDefault("performanceAbsoluteNow")();dispatch=importDefault("executeAfter")(dispatch,function(){importDefault("Arbiter").inform("AsyncRequest/"+arbiter_event,{request:_this2,response:response,ts:ts})});this.preBootloadHandler&&this.preBootloadHandler(response);importDefault("Bootloader").loadResources((_response$allResource=response.allResources)!=null?_response$allResource:[],{onAll:importDefault("AsyncRequestConfig").immediateDispatch?dispatch:function(){importDefault("setTimeout")(dispatch,0)}},this.getURI())}else typeof interpreted.transportError!=="undefined"?this._xFbServer?this._invokeErrorHandler(1008):this._invokeErrorHandler(1012):this._invokeErrorHandler(1007)};_proto._invokeErrorHandler=function _invokeErrorHandler(explicitError){var _this3=this,transport=this.transport;if(!transport)return;var error;if(this.responseText==="")error=1002;else if(this._requestAborted)error=1011;else{try{error=explicitError||transport.status||NETWORK_ERROR}catch(_unused3){error=1005}!1===navigator.onLine&&(error=NO_NETWORK_CONNECTION)}var desc,summary,silent=!0;if(error===NO_NETWORK_CONNECTION)summary=fbt._(/*FBT_CALL*/"No hay conexi\u00f3n de red"/*FBT_CALL*/),desc=fbt._(/*FBT_CALL*/"Parece que tu navegador est\u00e1 desconectado. Comprueba tu conexi\u00f3n a internet y vuelve a intentarlo."/*FBT_CALL*/);else if(error>=300&&error<=399){summary=fbt._(/*FBT_CALL*/"Redireccionamiento"/*FBT_CALL*/);desc=fbt._(/*FBT_CALL*/"En este momento, un tercero redirigi\u00f3 o bloque\u00f3 tu acceso a Facebook. Ponte en contacto con tu ISP o vuelve a cargar la p\u00e1gina."/*FBT_CALL*/);var location=transport.getResponseHeader("Location");location&&importDefault("goURI")(location,!0);silent=!0}else summary=fbt._(/*FBT_CALL*/"Lo sentimos"/*FBT_CALL*/),desc=fbt._(/*FBT_CALL*/"Se produjo un error y estamos trabajando para solucionarlo lo antes posible. Pronto podr\u00e1s volver a intentarlo."/*FBT_CALL*/);var async_response=new(importDefault("AsyncResponse"))(this,transport);Object.assign(async_response,{error:error,errorSummary:summary,errorDescription:desc,silentError:silent});importDefault("setTimeout")(function(){importDefault("Arbiter").inform("AsyncRequest/error",{request:_this3,response:async_response})},0);if(hasUnloaded()&&!this.getOption("handleErrorAfterUnload"))return;if(!this.transportErrorHandler){importDefault("FBLogger")("asyncresponse").mustfix("Async request to %s failed with a %d error, but there was no error handler available to deal with it.",this.getURI(),error);return}var error_handler=this.getTransportErrorHandler().bind(this);!(this.getOption("suppressErrorAlerts")||WARNING_ERROR_CODES.has(error))?importDefault("FBLogger")("asyncresponse").addToCategoryKey(String(error)).mustfix("Async request failed with error %s: %s when requesting %s",error,desc.toString(),this.getURI()):WARNING_ERROR_CODES.has(error)&&importDefault("FBLogger")("asyncresponse").addToCategoryKey(String(error)).warn("Async request failed with error %s: %s when requesting %s",error,desc.toString(),this.getURI());importDefault("ErrorGuard").applyWithGuard(this._dispatchErrorResponse,this,[async_response,error_handler])};_proto._isServerDialogErrorCode=function _isServerDialogErrorCode(error){return error==1357008||error==1357007||error==1357041||error==1442002||error==1357001};_proto._solveQuicksandChallenge=function _solveQuicksandChallenge(async_response){var _this4=this,payload=async_response.getPayload();importDefault("Bootloader").loadModules(["QuickSandSolver"],function(QuickSandSolver){QuickSandSolver.solveAndSendRequestBack(_this4,payload)},"AsyncRequest")};_proto._displayServerDialog=function _displayServerDialog(async_response,is_confirmation,allow_get){var _this5=this;allow_get===void 0&&(allow_get=!1);var payload=async_response.getPayload();if(payload.__dialog!==void 0){this._displayServerLegacyDialog(async_response,is_confirmation);return}var json=payload.__dialogx;new(importDefault("ServerJS"))().handle(json);importDefault("Bootloader").loadModules(["ConfirmationDialog"],function(ConfirmationDialog){ConfirmationDialog.setupConfirmation(async_response,_this5,allow_get)},"AsyncRequest")};_proto._displayServerLegacyDialog=function _displayServerLegacyDialog(async_response,is_confirmation){var _this6=this,model=async_response.getPayload().__dialog;if(importDefault("gkx")("708253")){var _ref2,_async_response$reque;importDefault("FBLogger")("comet_infra").addMetadata("COMET_INFRA","ERROR_CODE",async_response.getError().toString()).addMetadata("COMET_INFRA","ERROR_URL",(_ref2=(_async_response$reque=async_response.request)==null?void 0:_async_response$reque.getURI())!=null?_ref2:"unknown").mustfix("AsyncRequest._displayServerLegacyDialog called in Comet")}importDefault("Bootloader").loadModules(["Dialog"],function(Dialog){var dialog=new Dialog(model);is_confirmation&&dialog.setHandler(_this6._displayConfirmationHandler.bind(_this6,dialog));dialog.setCancelHandler(function(){var handler=_this6.getServerDialogCancelHandler();try{handler&&handler(async_response)}catch(e){throw e}finally{_this6.finallyHandler(async_response)}}).setCausalElement(_this6.relativeTo).show()},"AsyncRequest")};_proto._displayConfirmationHandler=function _displayConfirmationHandler(dialog){this.data.confirmed=1,Object.assign(this.data,dialog.getFormData()),this.send()};_proto.setJSONPTransport=function setJSONPTransport(transport){transport.subscribe("response",this._handleJSONPResponse.bind(this)),transport.subscribe("abort",this._handleJSONPAbort.bind(this)),this.transport=transport};_proto._handleJSONPResponse=function _handleJSONPResponse(_,data){var transport=this.transport;if(!transport)return;data.bootloadOnly||(this.is_first=this.is_first===void 0);var interpreted=this._interpretResponse(data);interpreted.asyncResponse&&(interpreted.asyncResponse.is_first=this.is_first,interpreted.asyncResponse.is_last=transport.hasFinished());this.invokeResponseHandler(interpreted);transport.hasFinished()&&delete this.transport};_proto._handleJSONPAbort=function _handleJSONPAbort(){this._invokeErrorHandler(),delete this.transport};_proto._handleXHRResponse=function _handleXHRResponse(transport){var interpreted;if(this.getOption("suppressEvaluation"))interpreted={asyncResponse:new(importDefault("AsyncResponse"))(this,transport)};else try{this._handleFlushedResponse();var text=transport.responseText;text=this._filterOutFlushedText(text);var safe_text=this._unshieldResponseText(text),_response;try{_response=JSON.parse(safe_text)}catch(error){_response=eval("("+safe_text+")"),importDefault("FBLogger")("async_request").catching(error).warn("JSON.parse encountered an exception, fallback to eval. Endpoint: "+new(importDefault("URI"))(this.uri).getPath())}interpreted=this._interpretResponse(_response)}catch(error){interpreted=error.message,importDefault("FBLogger")("async_request").catching(error).warn("Failed to handle response")}this.invokeResponseHandler(interpreted)};_proto._handleFlushedResponse=function _handleFlushedResponse(){var flushedResponseHandler=this.flushedResponseHandler,transport=this.transport;if(flushedResponseHandler&&transport){var jsonShieldIndex=transport.responseText.indexOf(JSON_HIJACKING_SHIELD),flushedTextEndIndex=jsonShieldIndex===-1?transport.responseText.length:jsonShieldIndex;flushedResponseHandler(transport.responseText.substring(this.flushedResponseTextParseIndex,flushedTextEndIndex));this.flushedResponseTextParseIndex=flushedTextEndIndex}};_proto._unshieldResponseText=function _unshieldResponseText(text){if(text.length<=JSON_HIJACKING_SHIELD_LEN)throw new Error("Response too short on async");var offset=0;while(text.charAt(offset)==" "||text.charAt(offset)=="\n")offset++;offset&&text.substring(offset,offset+JSON_HIJACKING_SHIELD_LEN)==JSON_HIJACKING_SHIELD;return text.substring(offset+JSON_HIJACKING_SHIELD_LEN)};_proto._filterOutFlushedText=function _filterOutFlushedText(text){if(!this.flushedResponseHandler)return text;var index=text.indexOf(JSON_HIJACKING_SHIELD);return index<0?text:text.substr(index)};_proto._interpretResponse=function _interpretResponse(response){if(response.redirect)return{redirect:response.redirect};if(response.bootloadOnly)return{bootloadOnly:response.bootloadOnly};var isServerDialog=response.error&&this._isServerDialogErrorCode(response.error);this._shouldReplaceTransportMarkers&&response.payload&&!isServerDialog&&importDefault("replaceTransportMarkers")({relativeTo:this.getRelativeTo(),bigPipeContext:null},response.payload);var r=new(importDefault("AsyncResponse"))(this);if(response.__ar!=1)importDefault("FBLogger")("AsyncRequest").warn("AsyncRequest to endpoint %s returned a JSON response, but it is not properly formatted. The endpoint needs to provide a response using the AsyncResponse class in PHP.",this.getURI()),r.payload=response;else{Object.assign(r,response);var transport=this.transport;transport&&transport.getAllResponseHeaders!==void 0&&(r.responseHeaders=transport.getAllResponseHeaders())}return{asyncResponse:r}};_proto._isMultiplexable=function _isMultiplexable(){if(this.getOption("jsonp")||this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback")){importDefault("FBLogger")("AsyncRequest").mustfix("You cannot bundle AsyncRequest that uses jsonp or iframe transport.");return!1}if(!importDefault("isFacebookURI")(new(importDefault("URI"))(this.uri))){importDefault("FBLogger")("AsyncRequest").mustfix("You can not bundle AsyncRequest sent to non-facebook URIs.  Uri: %s",this.getURI());return!1}if(!this.getOption("asynchronous_DEPRECATED")){importDefault("FBLogger")("AsyncRequest").mustfix("We cannot bundle synchronous AsyncRequests");return!1}return!0};_proto.handleResponse=function handleResponse(response){var interpreted=this._interpretResponse(response);this.invokeResponseHandler(interpreted)};_proto.setMethod=function setMethod(m){this.method=m.toString().toUpperCase();return this};_proto.getMethod=function getMethod(){return this.method};_proto.setData=function setData(obj){this.data=obj;return this};_proto.setRequestHeader=function setRequestHeader(name,value){this.headers[name]=value;return this};_proto.setRawData=function setRawData(raw_data){this.rawData=raw_data;return this};_proto.getData=function getData(){return this.data};_proto.setContextData=function setContextData(key,value,enabled){enabled=enabled===void 0?!0:enabled;enabled&&(this.context["_log_"+key]=value);return this};_proto._setUserActionID=function _setUserActionID(){this.userActionID=(importNamespace("SessionName").getName()||"-")+"/-"};_proto.setURI=function setURI(uri,throwOnInvalid){throwOnInvalid===void 0&&(throwOnInvalid=!1);typeof uri==="string"&&uri.match(/^\/?u_\d+_\d+/)&&importDefault("FBLogger")("asyncrequest").warn("Invalid URI %s",uri);var uri_obj=new(importDefault("URI"))(uri);if((this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&!importDefault("isFacebookURI")(uri_obj)){throwOnInvalid&&invariant(0,45284);return this}if(!this._allowCrossOrigin&&!this.getOption("jsonp")&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")&&!uri_obj.isSameOrigin()){throwOnInvalid&&invariant(0,45285);return this}this._setUserActionID();if(!uri||uri_obj.isEmpty()){importDefault("FBLogger")("async_request").mustfix("URI cannot be empty");return this}this.uri=importNamespace("ZeroRewrites").rewriteURI(uri_obj);return this};_proto.getURI=function getURI(){return this.uri.toString()};_proto.delayPreDisplayJS=function delayPreDisplayJS(shouldDelayJS){shouldDelayJS===void 0&&(shouldDelayJS=!0);this._delayPreDisplayJS=shouldDelayJS;return this};_proto.setInitialHandler=function setInitialHandler(fn){this.initialHandler=fn;return this};_proto.setPayloadHandler=function setPayloadHandler(fn){this.setHandler(function(response){fn(response.payload)});return this};_proto.setHandler=function setHandler(fn){validateResponseHandler(fn)&&(this.handler=fn);return this};_proto.setFlushedResponseHandler=function setFlushedResponseHandler(fn){validateResponseHandler(fn)&&(this.flushedResponseHandler=fn);return this};_proto.getHandler=function getHandler(){return this.handler||importDefault("emptyFunction")};_proto.setProgressHandler=function setProgressHandler(fn){validateResponseHandler(fn)&&(this.progressHandler=fn);return this};_proto.setUploadProgressHandler=function setUploadProgressHandler(fn){validateResponseHandler(fn)&&(this.uploadProgressHandler=fn);return this};_proto.setErrorHandler=function setErrorHandler(fn){validateResponseHandler(fn)&&(this.errorHandler=fn);return this};_proto.setTransportErrorHandler=function setTransportErrorHandler(fn){this.transportErrorHandler=fn;return this};_proto.getErrorHandler=function getErrorHandler(){return this.errorHandler||importDefault("emptyFunction")};_proto.getTransportErrorHandler=function getTransportErrorHandler(){return this.transportErrorHandler||importDefault("emptyFunction")};_proto.setTimeoutHandler=function setTimeoutHandler(timeout,fn){validateResponseHandler(fn)&&(this.timeout=timeout,this.timeoutHandler=fn);return this};_proto.resetTimeout=function resetTimeout(timeout){if(!(this.timeoutHandler===null))if(timeout===null)this.timeout=null,importDefault("clearTimeout")(this.timer),this.timer=null;else{var clear_on_quickling_event=!this._allowCrossPageTransition;this.timeout=timeout;importDefault("clearTimeout")(this.timer);clear_on_quickling_event?this.timer=importDefault("setTimeout")(this._handleTimeout.bind(this),this.timeout):this.timer=importDefault("setTimeoutAcrossTransitions")(this._handleTimeout.bind(this),this.timeout)}return this};_proto._handleTimeout=function _handleTimeout(){var _this7=this;this.continuation.last(function(){_this7._requestTimeout=!0;var func=_this7.timeoutHandler;_this7.abandon();func&&func(_this7);importDefault("setTimeout")(function(){importDefault("Arbiter").inform("AsyncRequest/timeout",{request:_this7})},0)})};_proto.setNewSerial=function setNewSerial(){this.id=++last_id;return this};_proto.setInterceptHandler=function setInterceptHandler(fn){this.interceptHandler=fn;return this};_proto.setFinallyHandler=function setFinallyHandler(fn){this.finallyHandler=fn;return this};_proto.setAbortHandler=function setAbortHandler(fn){this.abortHandler=fn;return this};_proto.getServerDialogCancelHandler=function getServerDialogCancelHandler(){return this.serverDialogCancelHandler};_proto.setServerDialogCancelHandler=function setServerDialogCancelHandler(fn){this.serverDialogCancelHandler=fn;return this};_proto.setPreBootloadHandler=function setPreBootloadHandler(fn){this.preBootloadHandler=fn;return this};_proto.setReadOnly=function setReadOnly(readOnly){typeof readOnly!=="boolean"||(this.readOnly=readOnly);return this};_proto.getReadOnly=function getReadOnly(){return this.readOnly};_proto.setRelativeTo=function setRelativeTo(element){this.relativeTo=element;return this};_proto.getRelativeTo=function getRelativeTo(){return this.relativeTo};_proto.setStatusClass=function setStatusClass(c){this.statusClass=c;return this};_proto.setStatusElement=function setStatusElement(element){this.statusElement=element;return this};_proto.getStatusElement=function getStatusElement(){return importDefault("ge")(this.statusElement)};_proto._isRelevant=function _isRelevant(){if(this._allowCrossPageTransition)return!0;return!this.id?!0:this.id>id_threshold};_proto.clearStatusIndicator=function clearStatusIndicator(){var statusElem=this.getStatusElement();statusElem&&(importNamespace("CSS").removeClass(statusElem,"async_saving"),importNamespace("CSS").removeClass(statusElem,this.statusClass))};_proto.addStatusIndicator=function addStatusIndicator(){var statusElem=this.getStatusElement();statusElem&&(importNamespace("CSS").addClass(statusElem,"async_saving"),importNamespace("CSS").addClass(statusElem,this.statusClass))};_proto.specifiesWriteRequiredParams=function specifiesWriteRequiredParams(){return this.writeRequiredParams.every(function(param){this.data[param]=this.data[param]||importDefault("Env")[param]||(importDefault("ge")(param)||{}).value;return this.data[param]!==void 0?!0:!1},this)};_proto.setOption=function setOption(opt,v){typeof this.option[opt]!=="undefined"&&(this.option[opt]=v);return this};_proto.getOption=function getOption(opt){typeof this.option[opt]==="undefined";return this.option[opt]};_proto.abort=function abort(){var _this8=this;this.continuation.last(function(){var transport=_this8.transport;if(transport){var old_handler=_this8.getTransportErrorHandler();_this8.setOption("suppressErrorAlerts",!0);_this8.setTransportErrorHandler(importDefault("emptyFunction"));_this8._requestAborted=!0;transport.abort();_this8.setTransportErrorHandler(old_handler)}_this8.abortHandler();AsyncMultiplex.unschedule(_this8)})};_proto.abandon=function abandon(){var _this9=this;this.continuation.last(function(){importDefault("clearTimeout")(_this9.timer);_this9.setOption("suppressErrorAlerts",!0).setHandler(importDefault("emptyFunction")).setErrorHandler(importDefault("emptyFunction")).setTransportErrorHandler(importDefault("emptyFunction")).setProgressHandler(importDefault("emptyFunction")).setUploadProgressHandler(importDefault("emptyFunction"));var transport=_this9.transport;transport&&(_this9._requestAborted=!0,supportsProgress(transport)&&delete transport.onprogress,supportsUploadProgress(transport)&&delete transport.upload.onprogress,transport.abort());_this9.abortHandler();AsyncMultiplex.unschedule(_this9)})};_proto.setNectarModuleDataSafe=function setNectarModuleDataSafe(elem){var setNectarModuleData=this.setNectarModuleData;setNectarModuleData&&setNectarModuleData.call(this,elem);return this};_proto.setAllowCrossPageTransition=function setAllowCrossPageTransition(allow){this._allowCrossPageTransition=!!allow;this.timer&&this.resetTimeout(this.timeout);return this};_proto.getAllowIrrelevantRequests=function getAllowIrrelevantRequests(){return this._allowIrrelevantRequests};_proto.setAllowIrrelevantRequests=function setAllowIrrelevantRequests(allowIrrelevantRequests){this._allowIrrelevantRequests=allowIrrelevantRequests;return this};_proto.setAllowCrossOrigin=function setAllowCrossOrigin(allow){this._allowCrossOrigin=allow;return this};_proto.setAllowCredentials=function setAllowCredentials(allow){this._allowCredentials=allow;return this};_proto.setIsBackgroundRequest=function setIsBackgroundRequest(isBackgroundRequest){this._isBackgroundRequest=isBackgroundRequest;return this};_proto.setReplaceTransportMarkers=function setReplaceTransportMarkers(value){value===void 0&&(value=!0);this._shouldReplaceTransportMarkers=value;return this};_proto.sendAndReturnAbortHandler=function sendAndReturnAbortHandler(){var _this10=this;this.send();return function(){return _this10.abort()}};_proto.send=function send(isRetry){var _this11=this;isRetry=isRetry||!1;if(!this.uri)return!1;this.errorHandler||!this.getOption("suppressErrorHandlerWarning");this.getOption("jsonp")&&this.method!="GET"&&this.setMethod("GET");(this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"))&&this.method!="GET"&&this.setMethod("GET");this.timeoutHandler!==null&&(this.getOption("jsonp")||this.getOption("useIframeTransport")||this.getOption("useFetchWithIframeFallback"));if(!this.getReadOnly()){this.specifiesWriteRequiredParams();if(this.method!="POST")return!1}if(document.location.search.toString().includes(this.uri.toString()))return!1;if(this.uri.toString().includes("/../")||this.uri.toString().includes("\\../")||this.uri.toString().includes("/..\\")||this.uri.toString().includes("\\..\\"))return!1;Object.assign(this.data,importDefault("getAsyncParams")(this.method));importDefault("isEmpty")(this.context)||(Object.assign(this.data,this.context),this.data.ajax_log=1);importDefault("Env").force_param&&Object.assign(this.data,importDefault("Env").force_param);this._setUserActionID();if(this.getOption("bundle")&&this._isMultiplexable()){AsyncMultiplex.schedule(this);return!0}this.setNewSerial();this.getOption("asynchronous_DEPRECATED")||this.uri.addQueryData({__sjax:1});importDefault("Arbiter").inform("AsyncRequest/send",{request:this,ts:importDefault("performanceAbsoluteNow")()});var uri_str,query;this.method=="GET"&&this.uri.addQueryData({fb_dtsg_ag:importNamespace("DTSG_ASYNC").getToken()});this.method=="GET"||this.rawData?(uri_str=this.uri.addQueryData(this.data).toString(),query=this.rawData||""):(this._allowCrossOrigin&&this.uri.addQueryData({__a:1}),uri_str=this.uri.toString(),query=importNamespace("PHPQuerySerializer").serialize(this.data));if(this.transport)return!1;if(this.getOption("useFetchWithIframeFallback"))try{var _transport=new(importDefault("FetchStreamTransport"))(this.uri);this.setJSONPTransport(_transport);this._markRequestSent();_transport.send();this.setOption("useIframeTransport",!1);return!0}catch(_unused4){this.setOption("useFetchWithIframeFallback",!1),this.setOption("useIframeTransport",!0)}if(this.getOption("jsonp")||this.getOption("useIframeTransport")){requireLazy(["JSONPTransport"],function(JSONPTransport){var transport=new JSONPTransport(_this11.getOption("jsonp")?"jsonp":"iframe",_this11.uri);_this11.setJSONPTransport(transport);_this11._markRequestSent();transport.send()});return!0}this.flushedResponseHandler&&(this.flushedResponseTextParseIndex=0);var transport=importNamespace("ZeroRewrites").getTransportBuilderForURI(this.uri)();if(!transport)return!1;this.schedule("AsyncRequest.send");transport.onreadystatechange=function(){var _transport=_this11.transport;_transport&&_transport.readyState>=2&&_transport.readyState<=3&&_this11._handleFlushedResponse();transport.readyState===4&&_this11.continuation.last(_this11._onStateChange)};this.progressHandler&&supportsProgress(transport)&&(transport.onprogress=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_this11.continuation(function(){_this11.progressHandler&&_this11.progressHandler.apply(_this11,args)})});this.uploadProgressHandler&&supportsUploadProgress(transport)&&(transport.upload.onprogress=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];_this11.continuation(function(){_this11.uploadProgressHandler&&_this11.uploadProgressHandler.apply(_this11,args)})});isRetry||(this.remainingRetries=this.getOption("retries"));this.transport=transport;try{transport.open(this.method,uri_str,importDefault("gkx")("1857581")?!0:this.getOption("asynchronous_DEPRECATED"))}catch(exception){return!1}if(!this.uri.isSameOrigin()&&!this.getOption("jsonp")&&!this.getOption("useIframeTransport")&&!this.getOption("useFetchWithIframeFallback")){if(!supportsCrossOrigin(transport))return!1;this._canSendCredentials()&&(transport.withCredentials=!0)}this.method=="POST"&&!this.rawData&&transport.setRequestHeader("Content-Type","application/x-www-form-urlencoded");this._isBackgroundRequest&&transport.setRequestHeader("X_FB_BACKGROUND_STATE","1");var asyncHeaders=importDefault("getAsyncHeaders")(this.uri);Object.keys(asyncHeaders).forEach(function(name){transport&&transport.setRequestHeader(name,asyncHeaders[name])});importDefault("Arbiter").inform("AsyncRequest/will_send",{request:this});if(transport)for(var headerName in this.headers)Object.prototype.hasOwnProperty.call(this.headers,headerName)&&transport.setRequestHeader(headerName,this.headers[headerName]);this.addStatusIndicator();this._markRequestSent();transport.send(query);this.timeout!==null&&this.resetTimeout(this.timeout);AsyncRequest._inflightCount++;return!0};_proto.schedule=function schedule(name){this.continuation=importDefault("TimeSlice").getReusableContinuation(name)};_proto._canSendCredentials=function _canSendCredentials(){if(this._allowCredentials===!1)return!1;var uri=new(importDefault("URI"))(this.uri);return importDefault("isBulletinDotComURI")(uri)||importDefault("isFacebookURI")(uri)||importDefault("isInternalFBURI")(uri)||importDefault("isMessengerDotComURI")(uri)||importDefault("isWorkplaceDotComURI")(uri)};_proto._markRequestSent=function _markRequestSent(){var fullURI=new(importDefault("URI"))(this.getURI()).getQualifiedURI().toString();importNamespace("ResourceTimingsStore").updateURI(importDefault("ResourceTypes").XHR,this.resourceTimingStoreUID,fullURI);importNamespace("ResourceTimingsStore").annotate(importDefault("ResourceTypes").XHR,this.resourceTimingStoreUID).addStringAnnotation("uri",fullURI);importNamespace("ResourceTimingsStore").measureRequestSent(importDefault("ResourceTypes").XHR,this.resourceTimingStoreUID)};_proto.promisePayload=function promisePayload(isRetry){return this.exec().then(function(response){return response.payload},function(response){throw response.toError()})};_proto.exec=function exec(isRetry){var _this12=this;if(this.getHandler()!==importDefault("emptyFunction")||this.getErrorHandler()!==importDefault("AsyncResponse").defaultErrorHandler)throw new Error("exec is an async function and does not allow previously set handlers");return new(require("Promise"))(function(resolve,reject){_this12.setHandler(resolve).setErrorHandler(reject).send(isRetry)})};AsyncRequest.bootstrap=function bootstrap(href,elem,is_post){var method="GET",readonly=!0,data={};(is_post||elem&&elem.rel=="async-post")&&(method="POST",readonly=!1,href&&(href=new(importDefault("URI"))(href),data=href.getQueryData(),href.setQueryData({})));var status_elem=importNamespace("Parent").byClass(elem,"stat_elem")||elem;if(status_elem&&importNamespace("CSS").hasClass(status_elem,"async_saving"))return!1;var async=new AsyncRequest(href).setReadOnly(readonly).setMethod(method).setData(data).setNectarModuleDataSafe(elem).setRelativeTo(elem);elem&&(async.setHandler(function(response){importDefault("Event").fire(elem,"success",{response:response})}),async.setErrorHandler(function(response){importDefault("Event").fire(elem,"error",{response:response})!==!1&&importDefault("AsyncResponse").defaultErrorHandler(response)}));if(status_elem instanceof HTMLElement){async.setStatusElement(status_elem);var status_class=status_elem.getAttribute("data-status-class");status_class&&async.setStatusClass(status_class)}async.send();return!1};AsyncRequest.post=function post(href,data){new AsyncRequest(href).setReadOnly(!1).setMethod("POST").setData(data).send();return!1};AsyncRequest.postStatic=function postStatic(href,data){AsyncRequest.post(href,data)};AsyncRequest.getLastID=function getLastID(){return last_id};AsyncRequest.ignoreUpdate=function ignoreUpdate(){ignore_id_update=!0};AsyncRequest.getInflightCount=function getInflightCount(){return this._inflightCount};return AsyncRequest}();AsyncRequest._inflightCount=0;var _asyncMultiplex,_pendingAsyncMultiplexes=[],AsyncMultiplex=function(){function AsyncMultiplex(){this._requests=[]}var _proto2=AsyncMultiplex.prototype;_proto2.add=function add(request){this._requests.push(request)};_proto2.remove=function remove(request){var requests=this._requests,requestsSent=this._requestsSent;for(var ii=0,jj=requests.length;ii<jj;ii++)requests[ii]===request&&(requestsSent?requests[ii]=null:requests.splice(ii,1))};_proto2.send=function send(){this._requestsSent&&invariant(0,4390);this._requestsSent=!0;this._wrapperRequest=null;var requests=this._requests;if(!requests.length)return;var request;if(requests.length===1)request=requests[0];else{var data=requests.filter(Boolean).map(function(request){return[request.uri.getPath(),importNamespace("PHPQuerySerializer").serialize(request.data)]});request=this._wrapperRequest=new AsyncRequest("/ajax/proxy.php").setAllowCrossPageTransition(!0).setData({data:data}).setHandler(this._handler.bind(this)).setTransportErrorHandler(this._transportErrorHandler.bind(this))}request&&request.setOption("bundle",!1).send()};_proto2._handler=function _handler(response){var _this13=this,responses=response.getPayload().responses;if(responses.length!==this._requests.length)return;var _loop2=function _loop2(ii){var request=_this13._requests[ii];if(!request)return"continue";var request_path=request.uri.getPath();_this13._wrapperRequest&&(request.id=_this13._wrapperRequest.id);if(responses[ii][0]!==request_path){request.continuation.last(function(){request.invokeResponseHandler({transportError:"Wrong response order in bundled request to "+request_path})});return"continue"}request.continuation.last(function(){request.handleResponse(responses[ii][1])})};for(var ii=0;ii<this._requests.length;ii++){var _ret2=_loop2(ii);if(_ret2==="continue")continue}_pendingAsyncMultiplexes.splice(_pendingAsyncMultiplexes.indexOf(this,1))};_proto2._transportErrorHandler=function _transportErrorHandler(response){var interpreted={transportError:response.errorDescription},paths=this._requests.filter(Boolean).map(function(request){this._wrapperRequest&&(request.id=this._wrapperRequest.id);request.invokeResponseHandler(interpreted);return request.uri.getPath()},this)};AsyncMultiplex.schedule=function schedule(request){request.schedule("AsyncMultiplex.schedule");_asyncMultiplex||(_asyncMultiplex=new AsyncMultiplex(),_pendingAsyncMultiplexes.push(_asyncMultiplex),importDefault("TimeSlice").guard(function(){importDefault("setTimeoutAcrossTransitions")(function(){_asyncMultiplex&&(_asyncMultiplex.send(),_asyncMultiplex=null)},0)},"AsyncMultiplex.schedule",{propagationType:importDefault("TimeSlice").PropagationType.ORPHAN})());_asyncMultiplex.add(request);return _asyncMultiplex};AsyncMultiplex.unschedule=function unschedule(request){_pendingAsyncMultiplexes.forEach(function(asyncMultiplex){asyncMultiplex.remove(request)})};return AsyncMultiplex}();AsyncRequest.suppressOnloadToken={};global.AsyncRequest=AsyncRequest;exports["default"]=AsyncRequest}),98);
__d("isAdsExcelAddinURI",[],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)fbaddins\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}f["default"]=a}),66);
__d("isValidAsyncSignalURI",[],(function(a,b,c,d,e,f){var g=new RegExp("((^|\\.)instagram\\.com$)|((^|\\.)wit\\.ai$)|((^|\\.)accountkit\\.com$)","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.includes(a.getProtocol())&&g.test(a.getDomain())}f["default"]=a}),66);
__d("AsyncSignal",["ErrorGuard","Promise","QueryString","Run","TimeSlice","TrackingConfig","URI","ZeroRewrites","getAsyncParams","isAdsExcelAddinURI","isFacebookURI","isMessengerDotComURI","isValidAsyncSignalURI","isWorkplaceDotComURI","memoize","promiseDone"],(function(a,b,c,d,e,f){var g,h,i;function a(a,c){this.data=c||{},this.uri=a.toString(),b("TrackingConfig").domain&&this.uri.charAt(0)=="/"&&(this.uri=b("TrackingConfig").domain+this.uri)}a.prototype.setHandler=function(a){this.handler=a;return this};a.prototype.setTimeout=function(a){this.timeout=a;return this};a.prototype.send=function(){b("TimeSlice").guard(this._send.bind(this),"AsyncSignal send",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};a.prototype._send=function(){var a=this.handler,c=this.data;c.asyncSignal=(Math.random()*1e4|0)+1;var d=b("ZeroRewrites").rewriteURI(new(g||(g=b("URI")))(this.uri));d=b("isFacebookURI")(d)||b("isMessengerDotComURI")(d)||b("isAdsExcelAddinURI")(d)||b("isWorkplaceDotComURI")(d)||b("isValidAsyncSignalURI")(d);if(d)Object.assign(c,b("getAsyncParams")("POST"));else throw new Error("'"+this.uri+"' is an external URL, you should not send async signals to offsite links.");var e=b("QueryString").appendToUrl(this.uri,c);i||(i=new(b("Promise"))(function(a){b("Run").onAfterLoad(a)}));d=i.then(function(){return new(b("Promise"))(function(a,b){var c=new Image();c.onload=a;c.onerror=c.onabort=b;c.src=e})});if(a){var f=!1,j=b("memoize")(function(){(h||(h=b("ErrorGuard"))).applyWithGuard(a,null,[f])});b("promiseDone")(d.then(function(){f=!0,j()},j));this.timeout&&setTimeout(j,this.timeout)}return this};e.exports=a}),null);
__d("AsyncTypedRequest",["AsyncRequest"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.setReplaceTransportMarkers();return b}var c=b.prototype;c.promisePayload=function(b){return a.prototype.promisePayload.call(this,b)};c.setPayloadHandler=function(b){a.prototype.setPayloadHandler.call(this,b);return this};return b}(c("AsyncRequest"));g["default"]=a}),98);
__d("StringTransformations",[],(function(a,b,c,d,e,f){"use strict";a={unicodeEscape:function(a){return a.replace(/[^A-Za-z0-9\-\.\:\_\$\/\+\=]/g,function(a){a=a.charCodeAt(0).toString(16);return"\\u"+("0000"+a.toUpperCase()).slice(-4)})},unicodeUnescape:function(a){return a.replace(/(\\u[0-9A-Fa-f]{4})/g,function(a){return String.fromCharCode(parseInt(a.slice(2),16))})}};f["default"]=a}),66);
__d("WebStorageMonster",["AsyncRequest","CacheStorage","Event","ExecutionEnvironment","NetworkStatus","StringTransformations","UserActivity","WebStorage","WebStorageMonsterLoggingURI","ifRequired","isEmpty","killswitch","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4,i=5,j=!1;function k(a){var b={};for(var d in a){var e=a.getItem(d),f=c("StringTransformations").unicodeEscape(d);typeof e==="string"&&(b[f]=e.length)}return b}function l(a){var b=c("WebStorage").getLocalStorage();if(!b||a==null||!a.keys)return;o._getLocalStorageKeys().forEach(function(c){a.keys.includes(c)&&b.removeItem(c)})}function m(a){var b=c("WebStorage").getLocalStorage();b&&o._getLocalStorageKeys().forEach(function(c){a.some(function(a){return new RegExp(a).test(c)})||b.removeItem(c)})}function n(a,b){a===void 0&&(a=!1);b===void 0&&(b=h);if(c("UserActivity").isActive(b)){var d=Math.max(h,Math.floor(b/i));c("setTimeoutAcrossTransitions")(function(){n(a,d)},d)}else{o.cleanNow(a);var e=!c("killswitch")("WEB_STORAGE_MONSTER_DONT_RESCHEDULE_ON_RUN");if(e){var f=b*i;c("setTimeoutAcrossTransitions")(function(){n(a,f)},f)}}}var o={registerLogoutForm:function(a,b){c("Event").listen(a,"submit",function(a){o.cleanOnLogout(b)})},schedule:function(a){a===void 0&&(a=!1);if(j||!c("ExecutionEnvironment").isInBrowser)return;j=!0;n(a)},cleanNow:function(a){a===void 0&&(a=!1);var b=Date.now(),d={},e=c("WebStorage").getLocalStorage();e&&(d.local_storage=k(e));e=c("WebStorage").getSessionStorage();e&&(d.session_storage=k(e));e=!c("isEmpty")(d);var f=Date.now();d.logtime=f-b;if(e){var g,h=c("WebStorageMonsterLoggingURI").uri;if(h===null)return null;var i=function(){new(c("AsyncRequest"))(h).setData(d).setHandler(function(b){b=b.getPayload();b&&b.keys&&(b.keys=b.keys.map(c("StringTransformations").unicodeUnescape));a||l(b);c("NetworkStatus").reportSuccess()}).setErrorHandler(function(){c("NetworkStatus").reportError()}).setOption("retries",2).send()};if(c("NetworkStatus").isOnline())i();else{f=function(a){a=a.online;a&&(i(),g.remove())};g=c("NetworkStatus").onChange(f)}}},cleanOnLogout:function(a){c("CacheStorage").disablePersistentWrites();c("ifRequired")("AsyncStorage",function(a){a.disablePersistentWrites()});a?m(a):m([]);a=c("WebStorage").getSessionStorage();a&&a.clear();c("ifRequired")("AsyncStorage",function(a){a.clear(function(){})})},_getLocalStorageKeys:function(){var a=c("WebStorage").getLocalStorage();return a?Object.keys(a):[]}};a=o;g["default"]=a}),98);
__d("BootloaderEventsPerf",["invariant","Bootloader","BootloaderEvents","ResourceTimingStore","objectEntries","objectValues"],(function(a,b,c,d,e,f,g,h){var i={total_count:0,total_bytes:0,downloaded_count:0,downloaded_bytes:0,cached_count:0,cached_bytes:0,inlined_count:0,inlined_bytes:0,duration:0,missing_count:0};function j(a,b,c){return Math.max(0,((c=c)!=null?c:0)-Math.max(a,(c=b)!=null?c:0))}function k(){return{blocking:babelHelpers["extends"]({},i),nonblocking:babelHelpers["extends"]({},i),"default":babelHelpers["extends"]({},i)}}function l(a,b,c){var e,f;if(c==null)e=0,f="downloaded";else if(c[1])e=c[0].length,f="inlined";else{c=d("ResourceTimingStore").getEntryForURL(c[0]);c?(e=c.encodedBodySize,f=c.transferSize===0?"cached":"downloaded"):(e=0,f="downloaded",a.missing_count++)}a.total_count++;a.total_bytes+=e;if(!b)return;a.duration=Math.max(a.duration,b);switch(f){case"downloaded":a.downloaded_count++;a.downloaded_bytes+=e;break;case"inlined":a.inlined_count++;a.inlined_bytes+=e;break;case"cached":a.cached_count++;a.cached_bytes+=e;break}}function m(a,b,d,e,f){var g=c("Bootloader").getResourceState(b);l(a,j(d,g.loadStart,g.loadEnd),e);g.loadError!=null&&f.add(b)}function n(a,b,d,e){var f=k();for(var a=c("objectEntries")(a),g=Array.isArray(a),i=0,a=g?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var j;if(g){if(i>=a.length)break;j=a[i++]}else{i=a.next();if(i.done)break;j=i.value}j=j;var l=j[0];j=j[1];for(var j=j,n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;var q=p[0];p=p[1];var r=void 0,s=void 0;switch(p.type){case"async":s=null;r=d;break;case"js":case"css":s=[p.src,p.d===1];r=f;break;default:p,h(0,3721)}m(r[l],q,b,s,e)}}return f}function o(a,b){var e={unpredicted:d("BootloaderEvents").newResourceMapSet(),ef:d("BootloaderEvents").newResourceMapSet(),overpredicted:d("BootloaderEvents").newResourceMapSet()};for(var f=c("objectEntries")(b),g=Array.isArray(f),h=0,f=g?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=f.length)break;i=f[h++]}else{h=f.next();if(h.done)break;i=h.value}i=i;var j=i[0];i=i[1];for(var i=i.entries(),k=Array.isArray(i),l=0,i=k?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var m;if(k){if(l>=i.length)break;m=i[l++]}else{l=i.next();if(l.done)break;m=l.value}m=m;var n=m[0];m=m[1];a[j].has(n)?e.ef[j].set(n,m):e.overpredicted[j].set(n,m)}}for(var n=c("objectEntries")(a),m=Array.isArray(n),l=0,n=m?n:n[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(m){if(l>=n.length)break;k=n[l++]}else{l=n.next();if(l.done)break;k=l.value}i=k;j=i[0];h=i[1];for(var g=h.entries(),f=Array.isArray(g),a=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(a>=g.length)break;k=g[a++]}else{a=g.next();if(a.done)break;k=a.value}i=k;h=i[0];k=i[1];b[j].has(h)||e.unpredicted[j].set(h,k)}}return e}function a(a){var b=a.efData,c=a.rsrcs,d=a.startTime,e=new Set(),f;if(b){var g=o(c,b.tierOne);f=g.unpredicted;g={ef:n(g.ef,b.fetchRsrcsStart,k(),e),overpredicted:n(g.overpredicted,b.fetchRsrcsStart,k(),e)};b={ef_fetch_predictions:b.fetchPredictionsEnd-b.fetchPredictionsStart,ef_fetch_start_wait:b.fetchPredictionsEnd-b.fetchRsrcsStart,ef_head_start:d-b.fetchRsrcsStart}}else f=c,g={},b={};c=babelHelpers["extends"]({unpredicted:n(f,d,k(),e)},g);return{source:a.source,source_detail:a.sourceDetail,is_first_identical:a.isFirstIdentical,timeslice_context:(f=a.timesliceContext)==null?void 0:f.name,start_time:d,err_count:e.size,resources:c,durations:babelHelpers["extends"]({jsmods_wait:a.jsmodsStart-d,jsmods:a.jsmodsEnd-a.jsmodsStart,jsmods_done_wait:a.jsmodsEnd-d,download_done_wait:a.logTime-d},b),payloadStats:a.payloadStats}}function b(a){var b=a.startTime,e=0,f=0,g=0,h=0;for(var i=a.components,m=Array.isArray(i),o=0,i=m?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(m){if(o>=i.length)break;p=i[o++]}else{o=i.next();if(o.done)break;p=o.value}p=p;p=c("Bootloader").getComponentTiming(p);var q=p.tierTwoStart,r=p.tierTwoEnd,s=p.tierThreeStart;p=p.tierThreeEnd;e=Math.max(e,j(b,q,r));f=Math.max(f,j(b,b,r));g=Math.max(g,j(b,s,p));h=Math.max(h,j(b,b,p))}q=new Set();r=k();s=n(a.tierOne,b,r,q);p=n(a.tierTwo,b,r,q);o=n(a.tierThree,b,r,q);m=r.blocking.downloaded_count!=0;i=k();var t=d("BootloaderEvents").newResourceMapSet(),u=new Set(),v=[a.tierOne,a.tierTwo,a.tierThree];for(var w=0;w<v.length;w++){var x=v[w];for(var x=c("objectValues")(x),y=Array.isArray(x),z=0,x=y?x:x[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var A;if(y){if(z>=x.length)break;A=x[z++]}else{z=x.next();if(z.done)break;A=z.value}A=A;for(var A=A.keys(),B=Array.isArray(A),C=0,A=B?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var D;if(B){if(C>=A.length)break;D=A[C++]}else{C=A.next();if(C.done)break;D=C.value}D=D;u.add(D)}}}D=0;C=0;B=0;for(var A=a.beRequests.values(),z=Array.isArray(A),y=0,A=z?A:A[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(z){if(y>=A.length)break;x=A[y++]}else{y=A.next();if(y.done)break;x=y.value}v=x;D+=j(b,b,v.requestStart);C+=v.serverGenTime;B+=v.jsmodsEnd-v.jsmodsStart;l(i[m?"blocking":"nonblocking"],v.responseStart-v.requestStart,[v.uri,!1]);for(var w=c("objectEntries")(v.rsrcs),x=Array.isArray(w),v=0,w=x?w:w[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var E;if(x){if(v>=w.length)break;E=w[v++]}else{v=w.next();if(v.done)break;E=v.value}E=E;var F=E[0];E=E[1];for(var E=E,G=Array.isArray(E),H=0,E=G?E:E[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var I;if(G){if(H>=E.length)break;I=E[H++]}else{H=E.next();if(H.done)break;I=H.value}I=I;var J=I[0];I=I[1];u.has(J)||t[F].set(J,I)}}}J=n(t,b,r,q);return{ref:a.ref,components:a.components,timeslice_context:(I=a.timesliceContext)==null?void 0:I.name,start_time:b,err_count:q.size,resources:{t1:s,t2:p,t3:o,be:i,unpredicted:J,async:r},durations:{fetch_start_wait:a.fetchStartTime-b,be_start_wait:D,be_server_gen:C,be_jsmods:B,callback_wait:a.callbackStart-b,callback:a.callbackEnd-a.callbackStart,bootload_done_wait:a.callbackEnd-b,rdfd_requirelazy:e,rdfd_done_wait:f,rd_requirelazy:g,rd_done_wait:h}}}function e(a){a.start_time;var b=a.resources,d=a.durations;a=babelHelpers.objectWithoutPropertiesLoose(a,["start_time","resources","durations"]);for(var b=c("objectEntries")(b),e=Array.isArray(b),f=0,b=e?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g[0];g=g[1];for(var g=c("objectEntries")(g),i=Array.isArray(g),j=0,g=i?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=g.length)break;k=g[j++]}else{j=g.next();if(j.done)break;k=j.value}k=k;var l=k[0];k=k[1];for(var k=c("objectEntries")(k),m=Array.isArray(k),n=0,k=m?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=k.length)break;o=k[n++]}else{n=k.next();if(n.done)break;o=n.value}o=o;var p=o[0];o=o[1];a[h+"_"+l+"_resources_"+p]=Math.round(Number(o))}}}for(var p=c("objectEntries")(d),o=Array.isArray(p),n=0,p=o?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(o){if(n>=p.length)break;m=p[n++]}else{n=p.next();if(n.done)break;m=n.value}k=m;l=k[0];j=k[1];a[l+"_duration"]=Math.round(Number(j))}if(a.payloadStats){for(var i=c("objectEntries")(a.payloadStats),g=Array.isArray(i),h=0,i=g?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(g){if(h>=i.length)break;f=i[h++]}else{h=i.next();if(h.done)break;f=h.value}e=f;b=e[0];d=e[1];for(var m=c("objectEntries")(d),k=Array.isArray(m),l=0,m=k?m:m[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(k){if(l>=m.length)break;j=m[l++]}else{l=m.next();if(l.done)break;j=l.value}n=j;o=n[0];p=n[1];a[b+"_"+o+"_count"]=Math.round(Number(p))}}delete a.payloadStats}return a}g.computeHRData=a;g.computeBLData=b;g.flattenData=e}),98);
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("Queue",[],(function(a,b,c,d,e,f){var g={};a=function(){function a(a){this._timeout=null,this._interval=(a==null?void 0:a.interval)||0,this._processor=a==null?void 0:a.processor,this._queue=[],this._stopped=!0}var b=a.prototype;b._dispatch=function(a){var b=this;a===void 0;if(this._stopped||this._queue.length===0)return;a=this._processor;if(a==null){this._stopped=!0;throw new Error("No processor available")}var c=this._interval;if(c!=null)a.call(this,this._queue.shift()),this._timeout=setTimeout(function(){return b._dispatch()},c);else while(this._queue.length)a.call(this,this._queue.shift())};b.enqueue=function(a){this._processor&&!this._stopped?this._processor(a):this._queue.push(a);return this};b.start=function(a){a&&(this._processor=a);this._stopped=!1;this._dispatch();return this};b.isStarted=function(){return!this._stopped};b.dispatch=function(){this._dispatch(!0)};b.stop=function(a){this._stopped=!0;a&&this._timeout!=null&&clearTimeout(this._timeout);return this};b.merge=function(a,b){if(b){(b=this._queue).unshift.apply(b,a._queue)}else{(b=this._queue).push.apply(b,a._queue)}a._queue=[];this._dispatch();return this};b.getLength=function(){return this._queue.length};a.get=function(b,c){var d;b in g?d=g[b]:d=g[b]=new a(c);return d};a.exists=function(a){return a in g};a.remove=function(a){return delete g[a]};return a}();f["default"]=a}),66);